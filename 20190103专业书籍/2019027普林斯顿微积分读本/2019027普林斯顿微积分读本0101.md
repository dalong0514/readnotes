# 第1章 函数、图像和直线

没有函数的微积分是一件最无意义的事情。如果要列出微积分的要素，那么函数会排在最前面，而且是以很大的优势排在前面的。因此，本书的前两章旨在让你温习函数的主要特征。本章包含对下列主题的回顾。

函数：其定义域、上域、值域和垂线检验；

反函数和水平线检验；

函数的复合；

奇函数与偶函数；

线性函数和多项式的图像，以及对有理函数、指数函数和对数函数图像的简单回顾；

如何处理绝对值。

下一章会涉及三角函数。好啦，就让我们开始吧，一起来回顾一下到底什么是函数。

## 1.1 函数

函数是将一个对象转化为另一个对象的规则。起始对象称为输入，来自称为定义域的集合。返回的对象称为输出，来自称为上域的集合。

来看一些函数的例子吧。

假设你写出 f(x)=x^2，这就定义了一个函数 f，它会将任何数变为自己的平方。由于你没有说明其定义域或上域，我们不妨假设它们都属于，即所有实数的集合。这样，你就可以将任何实数平方，并得到一个实数。例如，f 将 2 变为 4、将 -1/2 变为 1/4，将 1 变为 1。最后一个变换根本没有什么变化，但这没问题，因为转变后的对象不需要有别于原始对象。当你写出 f(2)=4 的时候，这实际上意味着 f 将 2 变为 4。顺便要说的是，f 是一个变换规则，而 f(x) 是把这个变换规则应用于变量 x 后得到的结果。因此，说「f(x) 是一个函数」是不正确的，应该说「f 是一个函数」。

现在，令 g(x)=x^2，其定义域仅包含大于或等于零的数(这样的数称为非负的)。它看上去好像和函数 f 是一样的，但实际不同，因为定义域不同。例如，f(-1/2)=1/4，但 g(-1/2) 却是没有定义的。函数 g 会拒绝非其定义域中的一切。由于 g 和 f 有相同的规则，但 g 的定义域小于 f 的定义域，因而我们说 g 是由限制 f 的定义域产生的。

仍然令 f(x)=x^2，f(马) 会是什么呢？这显然是无定义的，因为你不能平方一匹马呀。另一方面，让我们指定「h(x)=x的腿的个数」，其中 h 的定义域是所有动物的集合。这样一来，我们就会得到 h(马)=4，h(蚂蚁)=6，h(鲑鱼)=0。因为动物腿的个数不会是负数或者分数，所以其上域可以是所有非负整数的集合。顺便问一下，h(2) 会是什么呢？当然，这也是没有定义的，因为 2 不在其定义域中。「2」究竟会有几条腿呢？这个问题实际上没有任何意义。你或许也可以认为 h(椅子)=4，因为多数椅子都有四条腿，但这也没有意义，因为椅子不是动物，所以「椅子」不在 h 的定义域当中。也就是说，h(椅子)是没有定义的。

假设你有一条狗，它叫 Junkster。可怜的 Junkster 不幸患有消化不良症。它吃点东西，嚼一会儿，消化食物，可每次都失败，都会吐出来。Junkster 将食物变成了……我们可以令「j(x)=当Junkster吃x时呕吐物的颜色」，其中 j 的定义域是 Junkster 所要吃的食物的集合。其上域是所有颜色的集合。为了使之有效，我们必须认为如果 Junkster 吃了玉米面卷，它的呕吐物始终是一种颜色(假设是红色的吧)。如果有时候是红色的，而有时候是绿色的，那就不太好了，一个函数必须给每一个有效的输入指定唯一的输出。

现在我们要来看看函数值域的概念。值域是所有可能的输出所组成的集合。你可以认为函数转变其定义域中的一切，每次转变一个对象；转变后的对象所组成的集合称作值域。可能会重复，但这也没什么。

那么，为什么值域和上域不是一回事呢？值域实际上是上域的一个子集。上域是可能输出的集合，而值域则是实际输出的集合。下面给出上述函数的值域。

如果 f(x)=x^2，其定义域和上域均为，其值域是非负数的集合。毕竟，平方一个数，其结果不可能是负数。那你又如何知道值域是所有的非负数呢？如果平方每一个数，结果一定包括所有的非负数。例如，平方「根号2」或「负根号2」结果都是 2。

如果 g(x)=x^2，其中，g 的定义域仅为非负数，但其上域仍是所有实数，其值域又是非负数的集合。当平方每一个非负数时，结果仍然会包括所有的非负数。

如果 h(x) 是动物 x 的腿的个数，那么其值域就是任何动物可能会有的腿的个数的集合。我可以想到有 0、2、4、6 和 8 条腿的动物，也有一些有更多条腿的爬行动物。如果你还想到了个别的像失去一条或多条腿的动物，也可以将 1、3、5 和 7 等其他可能的数加入其值域。不管怎样，这个函数的值域并不是很清晰。要想了解真实的答案，你或许必须得是一位生物学家。

最后，如果 j(x) 是当 Junkster 吃 x 时呕吐物的颜色，那么其值域就会包含所有可能的呕吐物的颜色。我很怕去想它们会是什么样的，但或许亮蓝色不在其中吧。

### 1.1.1 区间表示法

在本书剩余部分，我们的函数总有上域，并且其定义域总会尽可能和差不多(除非另有说明)。因此，我们会经常涉及实轴的子集，尤其是像 {x:2≤x<5} 这样的了连通区间。像这样写出完整的集合有点儿烦，但总比说「介于2和5之间的所有数，包括2但不包括5」要强。使用区间表示法会让我们做得更好。

我们写 [a，b] 是指从 a 到 b 端点间的所有实数，包括 a 和 b。所以 [a，b] 指的是所有使得 a≤x≤b 成立的 x 的集合。

例如，[2，5] 是所有介于 2 和 5 之间(包括2和5)的实数的集合。(它不仅仅包括 2、3、4 和 5，不要忘记还有一大堆处于 2 和 5 之间的分数和无理数，比如 5/2、和 π。)像 [a，b] 这种形式表示的区间我们称作闭区间。

如果你不想包括端点，把方括号变为圆括弧就行了。所以 (a，b) 指的是介于 a 和 b 之间、但不包括 a 和 b 的所有实数的集合。这样，如果 x 在区间 (a，b) 中，我们就知道 a<x<b。集合 (2，5) 表示介于 2 和 5 之间、但不包括 2 和 5 的所有实数。像 (a，b) 这种形式表示的区间我们称作开区间。

你也可以混和匹配：[a，b) 指的是介于 a 和 b 之间、包括 a 但不包括 b 的所有实数的集合；(a，b] 包括 b，但不包括 a。这些区间在一个端点处是闭的，而在另一个端点处是开的。有时候，像这样的区间我们称作半开区间。上述的 {x:2≤x<5} 就是一个例子，也可以写成 [2，5)。

还有一个有用的记号就是 (a，∞)，它是指大于 a 但不包括 a 的所有数；[a，∞) 也一样，只是它包括 a。还有 3 个涉及 ∞ 的可能性。总而言之，情况如下。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019069.PNG)

### 1.1.2 求定义域

有时候，函数的定义中包括了定义域。（确实如此，比如 1.1 节中的函数 g）然而，大多数情况下，定义域是没有给出的。

按照惯例，定义域包括尽可能多的实数集合。例如 k(x)=√x，其定义域就不可能是 R 中的所有实数，因为不可能得到一个负数的平方根。其定义域一定是 [0，∞)，就是大于或等于 0 的所有实数的集合。

好了，我们知道取负数的平方根会出问题。那么，还有什么会把问题搞糟呢？以下是 3 种最常见的情况。

1. 分数的分母不能是零。

2. 不能取一个负数的平方根(或四次根，六次根，等等)。

3. 不能取一个负数或零的对数。(还记得对数函数吗？如果忘了，就请看看第 9 章！)

或许你还记得 tan(90°) 也是一个问题，但这实际上是上述第一项的特例。你看，

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019070.PNG)

所以，tan(90°) 是无定义的，实际上是因为其隐藏的分母为零。这里还有一个例子：如果我们定义，

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019071.PNG)

那么，f 的定义域是什么呢？当然，为了使 f(x) 有意义，以下是我们必须要做的。

- 我们需要取 (26-2x) 的平方根，所以，这个量必须是非负的。也就是说，26-2x≥0。还可以写成 x≤13。

- 我们也需要取 (x+8) 的对数，所以，这个量必须是正的。（注意对数和平方根的区别：可以取 0 的平方根，但不能取 0 的对数。)不管怎么说，我们需要 x+8>0，所以 x>-8）。到现在为止，我们知道 -8<x≤13，所以，定义域最多是(-8，13]。

- 分母不能为 0，这就是说 (x-2)≠0 且 (x+19)≠0。换句话说，x≠2 且 x≠-19。最后一个条件不是问题，因为我们已经知道 x 处于 (-8，13] 内，所以 x 不可能是 -19。我们还应该把 2 去掉。

这样，我们就找到了其定义域是除了 2 以外的集合(-8，13]。这个集合可以写作 (-8，13]\{2}，这里的反斜杠表示「不包括」。

### 1.1.3 利用图像求值域

让我们来定义一个新的函数 F，指定其定义域为 [-2，1]，并且，F(x)=x^2 在此定义域上。(记住，我们看到的任何函数的上域总是所有实数的集合。)其中，对于所有的实数 x，f(x)=x^2，F 和 f 是同一个函数吗？回答是否定的，因为两个函数的定义域不相同(尽管它们有相同的函数规则)。正如 1.1 节中的函数 g，函数 F 是由限制 f 的定义域得到的。

现在，F 的值域又是什么呢？如果你将 -2 到 1 之间(包括 -2 和 1)的每一个实数平方的话，会发生什么呢？

你应该有能力直接求解，但这是观察如何利用图像来求一个函数的值域的很好机会。基本思想就是画出函数图像，然后想象从图像的左边和右边很远的地方朝向 y 轴水平地射入两束亮光。曲线会在 y 轴上有两个影子，一个在 y 轴的左侧，另一个在 y 轴的右侧。值域就是影子的并集；也就是说，如果 y 轴上的任意一点落在左侧或是右侧的影子里，那么它处于函数的值域中。我们以函数 F 为例来看一下图 1-1 这是怎么运作的吧。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019072.PNG)

图 1-1

图 1-1 中左侧的影子覆盖了在 y 轴从 0 到 4(包括 0 和 4)的所有点，也就是 [0，4]；另一方面，右侧的影子覆盖了从 0 到 1(包括 0 和 1)的所有点，也就是 [0，1]。右侧的影子没有任何其他的贡献，全部的覆盖范围仍然是 [0，4]。这就是函数 F 的值域。

### 1.1.4 垂线检验

在上一节中，我们利用一个函数的图像来求其值域。函数的图像非常重要：它真正地展示了函数「看起来是什么样子的」。在第 12 章，我们将会看到画图技巧，但现在，我很想提醒你注意的是垂线检验。

你可以在坐标平面上画任何你想画的图形，但结果可能不是一个函数的图像。所以，函数的图像有什么特别之处呢？或者说，什么是函数 f 的图像呢？

它是所有坐标为 (x，f(x)) 的点的集合，其中，x 在 f 的定义域中。还有另外一种方式来看待它：我们以某个实数 x 开始。如果 x 在定义域中，你就画点 (x，f(x))，它自然是，在 x 轴上的点 x 的正上方，高度为 f(x)。如果 x 没有在定义域中，你不能画任何点。现在，对于每一个实数 x，我们重复这个过程，从而构造出函数的图像。

这里有个重要思想：你不可能有两个点有相同的 x 坐标。换句话说，在图像上没有两个点会落在相对于 x 轴的同一条垂线上。要不然，你又将如何知道在点 x 上方的两个或多个高度的点中，哪一个是对应于 f(x) 的值呢？

这样，就有了垂线检验：如果你有某个图像并且想知道它是否是函数的图像，就来看看是否任何的垂线和图像相交多于一次。如果是这样的话，那它就不是函数的图像；反之，如果没有一条垂线和图像相交多于一次，那么你的确是在处理函数的图像。

例如，以原点为中心，半径为 3 个单位的圆的图像，如图 1-2 所示。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019073.PNG)

图 1-2

这么普通的对象应该是个函数，对吗？不对，让我们进行如图所示的垂线检验。当然，在 -3 的左边或是 3 的右边都没有问题(垂线甚至都没有击中图像)，这很好。就连在 -3 或 3 上，垂线和图像也仅仅有一次相交，这也很好。问题出在 x 落在区间 (-3，3) 上时。对于这其中的任意 x 值，垂线通过 (x，0) 和圆相交两次，这就扭曲了圆的潜在函数特质。你不知道 f(x) 到底是对应上方的点还是下方的点。

最好的解决方法是把圆分成上下两个半圆，并只选择上一半或者下一半。整个圆的方程是 x^2+y^2=9，然而，上半圆的方程是 y=√(9-x^2)，下半圆的方程是 y=-√(9-x^2)。这最后两个就是函数了，定义域都是 [-3，3]。你可以以不同的方式来分割，实际上，你不是必须要把它分成半圆(可以分割并改变上半圆和下半圆，只要不违反垂线检验就行了。)

例如，图 1-3 也是一个函数的图像，其定义域也是 [-3，3]：

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019074.PNG)

图 1-3

## 1.2 反函数

我们假设一个函数 f。你给了它一个输入 x；如果 x 在 f 的定义域中，就能得到一个输出，我们称它为 f(x)。现在，我们把过程倒过来，并问：如果你选一个实数 y，那么应该赋予 f 什么样的输入才能得到这个输出 y 呢？

用数学语言来陈述这个问题就是：给定一个实数 y，那么在 f 定义域中的哪个 x 满足 f(x)=y？首先要注意的是，y 必须在 f 的值域中。否则，根据定义，将不再有 x 的值使得 f(x)=y 成立了。在 f 定义域中也许没有这样的 x 满足 f(x)=y，因为值域是所有的可能输出。

另一方面，如果 y 在值域当中，也可能会有很多值都满足 f(x)=y。例如 f(x)=x^2(其定义域为，我们的问题是 x 取何值时会输出 64。很显然，有两个 x 值：8 和 -8。另外，如果 g(x)=x^3，对于相同的问题，这时只有一个 x 值，就是 4。对于我们赋予 g 的任意一个实数去做变换，结果都是一样的，因为任何数都只有一个(实数)立方根。

所以，这里有一种情形：给定一个函数 f，我们在 f 的值域中选择 y。在理想状况下，仅有一个 x 值满足 f(x)=y。如果上述理想状况对于值域中的每一个 y 来说都成立，那么就可以定义一个新的函数，它将逆转变换。我们以输出 y 开始，这个新的函数发现一个且仅有一个输入 x 满足 f(x)=y。这个新的函数称为 f 的反函数，并写作 f-1。以下是使用数学语言对上述情况的总结。

1. 从一个函数 f 出发，使得：对于在 f 值域中的任意 y，都只有唯一的 x 值满足 f(x)=y。也就是说，不同的输入对应不同的输出。现在，我们就来定义反函数 f-1。

2. f-1 的定义域和 f 的值域相同。

3. f-1 的值域和 f 的定义域相同。

4. f-1(y) 的值就是满足 f(x)=y 的 x。所以，如果 f(x)=y，那么 f-1(y)=x。

变换 f-1 就像是 f 的恢复按钮：如果你以 x 开始，并通过函数 f 将它变换为 y，那么可以通过在 y 上的反函数 f-1 来恢复这个变换的效果，取回 x。

这会引发一些问题：你是如何知道只有唯一的 x 值满足 f(x)=y 的呢？如果是这样，如何求得反函数呢？如何知道其图像是什么样子的呢？如果不是这样，你又如何挽救这一局面呢？在接下来的 3 个小节中我们会对这些问题做出回答。

### 1.2.1 水平线检验

对于第一个问题——如何知道对于 f 值域中的任意 y，只有一个 x 值满足 f(x)=y，最好的方法也许是看一下函数图像。我们想要在 f 值域中选择 y，并且希望只有一个 x 值满足 f(x)=y。这就意味着通过点 (0，y) 的水平线应该和图像仅有一次相交，且交点为点 (x，y)。那个 x 就是我们想要的。如果水平线和曲线相交多于一次，那将会有多个可能的对应 x 值，情况会很糟。如果是那样，获得反函数唯一的方法就是对定义域加以限制，我们很快会讨论这一点。如果水平线根本就没有和曲线相交，会怎样呢？就是 y 根本没有在值域当中，这样也不错。

这样一来，我们就可以描述水平线检验：如果每一条水平线和一个函数的图像相交至多一次，那么这个函数就有一个反函数。如果即使只有一条水平线和图像相交多于一次，那么这个函数就没有反函数。例如，我们来看一下图 1-4 中 f(x)=x^3 和 g(x)=x^2 的图像。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019091.PNG)

图 1-4

没有一条水平线和 y=f(x) 相交多于一次，所以 f 有一个反函数。另一方面，一些水平线和曲线 y=g(x) 相交两次，所以 g 没有反函数。这里有个问题：如果通过 y=x^2 来求解 x，其中 y 为正，那么就会出现两个解：x=√y 和 x=-√y。你不知道要取哪一个。

### 1.2.2 求逆

现在，来看我们的第二个问题：如何求得函数 f 的反函数呢？你记下 y=f(x)，并试图解出 x。在 f(x)=x^3 的例子中，有 y=x^3，所以 x=3√y。这就意味着 f-1(y)=3√y，如果你不喜欢变量 y，可以将它改写为 x，如果你愿意，可以写成 f-1(x)=3√x。当然了，求解 x 并不总是那么简单，事实上，求解经常是不可能的。

另一方面，如果你知道函数图像是什么样子的，反函数的图像就会很容易画出来。基本思想就是在图像上画一条 y=x 的直线，然后将这条直线假想为一个双面的镜子。反函数就是原始函数的镜面反射。如果 f(x)=x^3，那么 f-1 的图像如图 1-5 所示。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019092.PNG)

图 1-5

原始函数 f 在 y=x 这面「镜子」中被反射，从而得到反函数。注意：f 和 f-1 的定义域和值域都是整个实轴。

### 1.2.3 限制定义域

终于，我们要提及第三个问题了：如果水平线检验失败并且没有反函数，那应该怎么办呢？我们的问题是，对于相同的 y 有多个 x 值。解决此问题的唯一方法是：除了这些多个 x 值中的一个，我们放弃所有其他值。也就是说，我们必须决定要保留哪一个 x 值，然后放弃剩余的值。正如在 1.1 节中看到的，这称为限制函数的定义域。事实上，我们删去部分曲线，使得保留下来的部分能够通过水平线检验。例如 g(x)=x^2，可以删除左半边的图像，如图 1-6 所示。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019093.PNG)

图 1-6

这条新的(实线的)曲线将定义域缩减为 [0，∞)，并且满足水平线检验，所以它有反函数。更确切地说，定义在定义域 [0，∞) 上的函数 h 有反函数，其中 h(x)=x^2。让我们用镜面游戏来看一下它到底是什么样子的。

为了找到反函数的方程，我们必须在方程 y=x^2 中解出 x。很明显，问题的解就是 x=√y 或 x=-√y，但是我们需要哪一个呢？我们知道反函数的值域和原始函数的定义域是相同的，它被限制为 [0，∞)，所以我们需要一个非负的数来作为答案，即 x=√y。这就是说，h-1(y)=√y。当然，我们也可以把原始图像的右半边删除，将定义域限制为 (-∞，0]。在那种情况下，我们得到一个定义域为 (-∞，0]的函数j，并且也满足 j(x)=x^2，但是只是在这个定义域上才成立。这个函数也有反函数，反函数是负的平方根，即 j-1(y)=-√y，如图 1-7 所示。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019094.PNG)

图 1-7

顺便说一下，如果你取的原始函数 g 定义是 g(x)=x^2，其定义域为 (-∞，∞)，没有通过水平线检验，并且你试图将它在镜面 y=x 中反射，那么会得到如图 1-8 图像。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019095.PNG)

图 1-8

注意，这个图像不会通过垂线检验，所以它不是函数的图像。这说明垂线检验和水平线检验之间有一定的联系，即当水平线被镜面 y=x 反射后会变成垂线。

### 1.2.4 反函数的反函数

有关反函数还有一点：如果 f 有反函数，那么对于在 f 定义域中的所有 x，f-1(f(x))=x 成立；同样，对于在 f 值域当中的所有 y，都有 x，f(f-1(y))=y。(记住，f 的值域和 f-1 的定义域相同，所以的确可以取 f-1(y) 作为 f 值域当中的 y，不会导致任何曲解。)

例如 f(x)=x^3，f 的反函数由 f-1(x)=3√x 给出，所以对于任意的 x，f-1(f(x))=3√(x^3)=x。不要忘记，反函数就像是恢复按钮。我们使用 x 作为 f 的输入，然后给出输出到 f-1；这就恢复了变换并且我们取回了 x 这个原始的数。类似地，f(f-1(y))=(3√y)^3。所以，f-1 是 f 的反函数，且 f 是 f-1 的反函数。换句话说，反函数的反函数就是原始函数。

现在，对于限制定义域的情况一定要当心。令 g(x)=x^2，我们已经看到你需要对其定义域加以限制，方能取得反函数。如果我们把定义域限制为 [0，∞)，但由于粗心，把函数继续看成是 g 而不是 h，正如先前小节所述。我们便会说。如果你真要计算 g(g-1(x))，就会发现它是，如果 x≥0，它就等于 x。(否则，从一开始你就无法取得平方根。)

另一方面，如果你解出 g-1(g(x))，你会得到，它不是总和 x 相同。例如，如果 x=-2，那么 x^2=4，。所以，总的说来，g-1(g(x))=x 不成立。问题是 -2 没有在 g 的限制定义域当中。而且，从技术角度而言，你甚至不可能计算 g(-2)，因为 -2 不再属于 g 的定义域了。我们确实应该使用 h，而不是 g，这样我们要记得更加小心。尽管如此，在实际中，数学家们会经常不改变字母来限制定义域！所以，把这种情形总结如下对大家是很有帮助的。

如果一个函数 f 的定义域可以被限制，使得 f 有反函数 f-1，那么对于 f 值域中的所有 y，都有 f(f-1(y))=y；但是 f-1(f(x)) 可能不等于 x；事实上，f-1(f(x))=x 仅当 x 在限制的定义域中才成立。

在 10.2.6 节，对于反三角函数，我们会继续讨论这些要点。



## 记忆时间

英语原书出版时间：2011 年。

中文版《代码整洁之道》出版时间：2012 年第一版；得到上的电子书出版时间是 2016 年，应该是再印刷的版次。

本书是编程大师「Bob 大叔」40 余年编程生涯的心得体会的总结，讲解要成为真正专业的程序员需要具备什么样的态度，需要遵循什么样的原则，需要采取什么样的行动。作者以自己以及身边的同事走过的弯路、犯过的错误为例，意在为后来者引路，助其职业生涯迈上更高台阶本书适合所有程序员阅读，也可供所有想成为具备职业素的职场人士参考。

## 卡片

### 0101. 反常识卡——

这本书的主题核心，就是最大的反常识卡，并且注意时间脉络。

### 0201. 术语卡——

根据反常识，再补充三个证据——就产生三张术语卡。

### 0202. 术语卡——

### 0203. 术语卡——

### 0301. 人名卡 —— Robert C. Martin

Robert C. Martin（19-），人称 Bob 大叔，大师中的大师。代表作有：。

Robert C. Martin ("Uncle Bob") has been a programmer since 1970. He is founder and president of Object Mentor, Inc., an international firm of highly experienced software developers and managers who specialize in helping companies get their projects done. Object Mentor offers process improvement consulting, object-oriented software design consulting, training, and skill development services to major corporations worldwide. Martin has published dozens of articles in various trade journals and is a regular speaker at international conferences and trade shows. He has authored and edited many books, including:

• Designing Object Oriented C++ Applications Using the Booch Method.

• Patterns Languages of Program Design 3.

• More C++ Gems.

• Extreme Programming in Practice.

• Agile Software Development: Principles, Patterns, and Practices.

• UML for Java Programmers.

• Clean Code.

A leader in the industry of software development, Martin served for three years as editor-in-chief of the C++ Report, and he served as the first chairman of the Agile Alliance. Robert is also the founder of Uncle Bob Consulting, LLC, and cofounder with his son Micah Martin of The Clean Coders LLC.

### 0401. 金句卡——

### 0501. 任意卡——

Between 1986 and 2000 I worked closely with Jim Newkirk, a colleague from Teradyne. He and I shared a passion for programming and for clean code. We would spend nights, evenings, and weekends together playing with different programming styles and design techniques. We were continually scheming about business ideas. Eventually we formed Object Mentor, Inc., together.

I learned many things from Jim as we plied our schemes together. But one of the most important was his attitude of work ethic; it was something I strove to emulate. Jim is a professional. I am proud to have worked with him, and to call him my friend.

## Foreword

You've picked up this book, so I assume you are a software professional. That's good; so am I. And since I have your attention, let me tell you why I picked up this book. It all starts a short time ago in a place not too far away. Cue the curtain, lights and camera, Charley ….

Several years ago I was working at a medium-sized corporation selling highly regulated products. You know the type; we sat in a cubicle farm in a three-story building, directors and up had private offices, and getting everyone you needed into the same room for a meeting took a week or so.

We were operating in a very competitive market when the government opened up a new product. Suddenly we had an entirely new set of potential customers; all we had to do was to get them to buy our product. That meant we had to file by a certain deadline with the federal government, pass an assessment audit by another date, and go to market on a third date.

Over and over again our management stressed to us the importance of those dates. A single slip and the government would keep us out of the market for a year, and if customers couldn't sign up on day one, then they would all sign up with someone else and we'd be out of business. It was the sort of environment in which some people complain, and others point out that "pressure makes diamonds."

I was a technical project manager, promoted from development. My responsibility was to get the web site up on go-live day, so potential customers could download information and, most importantly, enrollment forms. My partner in the endeavor was the business-facing project manager, whom I'll call Joe. Joe's role was to work the other side, dealing with sales, marketing, and the non-technical requirements. He was also the guy fond of the "pressure makes diamonds" comment.

If you've done much work in corporate America, you've probably seen the finger-pointing, blamestorming, and work aversion that is completely natural. Our company had an interesting solution to that problem with Joe and me.

A little bit like Batman and Robin, it was our job to get things done. I met with the technical team every day in a corner; we'd rebuild the schedule every single day, figure out the critical path, then remove every possible obstacle from that critical path. If someone needed software; we'd go get it. If they would "love to" configure the firewall but "gosh, it's time for my lunch break," we would buy them lunch. If someone wanted to work on our configuration ticket but had other priorities, Joe and I would go talk to the supervisor.

Then the manager.

Then the director.

We got things done.

It's a bit of an exaggeration to say that we kicked over chairs, yelled, and screamed, but we did use every single technique in our bag to get things done, invented a few new ones along the way, and we did it in an ethical way that I am proud of to this day.

I thought of myself as a member of the team, not above jumping in to write a SQL statement or doing a little pairing to get the code out the door. At the time, I thought of Joe the same way, as a member of the team, not above it.

Eventually I came to realize that Joe did not share that opinion. That was a very sad day for me. It was Friday at 1:00 pm; the web site was set to go live very early the following Monday.

We were done. *DONE*. Every system was go; we were ready. I had the entire tech team assembled for the final scrum meeting and we were ready to flip the switch. More than "just" the technical team, we had the business folks from marketing, the product owners, with us.

We were proud. It was a good moment.

Then Joe dropped by.

He said something like, "Bad news. Legal doesn't have the enrollment forms ready, so we can't go live yet."

This was no big deal; we'd been held up by one thing or another for the length of the entire project and had the Batman/Robin routine down pat. I was ready, and my reply was essentially, "All right partner, let's do this one more time. Legal is on the third floor, right?"

Then things got weird.

Instead of agreeing with me, Joe asked, "What are you talking about Matt?"

I said, "You know. Our usual song and dance. We're talking about four PDF files, right? That are done; legal just has to approve them? Let's go hang out in their cubicles, give them the evil eye, and get this thing done!"

Joe did not agree with my assessment, and answered, "We'll just go live late next week. No big deal."

You can probably guess the rest of the exchange; it sounded something like this:

Matt: "But why? They could do this in a couple hours."

Joe: "It might take more than that."

Matt: "But they've got all weekend. Plenty of time. Let's do this!"

Joe: "Matt, these are professionals. We can't just stare them down and insist they sacrifice their personal lives for our little project."

Matt: (pause) ". . . Joe . . . what do you think we've been doing to the engineering team for the past four months?" Joe: "Yes, but these are professionals."

Pause.

Breathe.

What. Did. Joe. Just. Say?

At the time, I thought the technical staff were professionals, in the best sense of the word.

Thinking back over it again, though, I'm not so sure.

Let's look at that Batman and Robin technique a second time, from a different perspective. I thought I was exhorting the team to its best performance, but I suspect Joe was playing a game, with the implicit assumption that the technical staff was his opponent. Think about it: Why was it necessary to run around, kicking over chairs and leaning on people?

Shouldn't we have been able to ask the staff when they would be done, get a firm answer, believe the answer we were given, and not be burned by that belief? Certainly, for professionals, we should . . . and, at the same time, we could not. Joe didn't trust our answers, and felt comfortable micromanaging the tech team—and at the same time, for some reason, he did trust the legal team and was not willing to micromanage them.

What's that all about?

Somehow, the legal team had demonstrated professionalism in a way the technical team had not.

Somehow, another group had convinced Joe that they did not need a babysitter, that they were not playing games, and that they needed to be treated as peers who were respected.

No, I don't think it had anything to do with fancy certificates hanging on walls or a few extra years of college, although those years of college might have included a fair bit of implicit social training on how to behave.

Ever since that day, those long years ago, I've wondered how the technical profession would have to change in order to be regarded as professionals.

Oh, I have a few ideas. I've blogged a bit, read a lot, managed to improve my own work life situation and help a few others. Yet I knew of no book that laid out a plan, that made the whole thing explicit.

Then one day, out of the blue, I got an offer to review an early draft of a book; the book that you are holding in your hands right now.

This book will tell step by step exactly how to present yourself and interact as a professional. Not with trite cliché, not with appeals to pieces of paper, but what you can do and how to do it.

In some cases, the examples are word for word.

Some of those examples have replies, counter-replies, clarifications, even advice for what to do if the other person tries to "just ignore you."

Hey, look at that, here comes Joe again, stage left this time:

Oh, here we are, back at BigCo, with Joe and me, once more on the big web site conversion project.

Only this time, imagine it just a little bit differently.

Instead of shirking from commitments, the technical staff actually makes them. Instead of shirking from estimates or letting someone else do the planning (then complaining about it), the technical team actually self-organizes and makes real commitments.

Now imagine that the staff is actually working together. When the programmers are blocked by operations, they pick up the phone and the sysadmin actually gets started on the work.

When Joe comes by to light a fire to get ticket 14321 worked on, he doesn't need to; he can see that the DBA is working diligently, not surfing the web. Likewise, the estimates he gets from staff seem downright consistent, and he doesn't get the feeling that the project is in priority somewhere between lunch and checking email. All the tricks and attempts to manipulate the schedule are not met with, "We'll try," but instead, "That's our commitment; if you want to make up your own goals, feel free."

After a while, I suspect Joe would start to think of the technical team as, well, professionals. And he'd be right.

Those steps to transform your behavior from technician to professional? You'll find them in the rest of the book.

Welcome to the next step in your career; I suspect you are going to like it.

— Matthew Heusser Software Process Naturalist

几年前，我在一家中等规模的公司工作，公司销售的是政府严格管制的产品。这类公司的样子你肯定想象得出：办公场所位于ー幢三层小楼里，我们坐的是格子间，总监级以上人物则可以拥有私办公室；把相关人员召集到会议室里开个会，可能得花一周左右的时间。我们所在的市场竞争非常激烈。这时，政府放开了一个新产品。突然间我们拥有了一批全新的潜在客户，我们所要做的就是让他们购买我们的产品。这意味着必须在某个截止日期前向联邦政府提出申请，在另一个截止日期前通过评估审计，并在第三个截止日期前完成交付。

管理层一遍又一遍地向我们强调这些截止日期的重要性。如果延期一次，政府就会把我们列进当年的黑名单。如果客户们没有在第一时间和我们签约，他们无一例外会选择其他供应商。如果拿不到订单，我们就彻底出局了在这种环境下，有些人会抱怨，有些人则会说：「艰难困苦，玉汝于成」。

我那时是从开发部门晋升上来负责技术方面工作的项目经理。我的职责是确保网站按期上线，这样潜在客户便可以从网站上下载资料，其中最重要的资料是注册表单。负责业务方面的项目经理是我的搭档，我叫他 Joe。Joe 的工作职责是销售、做市场推广和分析非技术性需求。这位老兄平素也挺喜欢拿「艰难困苦，玉汝于成」这样的调调说事。

如果你在美国公司工作过，肯定知道指、过失追究和工作厌恶症都是司空见惯的。不过在我们公司里，Joe 和我有个十分有效的办法来解决这类问题。我们这对搭档有点儿像蝙蝠侠与罗宾，任务就是要把事情搞定。我每天都会和技术团队会面；我们每一天都会调整计划，找到关键路径，扫除在关键路径上所有可能出现的障碍。如果有人需要什么软件，我们就去弄来。如果有人一边抱怨「天哪，我该吃午饭了」，一边说自己更「喜欢」配置防火墙，我们就会给他带午餐。如果有人想去搞定配置问题，但手上还有其他更重要的事项要去处理，Joe 和我便会去找他的主管协调。

如果不行，就去找经理。再不行，就去找总监。总之，肯定会把事情搞定。

如果说我们常常大动肝火、踢椅子，以大吼大叫的方式来沟通，这可能有点儿夸张了，但我们确实使尽了浑身解数来搞定遇到的每件事情，还想出了些新办法。让我一直自豪的是，我们并没有违背职业道德，没有为达目的不择手段。我认为自己是団队的一员，而非凌驾于团队之上、只会中途插进去写一句 SQL 语句或做点儿结对编程写一两句代码的那种人。当时，我也是如此看待 Joe 的，认为他也是团队成员之一，而不是凌驾于团队上，置身事外。

后来我才明白，Joe 自己并不是这么看的。对我来说，这是令人很郁闷的一天。那是个星期五下午的一点钟，下周一早，网站就要按计划上线了。

完工了。DONE。每个系统都已就绪，我们已经准备好了。我把整个技术团队召集在一起，召开最后一次 Scrum 会议，准备上线。与会的不只是技术团队，还有市场销、产品负责人这些业务人员。我们感到十分自豪。这真是个美妙的时刻。

这时，Joe 进来了。他大致是这样说的：「有些坏消息。法务还没准备好注册表单，因此网站还不能启用。」这没什么大不了的。在整个项目过程中，我们时常受阻，不是因为这样的事就是因为那样的事，但是，对付这些障碍，我们的「蝙蝠侠与罗宾」这招却屡试不爽。我对此已有对策：「好的，伙计，我们再试试老办法。法务在三楼，对吧？」

气氛不太对头。Joe 并没有同意我的提议，而是反问：「Matt，你是什么意思？」我说：「你知道的。我们的经典配合。我们现在谈论的就只是四个 PDF 文件，对不对？这些 PDF 文件已经准备好，就差法务批准下就可以了，是不是？我们只要在他们旁边牢他们，应该就可以把这件事情搞定的。」

Joe 不同意，他回答说：「我们下周只需迟些时候上线网站就可以。没什么大不了的。」你可能已经猜到了后续的交谈，大致像下面这样。

Matt：「但是为什么呢？他们只需要几个小时就可以搞定的。」Joe：「几个小时可能不够。」

Matt：「但是他们整个周末都可以处理啊。时间很充裕。就这么办吧！」Joe：「Matt，这些法务都是专业人士。我们不能逼迫他们，没理由要求他们为了我们这个小小的项目而牺牲个人时间。」

Matt：（暫停）「………Joe… 那你对过去这四个月来我们对技术团队所做的事情又做何感想？」Joe：「没错，但是这些法务可是专业人士。」

冷场。Joe 刚才说什么来着？那时，我认为把「专业人士」这个词用在技术人员身上最贴切不过。但现在仔细回想一下，我对此已经不那么确定了。

让我们一个视角，再来看看「蝙蝠侠与罗宾」技术。我认为我是在鼓励团队努力呈现他们的最佳状态，但我怀疑 Joe 是在和我们玩博弈，他暗地里认为技术人员是站在他的对立面的。想想看：不然又有什么必要到处巡视，在依赖别人做事的同时，又常常闹出踢椅子大动干戈这样的事呢？

为什么我们不能去询问团队成员项目什么时候可以完工，在获得确切回答之后就相信这个回答，也不必因此受煎熬？当然可以，作为专业人士，我们确实应该做到这一点但我们确实还做不到。Joe 并不信任我们，只有对技术团队进行微观管理能让他安心。而与此同时，出于某种原因，他确实能够信任法务团队，也并没有要对他们进行微观管理的想法。

这一切说明了什么问题？法务团队肯定以某种方式展现了他们的专业精神，而技术团队尚未做到这点。这些团队肯定以某种方式让 Joe 信服，他们并不需要保姆一直跟在身边，他们彼此间不是在玩博弈游戏，他们应该被视为值得敬重的合作伙伴。我不认为这和那些挂在墙上的花哨证书，或是他们在学校里多待了些年头有什么关系。尽管这些年来，学校里可能已经开了不少社交培课程，里面涉及不少与如何表现得更专业相关的内容。

自从多年前的那一天之后，我一直在想，技术人员需要如何改变才能被视为专业人士呢？哦，我已经有了些体会。我已经用博客记录了ー些想法，也看了很多相关的内容，我设法以此改善自己的工作和生活状况，同时也能帮助其他人有所提升，但我还不知道有人在这方面有什么写作计划，把如何成为软件专业人的全部秘诀和盘托出。

直到后来，有一天，我意外地获得审阅一本书的初稿的机会；这本书，正是你现在手中拿着的这本。这本书将会由浅入深、详细讲解该如何展现自己，如何以专业人士的方式与人交流协作。没有陈词滥调，也非寻章摘句纸上谈兵之作，里面闻述的都是具体的行动方法和要诀。其中的某些案例中，作者可谓用心良苦，字字诤言。一些例子中有对话录和总结，甚至还针对别人「无视你」的情形专门提供了相关的行动建议。

嘿，看，Joe 又来了，我们回到了早前那一幕。Joe 和我，我们又回到 Bigco，把那个网站大项目重新做一次。只不过这次，请想象一下，这次的做法有一点点不同。

这次，技术人员不再找借口拖延，而是勇担重任；不再推卸估算工作或置身事外让其他人来做计划（然后对计划抱怨不体），而是真正做到了自组织，井做出了郑重承诺现在想象一下，大家能够真正紧密协作起来了。当程序员因为运维方面的题受阻时，他们会打电话给系统管理员，之后，系统管理员就会马上着手清除障碍。

Joe 也不必大动干戈才能推进解决 14321 号问题；他可以看到 DBA 正在勤工作，而不是在网上冲浪。同样，他从技术人员那里拿到的估算结果看起来非常一致，他不会感觉项目在技术人员那里的优先级是无足轻重的。以往所用的试图操控进度的所有招数手段，现在都派不上用场了，技术人员现在不会说「我们尽力而为吧」，而会代之以「这是我们的承诺；如果你想调整目标，请随时联系我们。

过了一段时间，我想 Joe 就会认同技术团队同样也是专业人士。是的，确实如此。那么，想要从技术人员晋升为专业人士，该经历哪些步骤呢？本书将为你悉数讲解。

## Preface

At 11:39 am EST on January 28, 1986, just 73.124 seconds after launch and at an altitude of 48,000 feet, the Space Shuttle Challenger was torn to smithereens by the failure of the right-hand solid rocket booster (SRB). Seven brave astronauts, including high school teacher Christa McAuliffe, were lost. The expression on the face of McAuliffe's mother as she watched the demise of her daughter nine miles overhead haunts me to this day.

The Challenger broke up because hot exhaust gasses in the failing SRB leaked out from between the segments of its hull, splashing across the body of the external fuel tank. The bottom of the main liquid hydrogen tank burst, igniting the fuel and driving the tank forward to smash into the liquid oxygen tank above it. At the same time the SRB detached from its aft strut and rotated around its forward strut. Its nose punctured the liquid oxygen tank. These aberrant force vectors caused the entire craft, moving well above mach 1.5, to rotate against the airstream. Aerodynamic forces quickly tore everything to shreds.

Between the circular segments of the SRB there were two concentric synthetic rubber O-rings. When the segments were bolted together the O-rings were compressed, forming a tight seal that the exhaust gasses should not have been able to penetrate.

But on the evening before the launch, the temperature on the launch pad got down to 17°F, 23 degrees below the O-rings' minimum specified temperature and 33 degrees lower than any previous launch. As a result, the O-rings grew too stiff to properly block the hot gasses. Upon ignition of the SRB there was a pressure pulse as the hot gasses rapidly accumulated. The segments of the booster ballooned outward and relaxed the compression on the O-rings. The stiffness of the O-rings prevented them from keeping the seal tight, so some of the hot gasses leaked through and vaporized the O-rings across 70 degrees of arc.

The engineers at Morton Thiokol who designed the SRB had known that there were problems with the O-rings, and they had reported those problems to managers at Morton Thiokol and NASA seven years earlier. Indeed, the O-rings from previous launches had been damaged in similar ways, though not enough to be catastrophic. The coldest launch had experienced the most damage. The engineers had designed a repair for the problem, but implementation of that repair had been long delayed.

The engineers suspected that the O-rings stiffened when cold. They also knew that temperatures for the Challenger launch were colder than any previous launch and well below the red-line. In short, the engineers knew that the risk was too high. The engineers acted on that knowledge. They wrote memos raising giant red flags. They strongly urged Thiokol and NASA managers not to launch. In an eleventh-hour meeting held just hours before the launch, those engineers presented their best data. They raged, and cajoled, and protested. But in the end, the managers ignored them.

When the time for launch came, some of the engineers refused to watch the broadcast because they feared an explosion on the pad. But as the Challenger climbed gracefully into the sky they began to relax. Moments before the destruction, as they watched the vehicle pass through Mach 1, one of them said that they'd "dodged a bullet."

Despite all the protest and memos, and urgings of the engineers, the managers believed they knew better. They thought the engineers were overreacting. They didn't trust the engineers' data or their conclusions. They launched because they were under immense financial and political pressure. They hoped everything would be just fine.

These managers were not merely foolish, they were criminal. The lives of seven good men and women, and the hopes of a generation looking toward space travel, were dashed on that cold morning because those managers set their own fears, hopes, and intuitions above the words of their own experts. They made a decision they had no right to make. They usurped the authority of the people who actually knew: the engineers.

But what about the engineers? Certainly the engineers did what they were supposed to do. They informed their managers and fought hard for their position. They went through the appropriate channels and invoked all the right protocols. They did what they could, within the system — and still the managers overrode them. So it would seem that the engineers can walk away without blame.

But sometimes I wonder whether any of those engineers lay awake at night, haunted by that image of Christa McAuliffe's mother, and wishing they'd called Dan Rather.

1986 年 1 月 28 日，美国东部时间上午 11:39，「挑战者」号航天飞机在发射仅 73.124 秒后，因右侧固体火箭推进器的故障，在 1.5 万米的高空化成碎片。7 名航天勇魂断苍穹，其中包括高中教师克丽斯塔·麦考利芙。麦考利芙的母亲目睹女儿在 1.5 万米高空中不幸罹难，当时她脸上的表情，至今印刻在我的心头无法拂去。

挑战者号之所以解体，是由于高热气体从出现故障的固体火箭推进器的外壳接缝处泄露出来，到外部燃料舱体上。主液氢燃料舱底部发生爆炸，液被点燃，并将液氢燃料推入上方的液氧燃料舱中。与此同时，固体火箭推进器脱离了下支架，开始绕上支架动。推进器的机头捅破了液氧舱。异位滚动的推进器导致整个飞行器逆向气流旋转，但同时仍然以 1.5 马赫的速度飞行。在巨大的过载下，挑战者号迅速被撕成碎片。

在火箭推进器的形接缝处，有两个由合成橡胶制成的同心密封圈。当壳体通过螺栓连接在一起时，密封圈被压缩，起到密封作用，确保气体不会从接缝处逸出。但在发射前夜，发射台气温降到了 -8℃，比密封圈的最低承限温度低了 13℃，比以往发射气温低了 18℃。这个气温下的密封困已经硬得失去了弹性，无法很好地密封高热气体。推进器点火后，高热气体迅速累积，对壳腔形成了压力脉冲。助推器壳体向外膨胀开来，密封圈受到压力变小。但是硬化的密封缺乏弹性无法保持密封，一些高热气体就泄漏出来，并且将密封上超过 1/6 的部分都气化了。

设计推进器的莫顿赛奥科公司的工程师事前已经知道密封圈有问题，并早在 7 年前就已经将这些向题报告给莫顿·赛奥科公司和美国宇航局的管理人员。事实上，在以前的发射中，密封圈就曾出现过类似的损坏，只是没有引发灾难而已。发射气温越低，后果就越严重。工程师们已经针对该问题设计了修复方案，但修复方案却迟迟未得以实施。

工程师们知道密封在低温的时候会硬化。也知道挑战者号发射时的气温比以往任何一次发射时的都要低，远低于红色警戒线。简而言之，这次发射的风险太高了，他们不能对危险视而不见。于是他们写了备忘录，发出高危预警信号。他们强烈要求赛奥科公司和美国宇航局的管理人员们取消此次发射任务。在临发射数小时前所开的紧急会议上，这些工程师展示了最有说服力的数据。他们摆事实、讲道理，软硬兼施，拒绝执行这次发射任务。但最后，管理人员们却对此无动于衷。

发射时，一些工程师不忍观看现场直播，因为他们担心发射台上会发生爆炸慘剧。但是，随着挑战者号优雅升空，他们开始有点安心了。就在挑战者号解体前的瞬间，看着飞行器已经迈过 1 马赫的关口时，一位工程师还说他们已经「躲过一劫」。

管理人员们听不进去工程师们的抗议，也不看备忘录，更没有命悬一线的危急感。他们认为自己更了解情况，认为工程师们小题大做了，他们不相信工程师们的数据和结论。他们之所以进行这次发射任务，是因为面临着很大的财务和政治压力。他们对此心存侥幸，希望一切都能平安无事。

这些管理人员不只是愚至极，他们是在草人命。他们以为自己是专家，他们的恐惧、希望和直觉才是准的。怡怡是因为他们的自以为是，七名优秀宇航员的生命以及一代人对太空旅行的梦想，都在那个寒冷的早晨一起灰飞烟灭了。他们了真正了解情况的工程师们的权力。

而那些工程师呢？当然，工程师做了他们应该做的事情。他们通知了管理人员，并且极力捍卫自身立场。他们经由适当的渠道，调用了所有合适的沟通协议。他们做了在体系内力所能及的事情，只是最后不得不听从领导的決定。因此，看起来工程师可以问心无愧了。但是，我不知道那些工程师之中，是否有人会躺在床上夜不能寐，眼前浮现克丽斯塔·麦考利芙母亲上的惨痛表情，为之前没有给丹拉瑟打电话而悔恨不已。

### About The Book

This book is about software professionalism. It contains a lot of pragmatic advice in an attempt to answer questions, such as: 1) What is a software professional? 2) How does a professional behave? 3) How does a professional deal with conflict, tight schedules, and unreasonable managers? 4) When, and how, should a professional say "no"? 5) How does a professional deal with pressure?

But hiding within the pragmatic advice in this book you will find an attitude struggling to break through. It is an attitude of honesty, of honor, of self-respect, and of pride. It is a willingness to accept the dire responsibility of being a craftsman and an engineer. That responsibility includes working well and working clean. It includes communicating well and estimating faithfully. It includes managing your time and facing difficult risk-reward decisions.

But that responsibility includes one other thing — one frightening thing. As an engineer, you have a depth of knowledge about your systems and projects that no managers can possibly have. With that knowledge comes the responsibility to act.

## Acknowledgements

My career has been a series of collaborations and schemes. Though I've had many private dreams and aspirations, I always seemed to find someone to share them with. In that sense I feel a bit like the Sith, "Always two there are."

The first collaboration that I could consider professional was with John Marchese at the age of 13. He and I schemed about building computers together. I was the brains and he was the brawn. I showed him where to solder a wire and he soldered it. I showed him where to mount a relay and he mounted it. It was a load of fun, and we spent hundreds of hours at it. In fact, we built quite a few very impressive-looking objects with relays, buttons, lights, even Teletypes! Of course, none of them actually did anything, but they were very impressive and we worked very hard on them. To John: Thank you!

In my freshman year of high school I met Tim Conrad in my German class. Tim was smart. When we teamed up to build a computer, he was the brains and I was the brawn. He taught me electronics and gave me my first introduction to a PDP-8. He and I actually built a working electronic 18-bit binary calculator out of basic components. It could add, subtract, multiply, and divide. It took us a year of weekends and all of spring, summer, and Christmas breaks. We worked furiously on it. In the end, it worked very nicely. To Tim: Thank you!

Tim and I learned how to program computers. This wasn't easy to do in 1968, but we managed. We got books on PDP-8 assembler, Fortran, Cobol, PL/1, among others. We devoured them. We wrote programs that we had no hope of executing because we did not have access to a computer. But we wrote them anyway for the sheer love of it.

Our high school started a computer science curriculum in our sophomore year. They hooked up an ASR-33 Teletype to a 110-baud, dial-up modem. They had an account on the Univac 1108 time-sharing system at the Illinois Institute of Technology. Tim and I immediately became the de facto operators of that machine. Nobody else could get near it.

The modem was connected by picking up the telephone and dialing the number. When you heard the answering modem squeal, you pushed the "orig" button on the Teletype causing the originating modem to emit its own squeal. Then you hung up the phone and the data connection was established.

The phone had a lock on the dial. Only the teachers had the key. But that didn't matter, because we learned that you could dial a phone (any phone) by tapping out the phone number on the switch hook. I was a drummer, so I had pretty good timing and reflexes. I could dial that modem, with the lock in place, in less than 10 seconds.

We had two Teletypes in the computer lab. One was the online machine and the other was an offline machine. Both were used by students to write their programs. The students would type their programs on the Teletypes with the paper tape punch engaged. Every keystroke was punched on tape. The students wrote their programs in IITran, a remarkably powerful interpreted language. Students would leave their paper tapes in a basket near the Teletypes.

After school, Tim and I would dial up the computer (by tapping of course), load the tapes into the IITran batch system, and then hang up. At 10 characters per second, this was not a quick procedure. An hour or so later, we'd call back and get the printouts, again at 10 characters per second. The Teletype did not separate the students' listings by ejecting pages. It just printed one after the next after the next, so we cut them apart using scissors, paper-clipped their input paper tape to their listing, and put them in the output basket.

Tim and I were the masters and gods of that process. Even the teachers left us alone when we were in that room. We were doing their job, and they knew it. They never asked us to do it. They never told us we could. They never gave us the key to the phone. We just moved in, and they moved out—and they gave us a very long leash. To my Math teachers, Mr. McDermit, Mr. Fogel, and Mr. Robien: Thank you!

Then, after all the student homework was done, we would play. We wrote program after program to do any number of mad and weird things. We wrote programs that graphed circles and parabolas in ASCII on a Teletype. We wrote random walk programs and random word generators. We calculated 50 factorial to the last digit. We spent hours and hours inventing programs to write and then getting them to work.

Two years later, Tim, our compadre Richard Lloyd, and I were hired as programmers at ASC Tabulating in Lake Bluff, Illinois. Tim and I were 18 at the time. We had decided that college was a waste of time and that we should begin our careers immediately. It was here that we met Bill Hohri, Frank Ryder, Big Jim Carlin, and John Miller. They gave some youngsters the opportunity to learn what professional programming was all about. The experience was not all positive and not all negative. It was certainly educational. To all of them, and to Richard who catalyzed and drove much of that process: Thank you.

After quitting and melting down at the age of 20, I did a stint as a lawn mower repairman working for my brother-in-law. I was so bad at it that he had to fire me. Thanks, Wes!

A year or so later I wound up working at Outboard Marine Corporation. By this time I was married and had a baby on the way. They fired me too. Thanks, John, Ralph, and Tom!

Then I went to work at Teradyne where I met Russ Ashdown, Ken Finder, Bob Copithorne, Chuck Studee, and CK Srithran (now Kris Iyer). Ken was my boss. Chuck and CK were my buds. I learned so much from all of them. Thanks, guys!

Then there was Mike Carew. At Teradyne, he and I became the dynamic duo. We wrote several systems together. If you wanted to get something done, and done fast, you got Bob and Mike to do it. We had a load of fun together. Thanks, Mike!

Jerry Fitzpatrick also worked at Teradyne. We met while playing Dungeons & Dragons together, but quickly formed a collaboration. We wrote software on a Commodore 64 to support D&D users. We also started a new project at Teradyne called "The Electronic Receptionist." We worked together for several years, and he became, and remains, a great friend. Thanks, Jerry!

I spent a year in England while working for Teradyne. There I teamed up with Mike Kergozou. He and I schemed together about all manner of things, though most of those schemes had to do with bicycles and pubs. But he was a dedicated programmer who was very focused on quality and discipline (though, perhaps he would disagree). Thanks, Mike!

Returning from England in 1987, I started scheming with Jim Newkirk. We both left Teradyne (months apart) and joined a start-up named Clear Communications. We spent several years together there toiling to make the millions that never came. But we continued our scheming. Thanks, Jim!

In the end we founded Object Mentor together. Jim is the most direct, disciplined, and focused person with whom I've ever had the privilege to work. He taught me so many things, I can't enumerate them here. Instead, I have dedicated this book to him.

There are so many others I've schemed with, so many others I've collaborated with, so many others who have had an impact on my professional life: Lowell Lindstrom, Dave Thomas, Michael Feathers, Bob Koss, Brett Schuchert, Dean Wampler, Pascal Roy, Jeff Langr, James Grenning, Brian Button, Alan Francis, Mike Hill, Eric Meade, Ron Jeffries, Kent Beck, Martin Fowler, Grady Booch, and an endless list of others. Thank you, one and all.

Of course, the greatest collaborator of my life has been my lovely wife, Ann Marie. I married her when I was 20, three days after she turned 18. For 38 years she has been my steady companion, my rudder and sail, my love and my life. I look forward to another four decades with her.

And now, my collaborators and scheming partners are my children. I work closely with my eldest daughter Angela, my lovely mother hen and intrepid assistant. She keeps me on the straight and narrow and never lets me forget a date or commitment. I scheme business plans with my son Micah, the founder of 8thlight.com. His head for business is far better than mine ever was. Our latest venture, cleancoders.com, is very exciting!

My younger son Justin has just started working with Micah at 8th Light. My younger daughter Gina is a chemical engineer working for Honeywell. With those two, the serious scheming has just begun!

No one in your life will teach you more than your children will. Thanks, kids!

我的职业生涯中有很多次与他人合作的经历。尽管有很多事情是我个人的梦想与追求，但我几乎总能找到志同道合的入。这一点上，我觉得有点像《星球大战》里的西斯，「身边总会有伴」。

我认为，算得上专业的第一次合作，是在 13 岁时和 John Marchese 一起造电脑。我思考，他动手。我指出该焊线的地方，他来焊；我指出该装继电器的地方，他来装。我们乐此不疲地在这上头忙活了数百小时。我们的确鼓捣出了不少看着相当有型的家伙，上面装着继电钮、小灯，甚至还有电传打字机！当然，这些电脑都没法用，但它们看起来真的很棒，我们也确实干得十分卖力。John!

进中学的第一年，我在德语课上认识了 Tim Conrad。Tim 很聪明。在我们搭档造电脑时，他思考，我动手我一些电子学知识，他也是第一个向我介绍 PDP-8 的人。我们用一些很基础的元器件真的造出了一台可以工作的 18 位二进制计算器，能够进行加乘除的运算那年我们把所有的周末、塞暑假和圣诞假期都投了进去，干得很疯。最终，机器跑得棒极了。谢谢你，Tim!

Tim 和我自学了计算机编程，在 1968 年，这并不是件容易的事，但我们做到了。我们特别找来了有关 PDP-8 汇编器、 FORTRAN、 COBOL、PL/1 的书。我们如饥似渴地读书，并写了一堆根本没有可能去实际执行的程序，因为当时还没法摸到计算机。但纯粹出于爱好，我们孜孜不倦地写了许多程序。

在中学二年级的课程中，开设了计算机科学的科目。学校有一台 ASR-33 电传打字机，通过一台 110 波特的号调制解调器，可以连接到伊利诺伊理工学院的 Univac 1108 分时系统上。学校在那上面有一个账号。Tim 和我马上就成了那台机器实际上的操作者，其他人都没法靠近。

通过调制调器连接到主机上时，要先拿起电话进行拔号，当听到准备接收调制调器信号的回答时，按下电传打字机上的「orig」键，发起端的调制解调器就会发出尖锐的啸叫，开始发送信息。这时数据连接已经建立，可以挂断电话。电话机拔号盘上有锁，只有老师才有钥匙。但这并无大碍，因为我们发现，只要在又簧开关上拍打出电话号码，就可以拨出电话。我会敵鼓，节奏感很强，反应也快，所以即使电话上了锁，我也可以在 10 秒内把调制解调器拔通。

计算机实验室里有两台电传打字机，一台在线，另一台离线，两台都被学生们拿来写程序。学生们使用打孔纸带在电传打字机上录入程序，程序内容都打在纸带上。他们用的编程语言是 lltran，这种解释型语言相当强大。最后，学生们会把这些纸带放在电传打字机旁的一个篮子。

课后，Tim 和我会拔通计算机（当然是通过敲打又簧的方式拔通的），把纸带加载到 Itran 批处理系统里，然后挂断电话。载入速度大概是每秒 10 个字母吧，这个过程井不快。大概一小时后，我们会回拨电话，接收打印内容，这次仍然是每秒 10 个字母。电传打字机无法根据学生姓名分页返回结果列表。它只能一页接一页不断地打出返回结果。因此，我们需要用剪刀把返回的打印结果剪开，用夹子把输入纸带和结果列表夹在一起，再放到专门装输出结果的篮子里。

Tim 和我成了此道达人。甚至连老师们看到我们在那个房间里也不会来过问。我们其实有点越界了，他们对此也很清楚，因为他们从未要求我们这么做，也从没说我们可以这么做，更没给过我们电话的钥匙。我们悄悄进去，他们默契离开 一一 放手让我们去做。在此，向我的数学老师 Mcdermita 先生、Fogel 先生和 Robien 先生一并说声：「谢谢你们」。

做完作业之后，我们就开始玩了。我们会一个程序接一个程序地写着玩，极尽疯狂之能事。我们在电传打字机上编写能够使用 ASCI 绘制圆形和抛物线的程序。我们编写随机漫步程序和随机文字生成程序。我们将 50 的阶乗算到最后一位。我们乐此不疲地想出各种编程题目，井努力用程序实现。

两年后，Tim、我们的伙伴 Richard Lloyd 还有我，被 ASC 公司聘为程序员。这家公司位于伊利诺伊州克布拉夫市。当时 Tim 和我都只有 17 岁。我们当时觉得上大学是浪费时间，便决定马上进入职场。在那里我们遇见了 Bill Hohri、Frank Ryder、Big Jim Carlin 和 John Miller 他们为我们这些年轻人提供了学习专业编程的实战机会。那段经历有得有失。当然，我在其中颇受教益。所以，我想对他们所有人，包括促进和推动这个过程的 Richard，说声：「谢谢你们」。

19 岁那年我辞职了，并且变得消沉。在那段时间，我在姐夫那里修理割草机，但是我干得实在太糟了，最后他不得不炒了我。谢谢你，Wes！一年后我又重整旗鼓，进入了 Outboard Marine 公司。那时我已经结婚了，而且正要升级做爸爸。他们最终也炒了我。谢谢你们，John、Ralph 还有 Tom!

随后我开始在 Teradyne 工作，在那儿我认识了 Russ Ashdown、Ken Finder、Bob Copithorne、Chuck Studee，还有 CK Srithran（现在叫 Kris lyer 了）。Ken 是我的老板，Chuck 和 CK 是我的搭档。我从他们所有人身上都学到了许多东西。谢谢你们，伙计们！接着我遇见了 Mike Carew。在 Teradyne，我们俩成了黄金搭档。我们一起写了好几个系统。「如果你想活儿干得又快又好，就把它交给 Bob 和 Mike！」我们共事的时光充满欢乐。谢你，Mike!

Jerry Fitzpatrick 也是我在 Teradyne 时的同事，我们是在玩「龙与地下城」游戏时认识的，但随即迅速结成同盟。我们一起为玩家写了ー个可以在 commodore 64 家用电脑上运行的「龙与地下城」游戏软件。在 Teradyne，我们还一起开始了ー个叫「电子接线员」的项目。Jerry 和我共事了好几年，并成为我的终生挚友，谢谢你，Jerry。

在 Teradyne 时，我曾在英国工作过一年。在那儿我和 Mike Kergozou 搭档，期间所有事情我们几乎都是两人一起筹划的，虽然这些事情大部分与自行车和酒吧分不开。Mike 是个十分勤勉的程序员，注重质量和原则（不过，或许他自己可能不会认同这样的评价）。谢谢你，Mike!

1987 年从英国回来后，我开始和 Jim Newkir 搭档。我们都离开了 Teradyne（前后相隔几个月），加入了一家新创公司 Clear Communication。我们在那里一起努力拼了好几年，却一直没能成就财富梦想。但是，我们还是力前行。谢谢你，Jim。最终我们一起创办了 Object Mentor 公司。在所有我有幸共事过的人中，Jim 是最率直、最严谨和最专注的。他教会我许多事情，内容之多无法在此 一一 列举。为此，我谨将本书题献给他！

当然，我亲爱的妻子 Ann Marie 是我最好的人生搭档。我 20 岁时和 Ann 结婚，那时她的 18 岁生日刚过去 3 天。38 年来，她一直是我坚定不移的伴侣，是我的舵，我的帆，也是我的爱与生命。我期待同她携手再走 40 年。现在，我的合作伙伴和搭档则是我的孩子们。我和大女儿 Angela 合作紧密，她是我可爱的小保姆和坚强的助手，她让我在专注前行的同时，不会错过一个约会或是遗忘任何承诺。我和儿子 Micah 也是业务上的搭档。他创办了 8thlight.com，他的商业头脑远胜于年轻时的我。我们新近的合作事业 cleancoders.com 令人激动！我的小儿子 Justin 刚刚开始加入 Micah！的 8th Light。我的小女儿 Gina 是霍尼韦尔的化学工程师。他们的事业刚刚拉开序幕！

## About The Author

Robert C. Martin ("Uncle Bob") has been a programmer since 1970. He is founder and president of Object Mentor, Inc., an international firm of highly experienced software developers and managers who specialize in helping companies get their projects done. Object Mentor offers process improvement consulting, object-oriented software design consulting, training, and skill development services to major corporations worldwide. Martin has published dozens of articles in various trade journals and is a regular speaker at international conferences and trade shows. He has authored and edited many books, including:

• Designing Object Oriented C++ Applications Using the Booch Method

• Patterns Languages of Program Design 3

• More C++ Gems

• Extreme Programming in Practice

• Agile Software Development: Principles, Patterns, and Practices

• UML for Java Programmers

• Clean Code

A leader in the industry of software development, Martin served for three years as editor-in-chief of the C++ Report, and he served as the first chairman of the Agile Alliance. Robert is also the founder of Uncle Bob Consulting, LLC, and cofounder with his son Micah Martin of The Clean Coders LLC.

2『 Bob 大叔，做一张人名卡片。』——已完成

## 译者序 —— 享受职业素养

我在招聘中经常会问：「在你过去的工作中，遭遇过哪些印象深刻的困难，最后是怎么解决的？」依我的经验，简历写得再漂亮的人，如果这个问题答不好，大都可以直接忽略。为什么会有这种结论？因为我们需要招聘的不是「经历丰富的人，而是「有职业素养」的人。你遇到的问题可能很容易也可能很难，但我看重的并不是问题的难度，而是解决问题的方式、步骤以及反思的程度。恢复误删数据，对很多人来说这是非常简单的任务。我更感兴趣的是怎样分析问题，找了怎样的资料，采取了怎样的步骤，此后做了哪些措施来避免这种错误再次出现。在我看来，与问题本身的难度相比，解问题的方式、步骤以及反思的程度，才能体现出一个人的职业素养。

是的，上面我两次提到了「职业素养」。相比起「专业主义」「职业化」等说法，我更喜欢用它来翻译 Professionalism，因为素养强调的并不是天赋的神秘，也不是技艺的高深，而是持续积淀的结晶方面，它体现了能力和素质；另一方面，它又强调了持续的积累和养成。作为职员，基本技能不够练，当然谈不上职业素养。但是仅仅能迅速地编写代码，却不关心代码背后的意义，不能迅速判断、解决程序运行中的各种题，不能自信满满地为自己交付的程序承担责任，同样是与职业素绝缘的 一一 许多所谓的高手，正是缺乏职业素的典型。

这只是我对于「职业素养」的理解。由个体经验总结的「职业素养」，多有一半爪的嫌疑，所以即便你认同上面的观点，也难免感觉「只见树木，不见森林」。其实真正的「职业素养」绝不限于上述几方面，而是要广阔得多，深刻得多。要想一技术人员「职业素养」的全貌，已经有很多现成的资料可以参考，本书就是其中的佼佼者。

作为一本技术类书籍，本书中有相当的内容是介绍纯技艺的方面，比如测试驱动开发等，自认已经算「职业开发人员」的人，大概对此并不感冒（不过，我仍然建议你认真看看）。但其他的内容，绝对值得你感冒，比如：什么情况下应该对业务部门说「是」，说「是」意味着什么。如果你没有想过这些问题，或者没有明确的答案，不妨看看 Bob 大叔是怎么说的。（说「是」时）你对自己将会做某件事做了清晰的事实陈述，而且还明确说明了完成期限。那不是指别人，而是指你自己。你陈述的是自己会去执行的一项行动，而且，你不是「可能」去做，或是「可能做到」，而是「会」做到。

就我所见，技术人员往往太容易说「是」，总是在没有明确目标和期限的情况下，就草率给出了确认的答复，却不将其视为自己的承诺。屡见不鲜的项目延期，有相当原因就是在这种不负责任的情况下说「是」所致。但是我们想想，似乎没有哪一个正经行业，会把不能完成任务的人视为「有职业素养的人」，软件行业也不能例外。

如果你觉得自己已经足够负责，懂得「是」背后所蕴含的意义和责任，也不过如此，我们不妨更进一步，看看关于说「否」。在第 2 章，Bob 大叔介绍了两个项目搞砸的经过。他并没有像常见的所谓专家那样故作聪明地指出实施过程中出现了哪些题，导致了失败，而是一针见血地指出：这两个项目之所以会搞砸，因为开发人员没有坚決抵制各种不专业的需求（比如一些无关紧要但成本巨大的需求），抵制各种不专业的行为（比如为了赶工期而降低对程序质量的要求），最终只好喝下自己酿出的苦酒。对此，Bob 大叔总结道：

有时候，获取正确决策的唯一途径，便是勇敢无地说出「不」字… 我们要明白，委屈专业原则以求全，并不是问题的解决之道。弃这些原则，只会制造出更多的麻烦。

对我来说，这段话堪称振发聩。而且，这种思维，这种视角，其实是许多技术人员所不屑或者不愿面对的 一一 最初我也这么认为，但尝试在工作中主动说了几次「不」之后，我逐渐发现：花三分的力气去抵制无理的需求，可以节省十分甚至二十分的开发时间；相反，自欺人地说服自己湊合接受了无理需求，往往会非常被动乃至无法脱身，到最后，项目就落得著名的 BMOS/360 操作系统的下场，越挣扎，巨兽在泥潭中就陷得越深。

要学习这样的道理，当然也可以参加培训班，听取授课或者读讲义，但那未免太显正经而缺乏亲和力。Bob 大叔的特别之处在于，他总是可以通过浅显易的故事，清晰而敏锐地揭示问题的核心阅读过程中常会会心一笑，因为遇到了开发人员都懂的妙趣，比如费尽全力也是徒劳，无法让其他人理解「编辑程序的程序」。笑过之后，又会明白许多道理——无法让其他理解「编辑程序的程序」并不是真正的原因，真正的原因是：客户......对功能的设想，其实经不起电脑前真刀真枪的考验。问题在于，东西画在纸上与真正做出来是不一样的。业务方看到真正的运行情况时就会意识到，自己想要的根本不是这样。一看到已经满足的需求，关于到底要什么，他们就会冒出更好的想法——通常并不是他们当时看到的样子。真正的解办法，是约定共同认可的验收测试标准，并在开发过程中保持沟通。以我的经验来看，这一点是说得非常对的。我曾经尝试在与业务部门确定目标原型之后，要求对方指派对接人在 IT 部坐班，负责协商、跟进整个开发流程，确认每一点修改。这样既保证最终结果符合业务部门的需求，又提高了开发人员的工作效率，综合来看成效非常显著。

类似的例子还有很多，在阅读这本书时，我经常会惋惜：如果早一点读到这本书，或许我之前就不会犯这样那样的错误，就能更早更好地积累自己的职业素养。况且能有妙趣橫生的书讲述看似枯燥的「职业素养」，对读者来说，又是一种幸运。德国作家托玛斯曼曾经津津乐道于「斜躺在沙发上整天阅读叔本华」的美妙感觉，那是因为叔本华的文笔优美、流畅，可以把哲学变为惬意的享受。作为同时读过叔本华和 Bob 大叔的人，我想说，斜躺在沙发上整天阅读《程序员的业素养》，认识和了解开发人员的职业素养，同样是相当惬意的享受。

## 译者序 2 —— 负阴抱阳，知行合

师者，所以传道授业解也。Robert C. Martin，软件开发社区中亲切地称他为 Bob 大叔，正是这样一位明师。2003 年，他的《敏捷软件开发：原则、模式与实践》（下称 ASD）在国内上市。我那时进入软件开发行业刚刚一两年，这本书真可谓是及时雨。在精读全书和细心对照书中案例练习后，我感觉自己在面向对象设计方面的功力有了比较明显的提升。那时因工作环境所限，身边没有能够手把手给予技术辅导的导师，因此，那时在我心中 Bob 大叔无疑就是一盏指路明灯。后来在网上找到了不少 Bob 大叔的演讲 PPT，沿着链接，又找到了 Object Mentor 公司其他一些软件开发专家的演讲 PPT 和博客，我如饥似渴地阅读揣摩。现在回头想来，正是在这个阶段我开始建立起「编程技艺」的视角。

时间过得很快，转眼就到了 2010 年，不觉中我已在软件开发的多个领域工作了近 10 年。2010 年，Bob 大叔的《代码整洁之道》上市，我马上给自己和项目团队订了好几本。在为 ASD 所写的序中，Bob 大叔写道：「最好的软件开发人员都知道一个秘密：美的东西比丑的东西创建起来更廉价，也更快捷。构建、维护一个美的软件系统所花费的金钱都要少于丑的系统。......美的系统是灵活、易于理解的，构建、维护它们就是一种快乐。」如果说 ASD 中更多的是 OO 设计思想和模式精的阐述，那么在《代码整洁之道》中，Bob 大叔提供了更为详尽的微距视角，涉及「命名」「函数」「代码格式」「异常处理」「单元测试」等编码主题，巨细靡遗地向软件工匠们极力传授整洁编码的艺术，进一步向软件开发社区慷慨分享了他在探案「软件之美」旅途中的参证心得。

但是，细心的读者可以发现，在前述两本书中 Bob 大叔阐述的主体还是软件编码技术本身，作为一门技艺而言，止步于具体技术或日「术」的层面，应该还未算得完整。后来，在 Youtube、Slideshare 和 Object Mentor 等站点上，我看见 Bob 大叔有不少演讲趋向于聚焦在编程主体即软件开发者自身行为模式和特质层面上，就猜到他不久应该就会有此方面的新著推出。Bob 大叔就是 Bob 大叔，在探案和分享软件技艺的路上，他内心怀有对软件开发社区发展责无旁货的使命感。果不其然，他将这些体悟浓缩在又一本新著上，这本书便是读者手上的这本《代码整洁之道：程序员的职业素养》。

本书阐述的是 Bob 大叔关于软件技艺主体的沉思，这些沉思并非是纯粹形而上的思推演，而是他对自身编程生涯的深刻反思和经验沉淀。在这本书中，Bob 大叔并非是以高人一等的凌人盛气（事实上，他应该有这样的资格）大行说教，而是毫不掩饰自己在职业生涯中曾犯下的各种错误和不堪往事，以这些案例为载体，现身说法，娓娓道来使自己得以转变和提升的种种「机锋」，留有意味深长的空间，供读者自己结合自身状况进一步体悟提炼，而非给出硬邦邦的一堆结论。这是何等的胸怀、格局和智慧！

按照传统的太极阴阳思维来看，如果说 ASD 和《代码整洁之道》中的内容是硬性的、技术性的、显性的，故而可以归为「阳」的范時，那么本书中的「专业主义」「技艺之道」便是软性的、哲学性的、隐性的，故而可以归为「阴」的范時。「孤明不生，独阳不长」，《老子》说「万物负阴而抱阳，充气以为和」。Bob 大叔这三本书为何都选择星云图片作为封面呢？我忽有顿悟。

严肃地选择以软件开发为自身职业方向的软件工程师（我更喜欢称为「软件工匠」）们，如果你同我一样，此前感觉颇为受益于 Bob 大叔的谆谆教诲，那么请不要错过本书。将本书和 ASD、《代码整洁之道》并列案头，三书互为参照，一并静心细读、揣摩体悟、时时对照、检验调整，到负阴抱阳、知行合一，相信定能渐入佳境。本书本该早日完成翻译面市，但因我个人方面的一些原因，翻译进度搁时日多，使我内心极为惴惴不安，这点必须向各位读者，尤其是 Bob 大叔的粉丝和在从事软件开发过程中遇到困顿境地的读者们，深深致歉！

## Pre-Requisite Introduction

I presume you just picked up this book because you are a computer programmer and are intrigued by the notion of professionalism. You should be. Professionalism is something that our profession is in dire need of.

I'm a programmer too. I've been a programmer for 42 1 years; and in that timelet me tell you — I've seen it all. I've been fired. I've been lauded. I've been a team leader, a manager, a grunt, and even a CEO. I've worked with brilliant

1 Don't Panic.

programmers and I've worked with slugs. 2 I've worked on high-tech cutting-edge embedded software/hardware systems, and I've worked on corporate payroll systems. I've programmed in COBOL, FORTRAN, BAL, PDP-8, PDP-11, C, C++, Java, Ruby, Smalltalk, and a plethora of other languages and systems. I've worked with untrustworthy paycheck thieves, and I've worked with consummate professionals. It is that last classification that is the topic of this book.

In the pages of this book I will try to define what it means to be a professional programmer. I will describe the attitudes, disciplines, and actions that I consider to be essentially professional.

How do I know what these attitudes, disciplines, and actions are? Because I had to learn them the hard way. You see, when I got my first job as a programmer, professional was the last word you'd have used to describe me.

The year was 1969. I was 17. My father had badgered a local business named ASC into hiring me as a temporary part-time programmer. (Yes, my father could do things like that. I once watched him walk out in front of a speeding car with his hand out commanding it to「Stop!」The car stopped. Nobody said「no」to my Dad.) The company put me to work in the room where all the IBM computer manuals were kept. They had me put years and years of updates into the manuals. It was here that I first saw the phrase:「This page intentionally left blank.」

After a couple of days of updating manuals, my supervisor asked me to write a simple Easycoder 3 program. I was thrilled to be asked. I'd never written a program for a real computer before. I had, however, inhaled the Autocoder books, and had a vague notion of how to begin.

The program was simply to read records from a tape, and replace the IDs of those records with new IDs. The new IDs started at 1 and were incremented by

2 A technical term of unknown origins.

3 Easycoder was the assembler for the Honeywell H200 computer, which was similar to Autocoder for the IBM 1401 computer.

1 for each new record. The records with the new IDs were to be written to a new tape.

My supervisor showed me a shelf that held many stacks of red and blue punched cards. Imagine that you bought 50 decks of playing cards, 25 red decks, and 25 blue decks. Then you stacked those decks one on top of the other. That's what these stacks of cards looked like. They were striped red and blue, and the stripes were about 200 cards each. Each one of those stripes contained the source code for the subroutine library that the programmers typically used. Programmers would simply take the top deck off the stack, making sure that they took nothing but red or blue cards, and then put that at the end of their program deck.

I wrote my program on some coding forms. Coding forms were large rectangular sheets of paper divided into 25 lines and 80 columns. Each line represented one card. You wrote your program on the coding form using block capital letters and a #2 pencil. In the last 6 columns of each line you wrote a sequence number with that #2 pencil. Typically you incremented the sequence number by 10 so that you could insert cards later.

The coding form went to the key punchers. This company had several dozen women who took coding forms from a big in-basket, and then「typed」them into key-punch machines. These machines were a lot like typewriters, except that the characters were punched into cards instead of printed on paper.

The next day the keypunchers returned my program to me by inter-office mail. My small deck of punched cards was wrapped up by my coding forms and a rubber band. I looked over the cards for keypunch errors. There weren't any. So then I put the subroutine library deck on the end of my program deck, and then took the deck upstairs to the computer operators.

The computers were behind locked doors in an environmentally controlled room with a raised floor (for all the cables). I knocked on the door and an operator austerely took my deck from me and put it into another in-basket inside the computer room. When they got around to it, they would run my deck.

The next day I got my deck back. It was wrapped in a listing of the results of the run and kept together with a rubber band. (We used lots of rubber bands in those days!)

I opened the listing and saw that my compile had failed. The error messages in the listing were very difficult for me to understand, so I took it to my supervisor. He looked it over, mumbled under his breath, made some quick notes on the listing, grabbed my deck and then told me to follow him.

He took me up to the keypunch room and sat at a vacant keypunch machine. One by one he corrected the cards that were in error, and added one or two other cards. He quickly explained what he was doing, but it all went by like a flash.

He took the new deck up to the computer room and knocked at the door. He said some magic words to one of the operators, and then walked into the computer room behind him. He beckoned for me to follow. The operator set up the tape drives and loaded the deck while we watched. The tapes spun, the printer chattered, and then it was over. The program had worked.

The next day my supervisor thanked me for my help, and terminated my employment. Apparently ASC didn't feel they had the time to nurture a 17-year-old.

But my connection with ASC was hardly over. A few months later I got a fulltime second-shift job at ASC operating off-line printers. These printers printed junk mail from print images that were stored on tape. My job was to load the printers with paper, load the tapes into the tape drives, fix paper jams, and otherwise just watch the machines work.

The year was 1970. College was not an option for me, nor did it hold any particular enticements. The Viet Nam war was still raging, and the campuses were chaotic. I had continued to inhale books on COBOL, Fortran, PL/1, PDP-8, and IBM 360 Assembler. My intent was to bypass school and drive as hard as I could to get a job programming.

Twelve months later I achieved that goal. I was promoted to a full-time programmer at ASC. I, and two of my good friends, Richard and Tim, also 19, worked with a team of three other programmers writing a real-time accounting system for a teamster's union. The machine was a Varian 620i. It was a simple mini-computer similar in architecture to a PDP-8 except that it had a 16-bit word and two registers. The language was assembler.

We wrote every line of code in that system. And I mean every line. We wrote the operating system, the interrupt heads, the IO drivers, the file system for the disks, the overlay swapper, and even the relocatable linker. Not to mention all the application code. We wrote all this in 8 months working 70 and 80 hours a week to meet a hellish deadline. My salary was `$`7,200 per year.

We delivered that system. And then we quit.

We quit suddenly, and with malice. You see, after all that work, and after having delivered a successful system, the company gave us a 2% raise. We felt cheated and abused. Several of us got jobs elsewhere and simply resigned.

I, however, took a different, and very unfortunate, approach. I and a buddy stormed into the boss' office and quit together rather loudly. This was emotionally very satisfying — for a day.

The next day it hit me that I did not have a job. I was 19, unemployed, with no degree. I interviewed for a few programming positions, but those interviews did not go well. So I worked in my brother-in-law's lawnmower repair shop for four months. Unfortunately I was a lousy lawnmower repairman. He eventually had to let me go. I fell into a nasty funk.

I stayed up till 3 am every night eating pizza and watching old monster movies on my parents' old black-and-white, rabbit-ear TV. Only some of the ghosts where characters in the movies. I stayed in bed till 1 pm because I didn't want to face my dreary days. I took a calculus course at a local community college and failed it. I was a wreck.

My mother took me aside and told me that my life was a mess, and that I had been an idiot for quitting without having a new job, and for quitting so emotionally, and for quitting together with my buddy. She told me that you never quit without having a new job, and you always quit calmly, coolly, and alone. She told me that I should call my old boss and beg for my old job back. She said,「You need to eat some humble pie.」

Nineteen-year-old boys are not known for their appetite for humble pie, and I was no exception. But the circumstances had taken their toll on my pride. In the end I called my boss and took a big bite of that humble pie. And it worked. He was happy to re-hire me for $6,800 per year, and I was happy to take it.

I spent another eighteen months working there, watching my Ps and Qs and trying to be as valuable an employee as I could. I was rewarded with promotions and raises, and a regular paycheck. Life was good. When I left that company, it was on good terms, and with an offer for a better job in my pocket.

You might think that I had learned my lesson; that I was now a professional. Far from it. That was just the first of many lessons I needed to learn. In the coming years I would be fired from one job for carelessly missing critical dates, and nearly fired from still another for inadvertently leaking confidential information to a customer. I would take the lead on a doomed project and ride it into the ground without calling for the help I knew I needed. I would aggressively defend my technical decisions even though they flew in the face of the customers' needs. I would hire one wholly unqualified person, saddling my employer with a huge liability to deal with. And worst of all, I would get two other people fired because of my inability to lead.

So think of this book as a catalog of my own errors, a blotter of my own crimes, and a set of guidelines for you to avoid walking in my early shoes.
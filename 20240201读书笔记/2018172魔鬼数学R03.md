## 记忆时间

## 目录

第三部分 期望值

精彩内容：1）麻省理工学院的大学生利用马萨诸塞州彩票赚钱。2）伏尔泰的致富之道。3）佛罗伦萨画派与几何学。4）信息传输过程中的自我纠错。5）格里高利·曼昆与弗兰·勒博维茨的不同之处。6）对不起，我没有听清楚你说的是 bofoc 还是 bofog。7）18 世纪法国的室内游戏。8）平行线也可以相交。9）丹尼尔·埃尔斯伯格成名的另一个原因。10）你尽可以多误几次飞机。

## 1101. 中彩票大奖与期望值理论

彩票是否值得买呢？聪明的回答通常是「不」。老话说得好：彩票是「傻瓜税」，可以帮助政府增加税收，而成本仅仅是想方设法引诱大家购买。如果我们把彩票看成一种赋税，就能明白政府乐此不疲地劝说我们买彩票的原因了。大家在便利店排队买彩票，难道是在缴税？

彩票的吸引力由来已久。这种博彩活动可以追溯至 17 世纪的热那亚，可能是出于偶然的原因，由选举制度衍生而来。每过半年，热那亚市就会从初级议会的议员中选出两人担任该市总督。但是，热那亚没有采用投票选举的方式，而是从 120 张写有议员名字的纸条中抽出两张确定当选者。不久，该市的一些赌徒开始对选举结果押注，这种博彩活动很快就流行起来。赌徒们觉得这种碰运气的游戏十分有趣，但是必须等到选举日才会有这样的活动，对此他们感到十分不耐烦。他们很快发现，在没有选举活动时也可以通过抽取纸条的方式赌博，不同之处在于，他们用数字代替了政客们的姓名。到 1700 年时，热那亚的博彩活动已经在采用现代「强力球」玩家十分熟悉的玩法了。赌徒们努力地猜测随机抽取的 5 个数字，猜中的数字越多，奖金越高。

彩票游戏很快就传遍欧洲，又流传到北美洲。美国独立战争期间，大陆会议与各州政府都发行彩票，为反抗英国殖民统治的战争筹措资金。当时的哈佛大学还未曾收到超过 9 位数的捐赠，但是他们在 1794 年和 1810 年仅靠彩票募集资金，就盖起了两栋大楼。（至今这两栋大楼还在使用，现在是大一新生的宿舍。）

并不是所有人都支持这个新事物，道德家们认为彩票就是赌博（他们的这种观点完全正确）。亚当·斯密（Adam Smith）也是反对者之一，他在《国富论》（The Wealth of Nations）中指出：

卖彩票都能赚钱的事实告诉我们，人们过高地估计了中奖的概率。我们从来没有看到过完全公平或者损益相抵的彩票，将来也不会看到，因为这样的彩票不会给发行方带来任何获益的机会……如果一种彩票的奖金额不超过 20 英镑，而且在其他方面比政府发行的普通彩票更接近于绝对公平，那么这种彩票的销量肯定比不上政府普通彩票的销量。为了增加中大奖的概率，有些人会同时购买多张彩票，还有些人虽然每次购买得很少，但总数仍然很大。不过，从数学的角度看，冒险购买的彩票号码越多，遭受损失的可能性就越大。如果冒险买进所有的号码，损失的可能性就会达到 100%。买的彩票号码越多，就会越接近这个结果。

亚当·斯密的表述清晰有力，在考虑问题时对定量分析的执着也令人敬佩，但是我们不应该盲目相信他的话，因为严格地讲，他得出的结论并不正确。大多数彩票玩家认为，与购买一组号码相比，把宝押在两组号码上的做法，损失的可能性更小，而获益的可能性增加了一倍。没错！对于奖励机制比较简单的彩票，我们可以很容易地进行分析。假定该彩票一共有 1 000 万种号码组合，其中只有一种会中奖。每张彩票售价 1 美元，奖池累积奖金为 600 万美元。

如果购买所有号码组合，需要付出 1 000 万美元，而获得的奖金为 600 万美元。换言之，亚当·斯密说的没错，这种做法肯定会失败，损失金额为 400 万美元。相较之下，仅购买一张彩票的玩家更有优势，至少他有千万分之一的机会中大奖！

如果购买两张彩票呢？损失的概率会降低，但幅度不大，只有千万分之一。不停地买，损失的可能性也会不断降低，直到购买 600 万张彩票。此时，把奖池掏空（也就是不赢不亏）的概率肯定是 60%，而亏本的概率为 40%。因此，买的彩票越多，损失的可能性就越小，这正好与亚当·斯密的论断相反。但是，如果再多买一张彩票，就肯定会亏钱（至于是亏了 1 美元还是 6 000 001 美元，取决于你之前是否已经买到了大奖号码）。

在这里我们难以重现亚当·斯密的推理过程，但是我们可以猜想，他很可能是「所有线都是直线」这个谬论的受害者，因此他才会认为购买所有彩票肯定会亏钱，而且买的彩票越多，亏钱的可能性越大。

购买 600 万张彩票的做法可以将亏钱的概率降至最低，但这并不代表它就是正确的玩法，因为我们最关注的是亏多少钱。如果玩家只买一张彩票，他几乎肯定会亏钱，但他知道自己不会亏很多钱。如果购买 600 万张彩票，尽管亏钱的概率有所下降，但会把玩家置于一个更危险的境地。当然，大家可能会认为这两种做法都不明智。亚当·斯密指出，如果彩票肯定会帮政府赚钱，与政府对赌就是不明智的行为。

亚当·斯密反对彩票的理由中缺失了「期望值」（expected value）这个因素。期望值可以用数学形式表述亚当·斯密试图表达的直觉认识，其作用原理是，假定我们拥有一个价值不确定的东西，例如一张彩票：

该彩票兑奖 10 000 000 次，其中有 9 999 999 次的结果是毫无价值；该彩票兑奖 10 000 000 次，其中有 1 次的价值是 600 万美元。

尽管不确定它的价值，但是我们可能仍然希望为它设定确定的价值。为什么呢？假如有个家伙愿意付 1.20 美元收购人们手中的彩票，那么，聪明的做法是接受这笔利润为 0.20 美元的交易，还是继续持有彩票呢？这取决于我设定的彩票价值是高于还是低于 1.20 美元。

我们可以运用下述方法计算彩票价值的期望值：对于每一种可能的结果，将出现该结果的概率与该结果所对应的彩票价值相乘。在我们这个简化的例子中，只存在两种结果：要么亏钱，要么获利。因此，我们得到：

```
9 999 999/10 000 000×0美元= 0美元
1/10 000 000×6 000 000美元= 0.60美元
```

然后，将两个结果相加：

```
0 + 0.6 = 0.60 美元
```

因此，彩票价值的期望值是 0.60 美元。如果有人上门以 1.20 美元的价格收购彩票，根据期望值，我们应该接受这笔交易。实际上，根据期望值，当初我们就不应该以 1 美元的价格购买彩票！

### 11.1 期望值并不是我们所期望的价值

期望值这个概念与显著性一样，是数学中又一个名称与含义不完全相符的概念。我们当然不会「期望」彩票的价值是 0.60 美元。恰恰相反，这张彩票要么价值 1 000 万美元，要么一文不值，没有其他可能性。

1『又见「显著性检验」，设个 0 假设（稻草人），去证明它是不成立的。目前显著性检验还是没吃透。（2020-11-19）』

举一个相似的例子。假定我认为某条狗赢得比赛的概率为 10%，并且押了 10 美元的赌注。如果这条狗真的赢了，我就会得到 100 美元；如果这条狗输了，我就什么也得不到。那么，赌注的期望值就是：

```
10%×100美元+90%×0美元=10美元
```

我当然不会期望这样的结果出现。实际上，赢得 10 美元不是一种可能的结果，更不要说是我们所期望的结果了。「平均值」这个词可能更准确一些，因为赌注的期望值衡量的实际上是我在多条狗身上多次下这样的赌注时平均获取的价值。假设我下了 1 000 次 10 美元的赌注，我很可能有 100 次押中（大数定律再次起作用），每次赚取 100 美元，总共得到 10 000 美元。因此，我下的这 1 000 注，平均每注的收益是 10 美元。从长远看，损益会取得平衡。

1-2『原来期望值得结合「大数定理」，顿悟的感觉，哈哈。做一张术语卡片。』——已完成

对于真实价值不确定的对象，例如赛狗时下的赌注，期望值可以帮助我们有效地计算其合理的价格。如果我以 12 美元的价格下注，长期赌下去，我很可能会赔钱；如果我以 8 美元的价格下注，那么我应该尽可能多地下注。现在，几乎没有人赌狗了，但无论是赛马、职工优先认购权、彩票还是人寿保险，它们的期望值机制都是相同的。

### 11.2 如何为终身年金保险定价？

17 世纪中叶至 17 世纪末，期望值成了数学领域的一个焦点，而且这方面的研究非常成熟，连英国皇家天文学家埃德蒙·哈雷（Edmond Halley）等注重实践的科学家都在应用它。没错，埃德蒙·哈雷就是发现「哈雷彗星」的那个人，他还是第一个研究如何恰当地为保险定价的科学家。在威廉三世统治时期，这项研究具有非常重要的军事意义。

当时，英国与欧洲大陆的战争进行得如火如荼，而战争需要资金的支持。1692 年，英国议会提议通过「百万英镑法案」（Million ACT），通过向全国人民销售终身年金保险的方法筹集 100 万英镑，以满足战争所需。购买终身年金保险意味着放弃年付，改为向政府一次性缴清所有保费。这种做法与人寿保险正好相反，购买终身年金保险的人都在赌短期内自己不会死亡。当时，保险统计学还处于雏形阶段，这项举措在确定年金成本时没有考虑领取年金者的年龄。因此，对于一位老奶奶而言，她可能最多需要缴纳 10 年的保费，可是她购买终身年金保险花费的钱却与儿童相同。

作为一名科学家，哈雷清楚地知道不考虑年龄因素的定价方案是非常愚蠢的。因此，他决定找出一个能够更合理地估算终身年金保险价值的方法。但是，问题在于人们的生老病死与彗星的运行一样没有严格的规律可循。不过，哈雷借助出生人口与死亡人口的统计数据，为领取年金者估算出不同的存活时间所对应的概率，从而得到年金的期望值：「很明显，由于购买者有死亡的可能，因此他支付的金额应该小于年金价值；而且年金价值应该逐年计算，各年度的年金价值的总和等于终身年金的价值。」换言之，老奶奶的预期存活时间较短，因此在购买终身年金保险时需支付的钱应该少于年龄比她小的人所支付的金额。

### 11.3 这不是显而易见的事吗？

说句题外话，每当我讲埃德蒙·哈雷与终身年金保险的这个故事时，总会有人打断我：「但是，向年轻人多收点儿钱，这不是显而易见的事吗？」事实并不是那么显而易见，或者说，作为现代人，我们已经了解了其中的道理，才会觉得这是显而易见的事。管理年金事宜的那些人没有提出这种意见，而且这样的事还会一再地发生，证明这件事并没有那么显而易见。数学中有很多现在看来显而易见的观点，例如，负数也可以进行加减运算，用成对数字可以表示平面中的点，不确定性事件的概率可以借助数学方法来表述等。它们其实根本不是那么显而易见，否则，历史上早就有人知道这些了。

说到这里，我想起哈佛大学数学系曾经发生的一件事。故事的主人公是一位备受尊敬的俄罗斯籍老教授，在这里我们把他称作 O 教授。某一天，O 教授正在讲解一道非常复杂的代数题，讲到一半时，坐在后排的一名学生举手提问：「O 教授，刚才那一步我没有弄明白，那两个运算符为什么可以相互交换呢？」O 教授眉毛一扬，回答道：「这是显而易见的。」但是，那名学生接着说：「很抱歉，O 教授，我真的不明白。」

于是，O教授走回到黑板前，添加了几行解释文字。「我们需要怎么做呢？大家看，这两个运算符都可以沿对角线方向移动，原因是……嗯，不是沿对角线方向移动，而是……等等……」O 教授不说话了，一边盯着黑板，一边挠头。过了一会儿，他回到了他的办公室。10 分钟过去了，就在学生们准备离开时，O 教授回到教室并走到讲台上。他志得意满地说道：「是的，这是显而易见的。」

1-2『哈哈，这个显而易见的例子太有趣了，数学上很多「显而易见」的事，做一张任意卡片。』——已完成

### 11.4 别玩强力球

目前，强力球风靡美国，全美有 42 个州、哥伦比亚特区及美属维尔京群岛都可以玩这种彩票游戏。这种游戏十分受欢迎，有时单次开奖就可以卖出多达 1 亿张彩票。美国人民，无论有钱没钱，都会玩这个游戏。我父亲以前是美国统计协会的主席，也玩强力球，而且经常会帮我买一张，所以我也算玩家之一。那么，玩这种彩票游戏是否明智呢？

2013 年 12 月 6 日，就在我写到这一章的时候，累积奖金已经高达 1 亿美元了，而且赢取累积奖金不是赢钱的唯一途径。与很多彩票一样，强力球也设置了多个等级的奖金，正是那些容易中的小额奖金让人们觉得这种游戏值得一玩。下面我向大家介绍如何计算一张售价为 2 美元的彩票的期望值，如果你购买了一张彩票，你就有：

```
1/175 000 000 的概率赢取 1 亿美元的累积奖金；

1/5 000 000 的概率赢取 100 万美元奖金；

1/650 000 的概率赢取 1 万美元奖金；

1/19 000 的概率赢取 100 美元奖金；

1/12 000 的概率赢取另外一个 100 美元奖金；

1/700 的概率赢取 7 美元奖金；

1/360 的概率赢取另外一个 7 美元奖金；

1/110 的概率赢取 4 美元奖金；

1/55 的概率赢取另外一个 4 美元奖金。
```

你可以从强力球网站上找到这些内容。该网站的「常见问题」页面还有很多令人吃惊的内容，例如，问：强力球彩票有有效期吗？答：当然有。天地万物都会走向没落，任何事物都无法逃脱这个铁律。因此，强力球彩票价值的期望值为：

```
1亿/1.75亿+100万/500万+10 000/65万+100/19 000+100/12 000+7/700+7/360+4/110+4/55
```

得数略小于 0.94 美元。换言之，根据期望值理论，这张彩票根本不值 2 美元。分析到这里并没有结束，因为彩票的情况还会有所变化。当累积奖金为 1 亿美元时，彩票的期望值较低。但是，只要累积奖金不被人领走，就会有更多的钱进入奖池。累积奖金越多，买彩票的人越多，就越有可能出现某个家伙中大奖、一夜暴富的情况。2012 年 8 月，密歇根铁路工人唐纳德·劳森（Donald Lawson）中了 3.37 亿美元的大奖。大奖如此丰厚，彩票价值的期望值也会随之增加。计算方法不变，我们把 3.37 亿美元的累积奖金代入上面的算式：

```
3.37亿/1.75亿+100万/500万+10 000/65万+100/19 000+100/12 000+7/700+7/360+4/110+4/55
```

得数约为 2.29 美元，买彩票似乎变成了一种不错的选择。累积奖金必须达到多少，彩票价值的期望值才会超出 2 美元的成本价呢？终于可以去找八年级的数学老师，告诉他你明白学习代数的意义了。如果我们把累积奖金的值记作 J，那么彩票价值的期望值是：

```
J/1.75亿+100万/500万+10 000/65万+100/19 000+100/12 000+7/700+7/360+4/110+4/55
```

将这个算式化简，就会得到：

```
J/1.75亿美元+36.7美分
```

现在，我们要用到代数知识了。要使期望值超过我们投入的 2 美元，我们需要使 J/1.75 亿美元的值大于 1.63 美元（即 J/1.75亿美元 > 2美元 – 36.7美分）。两边同时乘以 1.75 亿美元，我们发现累积奖金 J 的临界值略大于 2.85 亿美元。这个金额并不是多么难得一见，2012 年的累积奖金就有三次达到了这个规模。这样看来，买彩票似乎是不错的买卖，只要我们等到累积奖金足够高时再出手就可以了。

分析到这里仍然没有结束。在美国，并不是只有你学过代数。而且，即使没学过代数的人，凭直觉也能知道，在累积奖金为 3 亿美元时，彩票比累积奖金为 8 000 万美元时更加诱人。数学方法通常是人们天生就会的心算活动的形式化产物，是借助其他手段对常识的扩展。当大奖为 8 000 万美元时，彩票可能的销量是 1.3 亿张，而在唐纳德·劳森赢取 3.37 亿美元的时候，面对的竞争对手多达 7.5 亿人。

参与的人越多，中奖的人就越多。但是，大奖只有一个。如果有两个人同时中了大奖号码，他们就要平分这笔奖金。那么，一个人独得累积奖金的可能性有多大呢？这个概率为 1/175 000 000，而且要满足两个条件：第一，必须猜中全部 6 个号码；第二，其他人都没猜中。而单个玩家中不了累积奖金的概率却非常高，为 174 999 999/175 000 000。但是，如果有 7.5 亿名玩家参与彩票游戏，其中某个人中大奖的概率就会非常大。

这个中奖概率到底有多大呢？我们可以用一个大家几乎都知道的原理来说明：如果我们知道甲事发生的概率和乙事发生的概率，且两件事各自独立（一件事的发生不会对另一件事产生影响），那么它们同时发生的概率为各自发生概率的乘积。

太抽象了吗？我们以彩票为例。我中不了大奖的概率是 174 999 999/175 000 000，我父亲中不了大奖的概率也是 174 999 999/175 000 000，因此，我们两个人都中不了大奖的概率就是：

```
174 999 999/175 000 000×174 999 999/175 000 000
```

即 99.999 999 4%。换言之，我们最好不要买彩票，父亲每次买彩票，我都会这样劝他。那么，7.5 亿人中不了大奖的概率是多少呢？我只需要把 7.5 亿个 174 999 999/175 000 000 相乘就可以了。这道计算题似乎太复杂了，可能在放学后要花很长时间才能完成。但是，如果我们用指数来表述，就会简单得多，而且借助计算器很快就能完成计算。

```
(174 999 999/175 000 000)^750 000 000=0.651……
```

也就是说，其他玩家中不了大奖的概率约为 65%，其中至少有一个人中奖的概率为 35%。如果真的有另外一个人也中奖了，劳森的奖金就会从 3.37 亿美元减少到 1.68 亿美元。此时，累积奖金的期望值将会降至：

```
65%×337 000 000美元+35%×168 000 000美元=278 000 000美元
```

这个期望值略低于保证累积奖金物有所值的临界值，即 2.85 亿美元。而且，上述分析还没有考虑有两个以上的人中大奖并均分累积奖金的概率。即使累积奖金超过 3 亿美元，也可能因多人平分大奖而使彩票价值的期望值低于我们的投入。如果累积奖金的数额进一步加大，彩票价值的期望值可能会进入「物有所值」区，但是，如果高额累积奖金促使彩票销售额大增，那么彩票价值的期望值仍有可能低于其实际售价。强力球到目前为止产生的最高累积奖金是 5.88 亿美元，由两位玩家分享；美国彩票史上的最大奖产生于美国「百万大博彩」，大奖金额高达 6.88 亿美元，由三位玩家平分。

此外，我们还没有考虑中大奖之后应缴纳的税费，奖金是逐年到账的，如果我们希望提前领取所有奖金，总额就会大幅度缩水。别忘了，彩票是州政府发行的，政府对我们的情况了如指掌。在很多州，我们还没有拿到奖金时，就需要先缴纳退缴税或者履行其他财政义务。在州彩票中心工作的一位朋友跟我讲过一个中奖人的故事。一个周末，这位玩家跟他的女朋友一起来到彩票中心，领取 1 万美元的奖金。结果表明，那是一个令他抓狂的周末。在收到他的中奖彩票之后，值班的彩票中心工作人员告诉他，由于他逾期未付子女抚养费，这笔奖金的绝大部分已经被支付给了他的前女友，只剩下几百美元了。之前，这位男士的现女友完全不知道他有孩子，周末度假计划因此落空了。

如果你希望在强力球上有所斩获，最佳策略是什么呢？下面是经过数学验证的三个策略：1）别玩强力球。2）如果一定要玩强力球，也要等到累积奖金非常高的时候再买。3）如果累积奖金非常高而且你准备购买强力球，那么尽可能降低与其他人分享大奖的概率：选择其他玩家不会选择的号码；不要选择你的生日数字；不要选择以前中过奖的号码组合；不要选择可以在彩票上构成美丽图案的那些号码；一定要记住，不要选择我们在签语饼中发现的号码。（大家知道，每块签语饼中的号码都是相同的，对吧？）

强力球不是唯一的彩票游戏，但是所有彩票游戏都有一个共同点：胜算不大。亚当·斯密通过观察发现，彩票业的目的是将部分销售所得交给州财政，要实现这个目的，州政府必须保证彩票的销售所得大于奖金总额。彩票玩家付出的钱必然多于中奖所得，彩票的期望值也低于其票面价格。然而，也有例外情况。

### 11.5 麻省理工学院学生买彩票的故事

2005 年 7 月 12 日，马萨诸塞州彩票中心监督办公室接到了剑桥市晨星超市一位员工打来的不同寻常的电话。剑桥市位于波士顿郊区，是哈佛大学与麻省理工学院的所在地。一名大学生走进超市，要求购买该州新发行的「Cash WinFall」彩票。大学生买彩票并不奇怪，但奇怪的是他的购买金额很大：这位大学生拿出了 14 000 张手工填写的选号纸条，购买总金额为 28 000 美元的彩票。

彩票中心的工作人员回复那位超市员工：「没有问题。只要那些纸条填写正确，任何人想买多少张彩票都可以。」彩票中心有一个规定：除非得到彩票中心的授权，否则超市的日彩票销售金额不得超过 5 000 美元。但是，得到授权是很容易的事。那个星期，晨星超市并不是波士顿地区唯一一个销售势头强劲的彩票代理点，还有 12 家商场在 7 月 14 日开奖之前向彩票中心询问授权问题，其中有三家位于波士顿海湾南侧的昆西地区。为数不多的几位买家从多家商场买走了数以万计的「Cash WinFall」彩票，对于彩票中心来说，这是件好事。

这到底是怎么一回事呢？答案并不神秘，从「Cash WinFall」彩票的游戏规则就能清楚地看出其中的奥秘。截至 2004 年秋季，由于在一年时间内都没有人中得「Mass Millions」借鉴彩票的累积奖金，因此彩票中心决定停止发行该彩票。玩家信心不足，导致彩票销售额非常低。马萨诸塞州急需振兴该州的彩票业，彩票中心的工作人员想到了一个主意，打算借鉴密歇根的「WinFall」彩票规则，于是「Cash WinFall」彩票应运而生。

「Cash WinFall」彩票的游戏规则规定，如果一周之内没有人领走累积奖金，累积奖金不会越积越多；与之相反，只要奖池超过 200 万美元，奖金就会向下分配，增加容易赢取的奖项的金额，而累积奖金将被重置，在下一次开奖时降到 50 万美元的最低额度。采用这种新游戏规则之后，玩家即使没有中大奖，也有可能赢取大笔奖金。彩票中心希望借此提升该彩票的吸引力。

事实上，新游戏规则的效果好得过头了。在 2005 年夏天之前，极有魄力的玩家就已经发现，由于马萨诸塞州在「Cash WinFall」彩票规则的设计上漫不经心，买「Cash WinFall」彩票真的是一笔不错的交易。

在正常情况下，「Cash WinFall」彩票的奖项、中奖概率与奖金如下表所示：

如果累积奖金为 100 万美元，那么售价 2 美元的彩票价值的期望值为：

```
100万美元/930万+4 000美元/39 000+150美元/800+5美元/47+2美元/6.8=79.8美分
```

这样的价值真的很低，与之相比，买强力球似乎是精明之举。（在上述计算中，我们已经非常大方了，将免费赠送的彩票的价值定为玩家本来需要支付的 2 美元，而不是这张彩票给玩家带来的小得多的期望值。）

但当奖金向下分配时，回报率就会大不相同。2005 年 2 月 7 日，因为没有人中大奖，累积奖金的金额已经接近 300 万美元。出现这样的情况并不令人奇怪，因为当天只有 47 万人参与了「Cash WinFall」彩票游戏，而中全部 6 个号码的概率大约为千万分之一。

于是，所有的奖金全部向下分配，分配至「6 中 5」和「6 中 3」奖池的金额各为 60 万美元，此外还有 140 万美元进入了「6 中 4」的奖池。对「Cash WinFall」彩票游戏而言，6 中 4 的概率约为 1/800，因此在当天的 47 万名玩家中，应该有约 600 名玩家猜中 4 个号码。中奖玩家的人数确实很多，但 140 万美元也是金额不菲，分成 600 份，每个赢家可以得到 2 000 多美元。事实上，当天「6 中 4」的奖金应该是每注 2 385 美元左右，因此，其吸引力远远超过正常情况下 150 美元的单注奖金。如果有 1/800 的机会赢取 2 385 美元的收益，其价值的期望值就是：

```
2 385美元/800=2.98美元
```

换句话说，单凭「6 中 4」的奖金，就足以促使人们花 2 美元购买该彩票了。再加上其他奖金，收益将更加可观。因此，每张彩票的价值期望值是：

```
50 000美元/39 000+2 385美元/800+60美元/47=5.53美元
```

投入 2 美元产生 3.5 美元利润的投资，是不容错过的。当然，如果某个家伙幸运地中了大奖，那么，对于其他玩家来说，这种游戏又被剥去了华丽的外衣，变成呆头呆脑的大南瓜了。但是，购买「Cash WinFall」彩票的人一直很少，出现这种结果的可能性也很小。该游戏共有 45 次奖金向下分配的情况，其中只有 1 次有一位玩家中了全部 6 个号码，挡住了奖金持续不断向下分配的势头。

需要澄清一点：上述计算并不表示 2 美元的彩票肯定能帮你赢钱。恰恰相反，在奖金向下分配时购买的「Cash WinFall」彩票，与其他时间购买的彩票一样，很有可能让你赔钱。期望值并不是你期望实现的价值，不过，在累积奖金向下分配时，各奖项的金额（如果你真的中奖，尽管这种可能性很小）会大大增加。期望值的魅力在于，它告诉人们买 100 张、1 000 张或者 10 000 张彩票时，单注平均价值接近 5.53 美元。任何彩票都可能毫无价值，但是，如果你购买了 1 000 张，那么几乎可以肯定的是，你不仅能把买彩票的钱挣回来，还会有不错的收益。

谁会一次性购买 1 000 张彩票呢？麻省理工学院的一群大学生。我之所以可以精确地告诉大家 2005 年 2 月 7 日的「Cash WinFall」彩票中奖数据，是因为 2012 年 7 月，马萨诸塞州检察官格雷戈里·沙利文（Gregory Sullivan）向州政府提交了一份关于「Cash WinFall」彩票事件的报告，其中详尽地记录了这些数据。坦白地说，沙利文的描述令人震惊，同时会让人不由自主地联想：是否有人拥有将该报告拍成电影的权利？我敢肯定，令人们产生这种想法的州政府财政监控报告在历史上仅此一份。

2 月 7 日这一天尤为特别，是有原因的。从事一项独立研究项目的麻省理工学院大四学生詹姆斯·哈维（James Harvey），在比较该州各种彩票游戏的优缺点时发现，马萨诸塞州在不经意间创造了一个暴利投资项目，任何有一定数学知识的人都可以从中牟利。2 月 7 日是哈维发现这个秘密之后的第一个累积奖金向下分配日。他召集了一群朋友（在麻省理工学院召集一帮善于计算期望值的大学生，并不是一件难事），购买了 1 000 张彩票。不出所料，其中一张彩票中了概率为 1/800 的奖项，哈维这群人得到了 2 000 多美元的奖金。他们还有很多彩票中了「6 中 3」奖项，他们获得的奖金总额大约是最初投资额的三倍。

哈维及其投资合伙人自然不会就此罢手，同时，他也没有足够的时间去完成那个独立研究项目，他至少没有凭此拿到课程学分。实际上，他的研究项目迅速演变成了一桩发展势头迅猛的生意。那年夏天，哈维及其合伙人购买了几万张彩票，在剑桥市晨星超市购买大量彩票的大学生就是他们中的一个。尽管他们的这项活动不是漫无目的的行为，但是他们把自己的这个小团队称作「随机策略」（Random Strategies）团队，暗指麻省理工学院的本科生宿舍「兰登厅」（Random Hall）。[1] 当初，哈维就是在兰登厅草拟了通过「Cash WinFall」赚钱的计划。

除了麻省理工学院的大学生以外，还有一些人在利用「Cash WinFall」赚钱，并且至少形成了两个博彩团队。美国东北大学的医学研究人员张英（音）博士建立了「张博士彩票俱乐部」，昆西的彩票销售出现井喷现象就是这个俱乐部造成的。这群人曾在每次累积奖金向下分配时都购买 30 万美元的彩票，2006 年，张博士放弃了医学研究，全身心地投入「Cash WinFall」博彩活动。

此外，还有一个博彩团队，它的领导人是杰拉德·塞尔比（Gerald Selbee），一位 70 多岁的拥有数学学士学位的老人。塞尔比住在密歇根，这里是「WinFall」彩票的发源地。他的这个团队有 32 名成员，其中大多是他的亲戚。在 2005 年密歇根停止「WinFall」游戏之前的两年左右的时间里，他们一直在那里参与这种博彩活动。2005 年 8 月，塞尔比发现这种送钱上门的活动又开始在美国东部上演，于是他断然采取了行动，与妻子马乔丽（Marjorie）驱车前往马萨诸塞州西部的迪尔菲尔德市，开展了在那里的第一次博彩活动。他们购买了 6 万张「Cash WinFall」彩票，获得了超过 5 万美元的收益。塞尔比利用在密歇根积累的博彩经验，在购买彩票之余，还进行了另外一项活动，以赚取更多的利润。马萨诸塞州的商场在销售彩票时会收取 5% 的佣金，塞尔比与一家商场达成协议，他在该商场一次性购买几十万美元的彩票，作为交换，商场与他均分 5% 的佣金。凭此一项，塞尔比的团队在每次累积奖金向下分配时就可以多赚几千美元。

你无须拥有麻省理工学院的学位，也能明白彩票大户的大量涌现会对彩票活动产生什么影响。别忘了，向下分配的奖金之所以如此丰厚，是因为能中大奖的玩家非常少。到 2007 年，在每次累积奖金向下分配之后，彩票的销售量都会达到 100 万张甚至更多，而其中大多数都被这三个博彩团队买走了。「6 中 4」的单注奖金达到 2 300 多美元的日子早已一去不复返了。如果有 150 万人购买了彩票，「6 中 4」的中奖概率为 1/800，那么通常会有接近 2 000 名中奖者，共同分配 140 万美元的奖金，因此，单注奖金就变成了不到 800 美元。

彩票大户参与「Cash WinFall」彩票游戏并有所斩获的可能性不难估算，关键是要从彩票本身这个视角加以考虑。在累积奖金向下分配时，州政府会从累积奖金中拿出（至少）200 万美元作为小额奖项的奖金。比如，有 150 万人冲着向下分配的奖金购买彩票，那么，彩票收益就会多出 300 万美元。其中的 40%，即 120 万美元，进入了州政府的保险箱，剩余的 180 万美元则是奖金，在日落之前被玩家瓜分。因此，政府当天收入 300 万美元，支出 380 万美元（其中 200 万美元是累积奖金，180 万美元来自当天的彩票销售额）。无论何时，只要政府赚钱了，玩家的平均收益就是负数，反之亦然。因此，这一天是参与这种游戏的绝佳时机，玩家总共可以从政府那里赚到 80 万美元。

如果玩家购买了 350 万张彩票，情况就完全不同了。此时，彩票中心会留下 280 万美元作为自己的收益，把剩余的 420 万美元作为奖金支付给玩家。再加上奖池中已有的 200 万美元，奖金总额达到 620 万美元，低于政府 700 万美元的收益。换言之，尽管向下分配的奖金十分丰厚，但只要购买彩票的人足够多，政府最终一定会赚钱。出现这种结果时，政府会非常高兴。

收支平衡点是向下分配的 40% 的日收益与奖池中已有的 200 万美元（不了解其中原理或者过于热爱冒险的玩家，在非向下分配日参与这种游戏时所贡献的钱）正好相等，也就是彩票销售额为 500 万美元，销售量为 250 万张。当「Cash WinFall」的销售量超过这个数字时，就不宜参与。但是，只要销售量低于这个数字（「WinFall」彩票的销售量从未超出这个数字），玩家就可以赚钱。

实际上，我们在这里应用的是一种非常有效而且是常识性的知识，叫作「期望值的相加性」（additivity of expected value）。假定我拥有麦当劳的特许经营权和一家咖啡店，麦当劳门店年均利润的期望值为 10 万美元，咖啡店年均利润的期望值是 5 万美元。当然，利润每年都会有起伏。期望值的意思是，从长远看，麦当劳门店平均每年可以赚大约 10 万美元，咖啡店的年均利润为 5 万美元。

相加性表明，总体来讲，销售「巨无霸」汉堡与摩卡奇诺咖啡的年均总利润为 15 万美元，即两种生意的年均利润期望值之和。期望值的相加性：两个事物的期望值之和，即第一个事物的期望值加上第二个事物的期望值。

就像我们用公式 a×b=b×a 来表示乘法交换律（比如，每排有 X 个小洞，一共有 Y 排，与每排有 Y 个小洞，一共有 X 列相比，小洞的总数相同），数学家也热衷于用公式表示上述过程。因此，如果 X 与 Y 是两个数字，我们不清楚它们的值分别是多少，且 E（X）表示「X 的期望值」，那么期望值的相加性就可以表示为：

```
E(X+Y) = E(X) + E(Y)
```

下面，我向大家介绍期望值相加性在彩票分析中的应用。每次开奖时，所有彩票的总价值是政府发放的奖金总额。因此，总价值不具有任何不确定性，在上面第一个例子中总价值就是向下分配的奖金总额，即 380 万美元。肯定到手的 380 万美元，它的期望值就是我们所期望的价值，即 380 万美元。

在这个例子中，向下分配日当天有 150 万个玩家参与游戏。根据期望值的相加性，150 万张彩票的期望值总和就是彩票总价值的期望值，即 380 万美元。但是，每张彩票价值相同（至少在我们知道中奖号码之前如此）。因此，我们把 150 万个相同的数字相加，和为 380 万美元，那么这个数字只能是 2.53 美元。也就是说，我们对这张售价 2 美元彩票的利润期望值是 0.53 美元。这个利润已经超过了赌注的 25%，对于被大家视为骗钱的彩票游戏而言，这样的利润相当可观。

相加性原理十分直观，因此我们很容易认为这是显而易见的事实。但是，它与终身年金保险的定价方法一样，其实并不是那么显而易见。为了说明这个问题，我们用其他概念来取代期望值，就会发现我们往往会得出乱七八糟的结果。例如：一连串事物的和的最可能的值就是各事物最可能的值的和。

这就大错特错了。假定我在我的三个孩子中随机选择一个人继承财产，每个孩子最可能分得的财产为零，因为他有 2/3 的概率不会被我选中。但是，三个人得到的财产总额的最可能的值（其实，只有一个可能值）却是我的所有财产。

2『妙啊，一连串事物的和的最可能的值就是各事物最可能的值的和。做一张反常识卡。』——已完成

### 11.6 布封的硬币、缝衣针与面条问题

大学生与彩票的故事讲到这里，我们需要暂停一下，因为谈及期望值的相加性时，我必须向大家展示我知道的最能说明问题的证据，它的核心正是期望值的相加性。

我首先要向大家介绍一种叫作「franc-carreau」（franc-carreau 的大致意思是「正好落在正方形之中」，游戏中使用的硬币不是法郎，因为当时流通的货币不是法郎，而是埃居）的游戏。这个游戏与热那亚彩票一样，都会让我们想起无所不赌的古代。只要有一枚硬币和由方砖铺成的地板就可以玩「franc-carreau」游戏。人们把硬币扔到地上，然后押下赌注，猜硬币是完全落在一块砖上还是骑在砖缝上。

布封（Georges-Louis LeClerc， Comte de Buffon）是勃艮第的一位地方贵族，学术造诣很高。他上的是法学院，可能是想像他的父亲一样当一名地方行政官，但是，在拿到学位之后，他立刻将法学抛到脑后，迷上了科学。1733 年，那时他才 27 岁，但他已经是巴黎皇家科学院的成员了。

布封后来成了一名著名的博物学家，完成了 44 卷的巨著《自然史》（Natural History）。他在这本书中提出了一个理论，希望能像牛顿解释运动与力的理论那样，以普适、不费力的方式解释生命的起源。年轻的时候，布封与瑞士数学家加布里埃尔·克莱姆（Gabriel Cramer）的一次短暂会面以及之后长期的书信往来，让他对理论数学产生了兴趣，并以数学家的身份进入巴黎皇家科学院。

在提交给巴黎皇家科学院的论文中，布封将几何学与概率论巧妙地结合在一起，而此前人们一直认为这两个数学领域之间没有联系。但是，他研究的对象不是行星沿轨道运行的方式或者大国经济这些大问题，而是低俗的「franc-carrearu」游戏。在论文中，布封提出了一个问题：硬币完全落在一块砖上的概率是多少？砖的面积多大时，这个游戏对双方来说才是公平的？下面我向大家介绍布封的方法。如果硬币的半径是 r，方砖的边长为 L，那么，只要硬币的圆心落在一个边长为 L–2r 的小正方形的外面，硬币就会接触到砖缝。

小正方形的面积是 `(L–2r)^2`，大正方形的面积是 L^2，因此，如果我们赌这枚硬币「完全落在大正方形之中」，那么我们获胜的概率就是 `(L–2r)^2/L^2`。要使游戏公平，这一概率必须是 1/2，即：`(L–2r)^2/L^2=1/2`。

布封解出了这个方程式（如果学过这方面的知识，我们也能解开这个方程式），他发现只有当砖的边长是硬币半径的 `4+2√2` 倍，也就是接近 7 倍时，游戏才是公平的。将概率论与几何图形相结合，是一种新颖的想法，具有研究价值。但是，这样做的难度比较小，布封知道单凭这个发现是不可能进入巴黎皇家科学院的。于是，他继续深入研究：「但是，如果扔到空中的不是埃居这样的圆形物体，而是其他形状的物体，例如方形的西班牙皮斯托儿金币，或者一根缝衣针、一根短木棒等，解决这个问题时需要的几何知识就会多一些。」当然，这是一个保守的说法。缝衣针问题，是时至今日布封的名字仍然没有被数学界忘记的原因之一。下面，我把布封的话用更准确的语言重新解释一遍：

布封的投针问题：假定地面是用细长木板条铺成的硬木地面，你手上正好有一根缝衣针，而且针的长度正好等于木板条的宽度。把缝衣针扔到地面上，它骑在木板条缝上的概率是多少？

如果我们扔到地面上的是埃居，那么路易斯四世的脸是朝上还是朝下，对我们都没有任何影响。圆从任何角度看都是一样的，因此，硬币骑缝的概率并不取决于它的朝向。但是，布封使用的缝衣针却不同。如果缝衣针的方向与木板条缝的方向近乎平行关系，那么它骑缝的概率会非常低。

如果缝衣针的方向与木板条缝的方向近乎垂直关系，我们几乎可以肯定缝衣针会骑在木板条缝上。

「Franc-carreau」游戏具有高度的对称性，用术语来讲，这个游戏的结果始终处于轮换状态。但在投针问题中，这种对称性被破坏了，因此游戏的难度大幅度增加。我们不仅需要关注缝衣针中心点的位置，还要关注缝衣针的朝向。

在两种极端的情况下，缝衣针骑在木板条缝上的概率是 0（缝衣针的方向与木板条缝的方向为平行关系）或者 1（缝衣针的方向与木板条缝的方向为垂直关系）。因此，我们有可能取中间值，认为缝衣针与木板条缝接触的概率正好是 1/2。

但是，这种想法是不对的。事实上，缝衣针与木板条缝相交的概率，远大于缝衣针完全位于某个木板条之内的概率。布封投针问题的答案是：缝衣针骑在木板条缝上的概率为 2/π，约等于 64%。这个答案出人意料，我们并没有看到圆，但答案里为什么会出现 π 呢？布封在计算时，使用了一种复杂的证明方法，需要计算一种由叫作「摆线」（cycloid）的线条所围成的面积。计算该面积时要用到微积分知识，微积分对于现代数学专业二年级的学生而言并不难，但要完全掌握也不是件容易的事。

不过，在布封进入巴黎皇家科学院 100 多年之后，约瑟夫–埃米尔·巴比埃（Joseph-Émile Barbier）发现了另外一种方法。这种方法无须使用严谨的微积分知识，它虽然也有一点儿复杂，但只需要运用算术与基础几何知识，其中最重要的就是对期望值相加性的应用！

该方法的第一步是将布封投针问题用期望值理论重新加以表述：与缝衣针相交的木板条缝的条数期望值是多少？布封计算的这个数字代表的是缝衣针与木板条缝相交的概率 p，因此，缝衣针与所有木板条缝都不相交的概率是 1–p。但是，如果缝衣针与木板条缝相交，就只能与一条木板条缝相交。[2] 

因此，我们可以用计算期望值的常用方法，即让可能相交的木板条缝数与该数字对应的概率相乘，得数加总就可以得到相交木板条缝数的期望值。在本例中，概率只能为 0（观察到该结果的概率为 1–p）和 1（观察到该结果的概率为 p），因此，我们可以把 `(1–p)×0=0` 与 `p×1=p` 相加，得数为 p。也就是说，相交木板条缝数的期望值是 p，与布封通过计算得到的数值相同。到这一步，我们似乎还没有取得什么进展。如何计算出这个神秘的数值 p 呢？

在面对数学难题一筹莫展时，我们通常有两种选择：第一，把问题简单化；第二，把问题复杂化。

把问题简单化似乎是一个更好的选择。用一个相对简单的问题替代我们要解决的难题，然后寄希望于在解决简单问题的过程中获得灵感，为我们解决那道难题提供某种思路。数学家用平稳的原始数学机制为复杂的现实系统建立模型时，用的就是这种方法。有时，这种方法非常有效。在计算较重抛射体的运动轨迹时，如果我们忽略空气阻力，认为该物体在运动过程中只受到万有引力的作用，就可以取得很好的效果。但是，我们的简化措施有时过于简单，以致连问题的重要特征都被抹杀了。很早以前就有这样一个故事：一位物理学家接到一个优化奶品生产的任务，他满怀信心地说「假设有一头球形的奶牛……」

循着让问题简单化的思路，我们有可能从更简单的「frand-carreau」游戏中找到灵感，帮助我们解决布封投针问题：「假设有一根圆形的缝衣针……」但是，硬币不具有缝衣针的那种特征，因此，我们并不清楚从硬币游戏中能找到哪些有用的信息。

我们考虑另一种策略：把问题复杂化。巴比埃在当时也做出了同样的选择，虽然这种策略的前景看似并不乐观，但一旦发挥作用，就会产生难以想象的魔力。

我们试着思考这样一个问题：如果缝衣针的长度等于两块木板条的宽度，那么与它相交的木板条缝数的期望值是多少？这个问题似乎更加复杂，因为可能出现的结果不是两个，而是三个：缝衣针有可能完全位于一块木板条上，有可能与一条木板条缝相交，也有可能与两条木板条缝相交。因此，在计算相交木板条缝数的期望值时，我们需要计算三个（而不是两个）独立事件的发生概率。

但是，由于期望值具有相加性，因此这个更复杂的问题其实比我们想象的容易。我们在缝衣针的中心位置画一个点，把长缝衣针分成两段，并分别标记为「短缝衣针1」和「短缝衣针2」，如下图所示。

此时，与长缝衣针相交的木板缝条数的期望值就是「短缝衣针1」的期望值与「短缝衣针2」的期望值的和。用代数语言来表示，如果 X 是与短缝衣针 1 相交的木板条缝数，Y 是与短缝衣针 2 相交的木板条缝数，那么与长缝衣针相交的木板条缝数就是 `X+Y`。每根短缝衣针的长度等于布封缝衣针的长度，因此，与每根短缝衣针相交的木板条缝数的期望值为 p，也就是说，E(X) 与 E(Y) 都等于 p。与整根缝衣针相交的木板条缝数的期望值 `E(X+Y)` 等于 `E(X)+E(Y)`，即 p+p，得数为 2p。当缝衣针的长度是木板条宽度的 3 倍、4 倍甚至 100 倍时，上述推理方法同样适用。如果缝衣针的长度为 N（我们取木板条的宽度作为度量单位），那么与它相交的木板条缝数的期望值就是 Np。

无论缝衣针多长或者多短，这个结论同样适用。假定我扔出去的缝衣针的长度为 1/2，即其长度等于木板条宽度的一半。由于长度为 1 的布封缝衣针可以分成两根长度为 1/2 的缝衣针，布封缝衣针的期望值为 p，所以长度为 1/2 的缝衣针的期望值是 1/2p。事实上，对于任意正实数 N，无论大小，公式「与长度为 N 的缝衣针相交的木板条缝数的期望值是 Np」都成立。

到这一步，我们还有一个非常难的证明没有完成。当 N 的值取像 2 的平方根这样令人讨厌的无理数时，我们需要采用某些技术手段，证明上述结论仍然适用。请大家放心，巴比埃证明方法的精髓就是我在这里向大家介绍的这些。接下来我们要采用一个新的视角，即「折弯缝衣针」。

上图中的缝衣针是我们到目前为止遇到的最长的针，长度为 5。这根针被折弯了两次，首尾相连后构成了一个三角形。三角形的三条边长分别为 1、2、2，可能相交的木板条缝数的期望值分别为 p、2p、2p。根据期望值的相加性，整根针可能相交的木板条缝数的期望值是三条边的总和，即：`p+2p+2p=5p`。

换言之，对于折弯的缝衣针而言，「与长度为 N 的缝衣针相交的木板条缝数的期望值是 Np」这一结论也成立。接下来，我们再讨论一下下图所示各种形状的缝衣针的情况。

我们在前面见过这些图形。2 000 年前，阿基米德与欧多克斯在提出穷竭法时，就使用了这些图形。最后一幅图看上去像一个直径为 1 的圆，但实际上它是由 65 536 根短缝衣针构成的多边形。我们的肉眼无法看出两者之间的不同，当然，地板也不会知道它们不是同一形状。因此可以说，与直径为 1 的圆相交的木板条缝数的期望值，约等于与 65 536 边形相交的木板条缝数的期望值。根据「折针」规则，这两个期望值都是 Np，其中 N 是多边形的周长。那么，这个多边形的周长是多少呢？应该非常接近于圆的周长。圆的半径为 1/2，它的周长是 π，所以与圆相交的木板条缝数的期望值是 `πp`。

这种把问题复杂化的方法，大家认为怎么样？问题变得越来越复杂，越来越具有一般性，但是否有人认为我们还没有解决最基本的问题：p 到底是多少？

大家可能都没有想到，我们刚才已经算出 p 的值了。与圆相交的木板条缝数到底是多少？我们把缝衣针折成圆形之后，在由硬币变成缝衣针时丧失的对称性又被我们找回来了。如此一来，这个难题就变得简单多了。无论圆落在什么位置都没有关系，因为与它相交的木板条缝数一定是 2。

因此，相交木板条缝数的期望值就是 2。我们知道该期望值还等于 `πp`，于是，我们算出 `p=2/π`，这跟布封的计算结果不谋而合。实际上，上述证明过程适用于所有缝衣针，无论它是多边形还是弯曲的，相交木板条缝数的期望值都是 Lp，其中 L 是以木板条宽度为计量单位时缝衣针的长度。即使把一人份意大利面扔到地板上，想知道其中一根面条会骑在几条地板缝上，我也能准确地告诉你它的期望值是多少。这就是布封投针问题的一般形式，数学家们开玩笑说这是「布封的面条问题」。

1『整个证明过程知道是很神奇也很美妙，但目前没看懂，待多次消化。（2020-11-19）』

### 11.7 海洋与炸药

巴比埃的证明让我想起代数几何学家皮埃尔·德利涅（Pierre Deligne）写给他的老师亚历山大·格罗腾迪克（Alexander Grothendieck）的信中的一句话：「似乎什么也没发生，但到最后，一个极不平凡的定理却出现在我们面前。」

人们在挖隧道时使用的炸药杀伤力越来越强，在外行人的眼中，数学家就跟这些挖隧道的人一样：他们不断地使用越来越有效的工具，越来越深入地探究未知世界。借助有效的工具确实是一种好方法，不过格罗腾迪克的看法却不同。20 世纪六七十年代，这位数学家重新阐释了理论数学的意义，他指出：「在我眼中，我们准备探究的未知事物就像泥土或者坚硬的泥灰岩，难以穿透……大海悄无声息，似乎没有发生任何变化，也没有任何物体改变位置，海水离我们是那么遥远，我们几乎听不见海浪的声音……但到最后，海水会清除一切阻碍。」

未知事物就是海底的石头，阻碍我们前进的步伐。我们可以反复在岩缝中填上炸药并引爆，直到炸碎这块岩石。布封进行的复杂微积分计算，就与这种方法十分相似。或者，我们也可以采用一种深思熟虑的方法，逐渐加深我们的理解，到最后，就像岩石被平静的海水淹没一样，曾经让我们一筹莫展的难题在我们面前迎刃而解。当前，数学研究所采用的方法，就是坐禅式冥想与炸药爆破二者相互作用并取得微妙平衡的产物。

### 11.8 数学家与精神病人

1860 年，21 岁的巴比埃发表了他对布封定理的证明方法，那时他是巴黎高等师范学院的一名有前途的学生。1865 年，因为精神问题，他离开了巴黎，没有留下联络方式。从那以后，没有一位数学家见过他。直到 1880 年，他的一位老师约瑟夫·波特兰（Joseph Bertrand）在一家精神病院里发现了巴比埃。格罗腾迪克于 20 世纪 80 年代离开学术界，目前在比利牛斯山脉过着塞林格式的隐居生活。没有人知道他现在正在研究什么数学问题，或者他是否还在做数学研究，有人说他以牧羊为生。

关于数学，人们普遍持有一种错误的观念，觉得数学会令人发疯，或者数学本身就非常疯狂。前文中讲的那个故事正好佐证了这种想法。戴维·福斯特·华莱士（David Foster Wallace）是数学背景最深厚的现代小说家（他曾经中止小说创作，就无限集合论写了一本厚厚的书）。华莱士把这种错误的观念描述成「数学情节剧」，主人公是「普罗米修斯–伊卡洛斯式的人物，他最突出的天赋就是傲慢自大，这也是他致命的缺陷」。《美丽心灵》（A Beautiful Mind）、《证据》（Proof）与《圆周率》（π）等电影把数学视为困难与逃避现实的代名词。斯科特·特罗（Scott Turow）在畅销悬疑小说《推定无罪》（Presumed Innocent）中设置了一个峰回路转的情节：疯狂的凶手竟然是主角的妻子，她是一位数学家。（小说的悬疑情节来自女主角对一种扭曲性别观的追求，极其明显地暗示了凶手之所以如此疯狂，是因为她作为一名女性竟然无视困难去钻研数学。）最近，这个故事又摇身一变，在小说《夜色中狗的离奇逸事》（The curious Incident of the Dog in the Night-Time）中粉墨登场：数学天赋成了孤独症的一个致病因素。

华莱士不认同这种对数学家心理状况的描述，我与他的观点一致。在现实世界中，数学家是一群普普通通的人，过着平常的生活。他们的确会在困难重重的抽象世界里孤身奋战，但这样的状况并不是经常发生。数学家不会过度用脑而使自己崩溃，相反，数学研究往往会使他们的心理更加健康。我发现，在极端情绪出现时，数学问题往往具有最强的安抚作用，可以消除某些心理疾病。与冥想一样，数学也可以让我们直接接触宇宙，将我们置身于广袤的天地间。如果不让我钻研数学，我反倒有可能发疯。

### 11.9 想办法促使累积奖金向下分配

我们还是回到马萨诸塞州，接着谈彩票问题。

参与「Cash WinFall」游戏的人越多，利润就会越少；每多一个人大量购买彩票，就会多一个人瓜分奖金。杰拉德·塞尔比告诉我，「随机策略」团队的卢玉然（音）有一次提出了一个建议。卢认为，在累积奖金向下分配时，「随机策略」团队与塞尔比团队应该轮流参与游戏，以确保每个团队都有一个更大的利润空间。塞尔比认为这个提议的意思是，「你是大户，我也是大户，但是我们无法阻止别的玩家分走我们的利润」，而通过合作，至少塞尔比团队和「随机策略」团队可以互相钳制。这个提议很有道理，塞尔比却拒绝接受。他觉得利用游戏中的巧合是一件心安理得的事，因为游戏规则对所有玩家一视同仁。但是，如果同其他玩家合谋，在他看来就是作弊，即使合谋的内容并不一定会破坏彩票游戏的规则。因此，这三个团队可以说是「三足鼎立」。由于大户们在每次开奖前都会购买 120-140 万张彩票，因此塞尔比估计，在奖金向下分配日，彩票价值的期望值仅比彩票的价格高出 15%。

即便如此，利润仍然相当可观。不过，哈维及其合伙人对此并不满意。职业彩票玩家的生活与我们想象的不同，对哈维来说，管理「随机策略」团队是一份全职工作，但不是特别令他满意的工作。在向下分配日到来之前，他们必须手工填写几万张彩票。到了向下分配日，哈维还要组织多名成员，到愿意接受大量购买彩票的便利店，把所有彩票号码输入计算机。在中奖号码公布之后，他们还得花时间辛苦地分拣出中奖的彩票。那些没有中奖的废票也不能扔进垃圾箱，而要装进收纳箱保存起来，因为在彩票游戏中赢取大笔奖金之后，美国国税局经常会来查账，所以哈维必须保留这些废票来证明自己的博彩活动合法。（杰拉德·塞尔比保留了金额为 1 800 万美元的废票。）中奖彩票也需要履行相关手续，只要中奖，无论奖金多少，团队的每名成员都需要填写 W-2G 个税申报表。现在，大家还觉得这件事有意思吗？

检察官格雷戈里·沙利文估计，在发行「Cash WinFall」彩票的整整 7 年时间里，「随机策略」团队的税前收益为 350 万美元。我不知道詹姆斯·哈维分到了多少钱，但我知道他买了一辆车——一辆 1999 年产的二手尼桑「新天籁」。在「Cash WinFall」彩票刚发行时，人们轻轻松松就可以赚取一倍的利润。尽管这样的美好时光一去不复返，但似乎不是遥不可及，哈维及其合伙人肯定希望美梦再续。不过，塞尔比团队和「张博士彩票俱乐部」在每个累积奖金向下分配日，都会购买几十万张彩票，在这种情况下，他们怎么可能得偿所愿？

其他彩票大户会持续参与彩票活动，只有在累积奖金不足以触发奖金向下分配时他们才会偃旗息鼓。但是，在这些开奖日，哈维也会全程参与，他的理由很充分：没有向下分配的钱，博彩活动就没有吸引力。

2010 年 8 月 13 日星期五，彩票中心预计下周一开奖时的累积奖金为 167.5 万美元，远低于奖金向下分配的门槛。张博士与塞尔比的团队按兵不动，等待累积奖金超出向下分配的底线，但「随机策略」团队却采取了不同的行动。在之前几个月的时间里，他们悄悄地做好了准备，打算在累积奖金接近但没有达到 200 万美元时，一次多买几万张彩票。这一天终于到来了，团队全体成员分散到大波士顿地区各处，购买了大量彩票，总计为 70 万张。由于「随机策略」团队突然注入了这笔现金，到 8 月 16 日星期一时，累积奖金达到 210 万美元。因此，这一天变成了累积奖金向下分配日，也是彩民的发薪日。但是，除了麻省理工学院的这群大学生以外，没有人知道这一天就要来了。那次开奖时，哈维团队持有接近 90% 的彩票，他们甩掉了竞争对手，独自站在那座金山前面。「随机策略」团队赚了 70 万美元，他们的投资成本为 140 万美元，利润率达到了相当可观的 50%。

不过，这种办法只能用一次。在这件事发生之后，彩票中心设置了一个预警系统，如果发现某个团队试图凭借一己之力推动累积奖金超过向下分配的底线，就会及时通知彩票中心的高级主管。12 月底，「随机策略」团队再次使用这个伎俩，但是彩票中心已经做好了充足的准备。12 月 24 日上午，距离开奖还有三天时间，彩票中心的业务部主任就收到同事发来的电子邮件：买「Cash WinFall」的那帮家伙正在行动，试图推动累积奖金向下分配。

如果哈维寄希望于彩票中心的工作人员正在度假，那他完全失算了。圣诞节那天一早，彩票中心就修改了累积奖金的估计金额，宣布累积奖金即将向下分配。其他彩票团队还在为 8 月的那次挫败耿耿于怀，在得知这个消息之后，他们立刻取消了圣诞度假计划，购买了几十万张彩票，使彩票利润回归至正常水平。

无论如何，这场游戏即将落下帷幕。随后不久，《波士顿环球报》（Boston Globe）的记者安德里亚·艾斯提斯（Andrea Estes）的一位朋友，在彩票中心公布的赢家「20–20名单」中注意到一个有趣的现象：中奖的密歇根人非常多，而且他们都是在「Cash WinFall」彩票游戏中中奖的。艾斯提斯有没有怀疑其中有玄机呢？2011 年 7 月 31 日，《波士顿环球报》头版刊登了艾斯提斯与斯科特·艾伦（Scott Allen）撰写的新闻报道，为大家介绍了这三个博彩团队在「Cash WinFall」彩票游戏中的垄断行为。8 月，彩票中心修改了该彩票的游戏规则，规定单个零售点的日彩票销售额不得超过 5 000 美元。该举措有效地切断了彩票团队大量购买彩票的渠道，但是，损失已经不可挽回。「Cash WinFall」游戏的目的是吸引普通玩家，但是，现在看来这个目的无法实现了。2012 年 1 月 23 日，「Cash WinFall」完成了它的最后一次开奖（确切地说，是最后一次累积奖金向下分配后的开奖）。

### 11.10 谁是最后的赢家？

詹姆斯·哈维并不是第一个利用彩票的不合理设计牟利的人。在密歇根州政府吸取教训并于 2005 年叫停「Cash WinFall」游戏之前，杰拉德·塞尔比的团队已经从中赚了几百万美元。而且，类似行为早就存在。18 世纪初，法国通过销售债券为政府提供资金，但是由于利率的吸引力不够，这些债券的销售并不理想。为了增加吸引力，政府在销售债券时搭售彩票。每张债券的持有人有权购买一张彩票，彩票的奖金为 50 万里弗（livre）[3]，足够中奖者舒舒服服地生活几十年。但是，由于财政部副部长米歇尔·勒佩尔蒂埃·福茨（Michel Le Peletier des Forts）在制订彩票计划时计算错误，导致彩票的奖金远远超过彩票销售所得。换句话说，与累积奖金向下分配日的「Cash WinFall」一样，彩票价值的期望值大于彩票售价，只要人们大量购买彩票，就肯定能大赚一笔。

数学家、探险家查尔斯–马利·拉孔达明（Charles-Marie de La Condamine）发现了这个秘密。于是，他跟后来的哈维一样，召集了一帮人一起购买彩票，作家伏尔泰（Voltaire）也是其中一员。在他们制订合作计划时，伏尔泰虽然在数学方面没有什么作为，但在其他方面做出了贡献。当时，彩票玩家需要在彩票上写下一句箴言，以便在该彩票中大奖时流传开来。伏尔泰觉得这是自我表现的大好时机（这也符合他的性格特征），因此他在自己的彩票上写下了「众生平等」「福茨万岁」等口号。

最终，政府发现了其中的秘密并且终止了这个计划，但是，拉孔达明与伏尔泰已经赚到了足以安享余生的钱。否则，你以为伏尔泰仅凭那些文字优美的随笔与短剧就能维持生计吗？当时与现在一样，靠写作是不可能发大财的。

18 世纪的法国，既没有计算机、电话，也没有办法统筹处理彩票购买人与购买地点等信息，因此，政府花了好几个月的时间才察觉到伏尔泰与拉孔达明的图谋，是完全可以理解的。那么，马萨诸塞州有什么借口呢？从彩票中心第一次注意到大学生在麻省理工学院附近的超市大量购买彩票的怪异行径，到《波士顿环球报》报道此事，中间整整隔了 6 年时间。他们怎么可能不知道其中的秘密呢？

原因很简单：他们真的不知道。连詹姆斯·哈维都觉得自己的博彩计划似乎过于完美，他认为彩票游戏的漏洞十分明显，因此肯定会有一些监管手段阻止他们的计划。2005 年 1 月，他来到布雷因特里的彩票办公室，了解大额博彩计划是否符合规定。此时，他的团队还没有开始首次博彩活动，甚至还没有想好团队的名字。所以，如果彩票中心希望了解这件事，连调查都没有必要，我估计当时彩票中心给哈维的答复是「没问题，小伙子，尽管买吧」之类的话。几周之后，哈维及其伙伴一起完成了第一次投注。

随后不久，杰拉德·塞尔比也加入了彩票大户的行列。他告诉我，2005 年 8 月，他告知布雷因特里彩票办公室的几位律师，自己将率领密歇根彩票团队来马萨诸塞购买彩票，并就此征求了他们的意见。因此，大额投注的存在对于马萨诸塞州政府而言根本不是秘密。

哈维、张博士与塞尔比这三个团队从政府金库中赚取了好几百万美元，为什么马萨诸塞州政府却无动于衷呢？有哪一家赌场会任凭玩家一周又一周地击败庄家而不采取任何行动呢？

要解开这个谜团，我们需要更深入地研究彩票的原理。每销售一张 2 美元的彩票，马萨诸塞州政府会留下 0.80 美元。这些钱中的一部分作为佣金支付给销售彩票的商家，一部分用作彩票运营开支，其余的则分发给全州各个市镇。2011 年，仅支付给警察、学校以及填补地方政府财政预算的窟窿，就接近 9 亿美元。

剩下的 1.20 美元被放进彩池，作为玩家的奖金。大家还记得我们在前文中得出的计算结果吗？在正常情况下，彩票价值的期望值仅为 0.80 美元，也就是说，政府每销售一张彩票，就会返还 0.80 美元。还有 0.40 美元去哪儿了？这些钱变成了向下分配的奖金。如果仅拿出 0.80 美元作为奖金，将无法清空奖池。累积奖金越来越高，到达 200 万美元之后，就会产生向下分配的奖金。此时，彩票从本质上发生了一些变化。犹如打开了泄洪闸，累积奖金像洪水一样倾泻而出，流到那些翘首以盼的聪明人手中。

政府也许会遭受经济损失，但是我们需要放宽眼界。玩家中奖所得的那些钱本来就不是马萨诸塞州政府的，从一开始这笔钱就要以奖金的形式返还给玩家。政府从每张彩票中拿走 0.80 美元，然后把剩余的钱返还给玩家。销售的彩票越多，政府的收益就越高。政府不关心谁会中奖，他们关心的是有多少人参与这项活动。

因此，在那几个博彩团队通过参与向下分配日的博彩活动赚取丰厚利润时，他们拿走的也不是政府的钱，而是其他玩家的钱，特别是那些决策不当、在非向下分配日参与博彩活动的那些玩家的钱。这些博彩团队没有击败庄家，因为他们就是庄家。

就像拉斯韦加斯赌场的经营者一样，彩票大户们根本不会受到坏运气的影响。在彩票游戏中，任何玩家都有可能手气很好，赢走一大笔钱，博彩团队也一样。如果普通玩家猜中所有 6 个号码，他们就会拿走所有向下分配的奖金。但是，哈维等人经过精心计算，把这种结果出现的可能性降到足够低的程度。在「Cash WinFall」彩票游戏的历史上，其他玩家在向下分配日赢得大奖的情况只发生过一次。如果在机会对你有利时投入足够多的资金，就能抵消任何可能出现的坏运气。

当然，在这种情况下，博彩活动的乐趣会大大减少。但是，像哈维这样的彩票大户追求的并不是乐趣，他们的所有行动都秉承了一个简单的理念：如果博彩活动令人热血沸腾，就说明他们的参与方式是错误的。

如果庄家是博彩团队，那么政府在其中扮演的是什么角色呢？政府扮演的就是政府这个角色。对于赌场，内华达政府会收走它们的一部分利润。作为交换，政府负责维护基础设施和管理工作，这样赌场才能蓬勃发展。同样，马萨诸塞州也会从博彩团队的收益中收取一笔钱。在「随机策略」团队购买了 70 万张彩票并促使奖金向下分配的时候，马萨诸塞州各个市镇从每张彩票中收取 0.40 美元，总收入为 56 万美元。无论赢钱的概率有多大，政府都不应该从事赌博活动，他们应该做的是收税。从本质上讲，这就是马萨诸塞州政府发行彩票的初衷。而且，彩票计划也不是毫无效果。检察官沙利文的报告指出，彩票中心通过「Cash WinFall」游戏获得了 1.2 亿美元的税收。如果有 9 位数的收益，我们可能不会认为自己上当受骗了。

那么，上当受骗的到底是谁呢？人们可能会回答是「其他玩家」，流进博彩团队钱包中的毕竟是这些玩家的钱。但是，检察官沙利文在报告结尾部分却严肃地指出根本没有人上当受骗。在累积奖金即将达到 200 万美元并可能推动奖金向下分配时，只要彩票中心向公众公布这一情况，与大额博彩活动相比，购买一张彩票或者几张彩票的普通玩家就不会处于不利局面。总之，大额博彩活动不会对任何人的中奖概率产生影响，普通玩家与彩票大户的中奖概率是相同的。如果累积奖金达到了向下分配的门槛，「Cash WinFall」彩票就会有很高的中奖概率，不仅对大户玩家如此，对普通玩家也是如此。

沙利文认为，哈维等博彩团队的出现不会影响其他玩家中奖的概率。他的这个观点是正确的，但是他和亚当·斯密犯了同样的错误：这里应当考虑的问题不仅仅是中奖概率，还应该考虑收益或者损失的平均期望值。博彩团队购买几十万张彩票，会大幅增加各奖项的中奖彩票数，因此，每张中奖彩票的价值会降低。从这个意义上讲，博彩团队对普通玩家的利益造成了伤害。

打个比方，如果教堂在举办抽奖售物时几乎无人捧场，我赢得那只砂锅的可能性就很大。如果有 100 人购买了抽奖券，我赢得砂锅的概率就会大幅降低，这可能会让我不开心。但是，这种情况是不是不公平的呢？如果我发现那 100 人其实是为某个人服务的，这个人特别希望得到一只砂锅，并且计算出购买 100 张抽奖券的成本比砂锅零售价低 10% 左右，因此做了这番谋划，那么，出现上述情况仍然是公平的吗？从某种意义上讲，这个人的这番作为并不是那么正大光明，但我还是不能认为自己上当受骗了。当然，对于教堂而言，来的人越多，赚的钱就越多，毕竟赚钱才是这项活动的最终目标。

即使那些博彩大户的行为算不上欺骗，「Cash WinFall」游戏仍然令人不安。每个月，詹姆斯·哈维都会充当虚拟赌场的业主，从那些不精于此道的玩家手里赚钱。最终，政府考虑到彩票的奇怪规则，叫停了他的这种行为。但是，这件事不正好说明这些规则有问题吗？马萨诸塞州秘书长威廉·加尔文（William Galvin）告诉《波士顿环球报》：「它就是适合有经验的人参与的个人彩票游戏。但问题是，为什么要开展这样的活动呢？」

如果我们回过头仔细研究那些计算结果，就会轻易地发现一个可能的答案。别忘了，政府引进「Cash WinFall」游戏的目的是让彩票更受欢迎。而且，他们成功了，只不过效果没有预期的那么好。如果关于「Cash WinFall」游戏的质疑声甚嚣尘上，导致在每个向下分配日销售给马萨诸塞州普通公民的彩票数突破 350 万张，会有什么结果呢？请记住，参与的人越多，政府赚的钱就越多。我们前面计算过，如果彩票销售量达到 350 万张，那么即使在向下分配日，政府也是大赢家。现在，规则的漏洞被堵上了，博彩团队也会纷纷瓦解，所有人（那些大户玩家可能例外）都会感到心情愉快。

销售额如此巨大的彩票活动可能存在极大的风险，但是马萨诸塞州彩票中心的官员们认为，如果走运，是有可能大赚一笔的。归根结底，这是赌徒心理在作祟。

## 1201. 效用理论、风险与不确定性

1982 年的诺贝尔经济学奖得主乔治·施蒂格勒（George Stigler）说过：「如果你从来没有误过飞机，那只能说明你浪费在机场的时间太多。」如果最近刚好误过一次飞机，我们肯定会认为这个说法违背了我们的直觉。当我滞留在芝加哥奥黑尔机场啃着难吃的售价 12 美元的可萨鸡肉卷时，我发现自己在经济学方面的判断力实在不怎么样。尽管施蒂格勒的说法非常奇怪，期望值却表明他是对的，至少对于经常乘坐飞机的人而言是这样。我们把这个问题简单化，只考虑三种方案：1）提前 2 小时到达机场，误机概率为 2%。2）提前 1.5 小时到达机场，误机概率为 5%。3）提前 1 小时到达机场，误机概率为 15%。

当然，误机所造成的损失在很大程度上取决于当时的情境。是错过了去哥伦比亚特区的飞机，然后改乘下一个航班，还是准备参加某位亲友于第二天上午 10 点举行的婚礼却没赶上当天最后一班飞机，两者不可同日而语。在彩票游戏中，彩票的损失是以美元来计算的。而对于误机造成的损失，我们只能用时间成本来衡量，因此，确定性比彩票的损失低很多。两者都令人生气，但是没有一种被普遍认可的通货可以明确地计量生气的程度。

至少，我们还没办法用纸币来计量生气的程度。但是，我们必须做出决策，经济学家也希望找到适合的方法来计量生气的程度。根据经济学标准理论，人们在理性情况下做出的决策都将发挥最大效用（utility）。生活中的所有事物都有效用，美元、蛋糕等人们喜好的事物，其效用为正值，而磕破脚指头、误机等令人不舒服的事，其效用则为负值。甚至有人希望使用某个叫作「效用度」的标准单位来计量效用。打个比方，假设在家一小时的效用为一个效用度，那么提前两个小时赶到机场的成本就是两个效用度，而提前一个小时的成本仅为一个效用度。误机的后果显然比浪费一小时更糟糕，如果我们认为误机的成本等同于浪费 6 个小时，成本就是 6 个效用度。用效用度来表示效用之后，我们就可以计算出上述三个方案的期望值。

平均来看，方案 2 的损失最小，尽管这个方案的误机概率不是很小。的确，滞留在机场是令人不悦的事，但是，误机概率本来就不大，为了进一步降低这种概率，每次都在候机室多等半个小时，这种做法真的可取吗？也许有人认为它是可取的，这些人非常讨厌误机，在他们眼里误机的成本不是 6 个效用度，而是 20 个。如果是这样，上述计算结果就会发生变化，于是保守性的方案 1 成为首选，其期望值为：

```
-2 + 2%×(-20) = –2.4 个效用度
```

但是，这个计算结果只是改变了平衡点的位置，并不意味着施蒂格勒说错了。如果我们提前 3 个小时到机场，可能会进一步降低误机概率。但是，即使这种做法可以让我们不误机，其成本也至少为 3 个效用度，比方案 1 更差。我们可以用下图来表示在机场等候的时间与期望效用之间的关系。

这幅图也是拉弗曲线。如果在飞机起飞前 15 分钟到达机场，误机概率就会非常大，其期望效用为负值。反之，如果到得太早，也会让你损失很多效用度。最优方案应该在两者之间，取决于误机与浪费时间在我们心目中孰轻孰重。但是，最优方案的误机概率一定为正值，虽然可能性很小，但绝不等于零。如果从未误过航班，那么我们可能位于最佳方案左边很远的地方。施蒂格勒说，我们应该增加误机次数以节省效用度。

当然，这种计算必然带有主观性。对所有人而言，在机场多等一个小时造成的损失可能并不相同。（我就特别讨厌机场提供的那些可萨鸡肉卷。）因此，不能指望这个理论准确地告诉我们到达机场的最佳时间，或者误机的合理次数。最终得出的是定性结果，而不是定量结果。我不知道你们理想的误机概率是多少，我只知道这个概率肯定不是零。

在这里要提醒大家的是，实际上，接近于零的概率与真的等于零的概率是很难区分的。对于一位满世界飞的经济学家而言，接受 1% 的误机风险就意味着每年要误机一次。而对于大多数人来说，这么低的风险也许意味着一辈子都不会误机，因此，1% 的风险对于我们来说是比较合适的，总能赶上飞机并不意味着我们做出了错误的选择。同样，我们也不能以施蒂格勒的论断作为理由，认为「如果开车时没有达到汽车允许的最快速度，就意味着开得太慢」。施蒂格勒的意思是，如果汽车没有因为速度过快而报废的风险，则意味着车速太慢。这个观点虽然没有多少意义，但却是正确的。没有任何风险的唯一办法就是不开车。

施蒂格勒式的论断适用于各类问题，以政府的浪费行为为例。每个月，我们都会看到一些报道，要么有一位政府工作人员钻了制度的空子，为自己牟取了高额退休金，要么是某位市政工程的承包商虚报价格却没有受到惩罚，要么是某个政府部门在完成其历史使命之后，由于政府的惰性或者受到强力庇护而没有被撤销，仍然在消耗着财政支出。2013 年 6 月 24 日，《华尔街日报》的「华盛顿社电」博客描述了这种行为的典型表现。

社会保障部的检察官在星期一时说，该部门为 1546 名据核实已经死亡的美国人支付了 3100 万美元的退休金。该检察官说，在政府数据库中有这些人的死亡信息，表明社会保障部应该知道他们已经过世，不应继续为他们发放退休金。该检察官的这番言论有可能使社会保障部陷入更糟糕的境况。

我们为什么听任这类事件持续发生呢？答案很简单：与提前赶到机场一样，杜绝浪费行为也需要付出代价。履行义务与保持警惕都是有意义的行为，但是杜绝所有浪费行为，与把误机概率从非常低降到零一样，其成本超过收益。博客作者（曾经的数学竞赛选手）尼古拉斯·比尤德罗特（Nicholas Beaudrot）认为，3100 万美元在社会保障部每年发放的补贴款中占 0.004%。换言之，该部门在了解退休金发放对象是否死亡这方面已经做得非常好了。在有了这样优秀的表现之后，再去消除为数不多的错误，成本可能会非常高。因此，我们不应该问「政府为什么要浪费纳税人的钱」，正确的问题是「政府浪费纳税人的钱以多少为宜」。用施蒂格勒的话说：「如果我们的政府没有浪费行为，那只能说明他们在反浪费方面花了太多的时间。」

### 1201. 帕斯卡的赌注与无穷多的快乐

帕斯卡是最早清楚地理解期望值概念的人之一。1654 年，赌徒安托万·贡博（Antoine Gombaud）提出的一些问题让帕斯卡百思不得其解，为此他花了半年时间同费马通过书信进行探讨。他希望了解，从长远看哪些赌博游戏在多次参与后可能获利，哪些则可能亏本；用现代术语来阐述就是，哪些赌博游戏的期望值为正，哪些为负。人们普遍认为，帕斯卡与费马之间的信件往来代表了概率论的产生过程。1654 年 11 月 23 日夜，帕斯卡产生了一种强烈又神秘的感觉，作为一名虔诚基督教信徒的他，尽最大努力把这种感觉记录下来。

```
熊熊火焰

亚伯拉罕的神，以撒的神，雅各的神，

他不是哲学家的神，也不是学者们的神……

我一直在远离他，躲避他，拒绝他，诋毁他，

但我再也不能继续远离他了！

我只能用《福音书》里的方法来面对他。

心情愉快地彻底摈弃（尘世），

虔诚地归顺我的指引人，耶稣基督。

尘世一天的劳作，换来的是持久的愉悦。
```

帕斯卡把这页手稿缝到自己外套的衬里中，一直到他去世。在经历了「熊熊火焰」之夜后，帕斯卡基本不再从事数学研究，而把全部智慧投入到宗教研究之中。1660 年，他的老朋友费马致信给他，提议面谈，但是帕斯卡回复道：

与你开诚布公地讨论几何学，对我来说是最好的学术活动。但是，与此同时，我发现几何学毫无用处，在我看来，几何学家与心灵手巧的工匠几乎没有区别……我现在的研究与几何学思维方式相去甚远，我已经快忘记几何学是什么了。

两年之后，帕斯卡就去世了，年仅 39 岁，他留下了一些准备结集出版、捍卫基督教的笔记与简短随笔。在他去世 8 年之后，这本书才得以出版，就是《思想录》。这部伟大的著作里有大量的警句格言，内容深奥。书中用简短的语句记录了帕斯卡种种灵光一现的想法，还带有编号：

199——我们可以想象有一群人镣铐加身，都被判处了死刑。每天他们之中都有一些人会在其他人的眼前被处死，而那些暂时活着的人则从被处死者身上看到了自己的命运，等着被押上刑场。他们面面相觑，眼睛里充满悲伤，看不到一点儿希望。这就是人类境况的缩影。

209——你被主人宠爱就不再是奴隶了吗？奴隶啊，你确实是交了好运，你的主人宠爱你，但他很快也会鞭打你。

《思想录》中最知名的是第 233 条想法，帕斯卡把它命名为「无限–无物」，但是现在人们普遍叫它「帕斯卡的赌注」（Pascal’s wager）。

我们在前面讨论过，帕斯卡认为逻辑推理是无法解答上帝是否存在这个问题的，「上帝要么存在，要么不存在。但是，我们到底应该相信哪一种呢？在这个问题上，推理得不出任何答案。」不过，帕斯卡没有就此止步。他指出，信仰问题其实也是一种赌博游戏，它的风险很大，但是人们别无选择，只能参与。至于对赌注的分析，以及对明智与愚蠢做法的区分，帕斯卡的理解比地球上其他人都更加深刻，他毕竟没有完全忘记他的数学研究。

那么，帕斯卡到底是怎么计算信仰上帝的期望值的呢？答案就在他的玄妙发现中：尘世一天的劳作，换来的是持久的愉悦。显而易见，帕斯卡是在计算信仰上帝的成本与收益。即使在欣喜若狂地与救世主交流时，帕斯卡也没有忘记数学！

为了计算帕斯卡赌注的期望值，我们仍然需要使用上帝存在的概率。我们暂且假设自己执迷不悟，为上帝存在这个假设仅赋予 5% 的概率。如果我们相信上帝存在，并且我们的信仰是正确的，那么回报将是「持久的愉悦」，用经济学家的话说，就是无穷大的效用度。如果我们相信上帝存在，结果却发现这种信仰是错误的（这是被赋予了 95% 的置信度的结果），我们就得为之付出代价。由于我们不仅要花时间去做礼拜，我们在追求救赎时放弃的那些不道德的乐趣也会构成机会成本，因此，我们付出的代价要超出「一天的劳作」。不过，这种代价仍然有一个固定值，我们假设它为 100 个效用度。

那么，信仰上帝的期望值就是：`5%×∞+95%×(-100)`。虽然 5% 这个数值非常小，但却能带来无穷大的愉悦，因此，无论信仰上帝所需的有限成本多大，在无穷大的愉悦面前都不值一提。

我们已经讨论过，为「上帝存在」这样的想法赋予概率数值是一种风险很大的做法，而且我们也不清楚这样的赋值是否有意义。不过，无论这个概率是 5% 还是其他数值，都不会有任何影响。无穷大的愉悦，其 1% 仍然是无穷大的愉悦，是信仰上帝的有限成本无法比拟的。概率为 0.1% 或者 0.000 001% 时，情况同样如此。更重要的是，上帝存在的概率不是零，这一点我们必须承认吧？如果果真如此，上述期望值的计算就是无可辩驳的，值得我们信任。信仰上帝的期望值不仅为正值，而且是一个无穷大的正值。

但是，帕斯卡的论证存在严重缺陷，其中最大的问题应该是他没有考虑所有可能的假设，也就是我们在第 10 章讨论的「戴帽子的猫」的问题。帕斯卡的假设只有两个：第一，上帝是真实存在的，而且会奖赏那些信仰他的人；第二，上帝不存在。

但是，如果有某位神一直在诅咒基督教徒呢？这样的神也是有可能存在的。单凭这个可能性，我们就可以驳斥帕斯卡的论断：如果信仰基督教，我们就有可能得到无穷大的愉悦，但是也有可能遭受无穷大的痛苦，而且我们没有任何公正合理的办法可以计算出出现这两种结果的相对概率。这样，我们就又回到了原点，推理已经无能为力了。

伏尔泰提出了一个不同的反对理由。我们知道，伏尔泰对赌博并不反感，因此，我们以为他有可能会支持帕斯卡的赌注论。而且，伏尔泰崇尚数学，对牛顿的崇拜几乎达到了极致的程度（他曾经把牛顿称作「我愿意为之献出生命的神」），与数学家沙特莱侯爵夫人也有多年浪漫的感情纠葛。但是，作为思想家，帕斯卡与伏尔泰分属不同类别，两人在性情与哲学观方面都存在巨大的差别。活泼开朗的伏尔泰无法容忍帕斯卡郁闷、内省与神秘的个性。伏尔泰为帕斯卡起了个「极端遁世者」的别名，还专门写了一篇很长的随笔，逐条批驳后者悲观厌世的《思想录》。他眼中的帕斯卡，就是一个与聪明人格格不入的书呆子形象。

至于帕斯卡的赌注论，伏尔泰认为「有点儿不合适，也有点儿愚蠢，因为赌博关注的是金钱的得失，与严肃的信仰相互排斥」。更重要的是，伏尔泰认为：「出于利益考虑而相信某个事物，并不能证明该事物确实存在。」伏尔泰倾向于不严谨的设计论：看看周围的世界，它是多么神奇，因此，上帝是存在的。证毕！

事实上，帕斯卡的赌注论非常新潮，而伏尔泰并没有抓住重点。与魏茨滕等圣经密码编码者、阿布斯诺特以及同时代支持智慧设计论的人不同，伏尔泰认为帕斯卡根本没有给出上帝存在的证据（帕斯卡的确没有给出这方面的证据），而是提出了一个上帝存在的理由，这个理由是从效用的角度给出的，与合理性无关。从某种意义上讲，伏尔泰认为我们在第 9 章讨论的内曼及皮尔逊等人的观点是可信的，同这两个人一样，伏尔泰也怀疑我们面前的证据未必能帮助我们准确地判断真伪。不过，我们只能接受这些证据，然后为下一步的行动做出决策。帕斯卡的目标不是让我们相信上帝存在，而是让我们相信信仰上帝会为我们带来好处，因此，我们最好加入基督教，虔诚地遵从教规、教义，经过潜移默化直至我们真的相信上帝存在。我觉得华莱士在《无尽的玩笑》（Infi nite Jest）中对帕斯卡推理的描述十分精彩，不知道大家能否在现代作品中找到更加精彩的描述？

对于那些因为戒酒失败而感到绝望的人，人们会在他们清醒时鼓励他们，而鼓励的方式无外乎让他们求助于他们并不理解或者并不相信的一些口号，诸如「放轻松」「放下这个问题吧」「一天一天地努力」之类的空话。这些口号就属于「欲求成功，先假想成功」（这句话本身也是人们经常引用的口号）。在承诺仪式上，每个站起来发言的人首先会说自己喜欢喝酒，而且无论他是否真的喜欢，他都会这样说。然后他会说，今天他头脑清醒，对此他心存感激，能够跟大家一起出席承诺仪式，他感到十分高兴。虽然他可能根本没有感激之心，也可能根本不高兴，但他还是会这样说。人们鼓励我们说诸如此类的话，直到我们真的相信这些。如果我们问某个态度严肃、头脑清醒的人，我们什么时候才不需要在这些该死的集会上做这些傻事，他就会换上一张令人讨厌的笑脸，然后告诉我们，如果哪一天我们喜欢上这些该死的集会，我们就不用再做这些傻事了。

### 1202. 圣彼得堡悖论与期望效用理论

在就无法明确其经济价值的事物（例如被浪费的时间、不愉快的聚餐等）做出决策时，效用度是一个非常有效的计量工具。其实，在就那些经济价值十分明确的事物（例如美元）做出决策时，我们也需要讨论它们的效用度。

概率论在其发展早期就发现了这个道理，同很多重要的观点一样，它也是以难题的形式进入人们的视野。1738 年，丹尼尔·伯努利（Daniel Bernoulli）在论文「对一种风险测量新理论的阐述」（Exposition on a New Theory of the Measurement of Risk）中描述了一个著名的难题：

彼得正在抛硬币，他会反复做这个动作，直到落地时硬币的正面朝上。如果第一次抛投得到正面，他会给保罗一个达科特（ducat）[1]；第二次抛投得到正面，给两个达科特；第三次给 4 个；第四次给 8 个。也就是说，抛投的次数每增加一次，彼得给保罗的钱就会翻一番。

显然，这种游戏规则对保罗来说非常有吸引力，他应该愿意下赌注。但是，赌注该怎么定呢？根据我们的彩票研究，自然需要计算保罗从彼得处赢钱的期望值。第一次硬币落地时，正面朝上的概率是 1/2，此时，保罗得到一个达科特。如果彼得第一次抛投的结果是反面朝上，第二次是正面朝上，这种情况发生的概率为 1/4，此时保罗得到两个达科特。保罗要赢得 4 个达科特的话，彼得必须前两次抛投的结果都是反面朝上，而第三次抛投的结果是正面朝上，出现这种情况的概率是 1/8。上述过程不断重复并累加，那么保罗赢钱的期望值为：

```
1/2×1+1/4×2+1/8×4+1/16×8+1/32×16+……=1/2+1/2+1/2+1/2+……
```

这是一个发散级数，其得数不是一个固定值。加项越多，和越大，而且会不断增加，直至突破有限量的界限。这个结果似乎表明，保罗应该极力争取参与该游戏的权利，无论付出多少达科特都心甘情愿。

这看上去很傻，的确如此！不过，在数学推理告诉我们某个结论似乎很傻时，数学家们不会立刻弃之如敝屣，而是寻找数学推理或者直觉出错的地方。这个难题是丹尼尔·伯努利的堂兄尼古拉斯·伯努利在大约 30 年前提出来的，人们称之为「圣彼得堡悖论」（St. Petersburg paradox）。

这个悖论难住了当时的多名概率学家，他们一直没有找到一个令人满意的答案。后来，丹尼尔·伯努利成功地解决了这个难题，他给出的答案非常有说服力，具有里程碑意义，它为经济学衡量不确定性的价值奠定了基础。伯努利指出，这个悖论的关键问题在于，认为一个达科特的效用就一定是一个达科特。有钱人手中的一个达科特，跟农民手中的一个达科特，两者的效用并不相同。这个道理是显而易见的，因为这两个人对他们手中金币的关心程度是不同的。而且，2 000 个达科特的效用并不等于 1 000 个达科特的 2 倍，而是略少于后者的 2 倍。这是因为，如果某个人已经拥有了 1 000 个达科特，再给他 1 000 个达科特的话，这笔钱给他带来的效用，就比它给身无分文的人带来的效用小。达科特的数量加倍，不能理解为效用加倍。并不是所有的线都是直线，表现金钱与效用之间关系的那条线就不是直线。

伯努利认为，效用的增长方式与对数相似，因此，第 k 次的奖金为 2k 个达科特，它的效用是 k 个效用度。别忘了，我们可以大致把对数理解为数字的位数。伯努利的理论认为，有钱人衡量他们手中那一堆美元的价值时，考虑的是「美元」前面那个数字的位数。也就是说，拥有 10 亿美元的人比拥有 1 亿美元的人富裕，拥有 1 亿美元的人比拥有 1000 万美元的人富裕，两种情况下的效用差是相当的。根据伯努利的理论，圣彼得堡悖论的期望效用应该为：

```
1/2×1+1/4×2+1/8×3+1/16×4 +……
```

于是，该悖论就迎刃而解了。这个算式的和不再是无限大，而且数值也不是很大。我们可以利用下述方法，完美地计算其准确得数。

第一行算式 `1/2+1/4+1/8+……` 的值等于 1，这就是我们在第 2 章讨论过的芝诺悖论算式。

第二行算式与第一行相同，只不过每一项都要被 2 除，因此它的得数是第一行的一半，即 1/2。

同理，第三行算式中的每一项都是第二行的 1/2，它的得数也必然是第二行的 1/2，即 1/4。

以此类推，各行算式得数的和是 `1+1/2+1/4+1/8+……`，它比芝诺悖论算式的值大 1，即等于 2。

但是，如果我们不是按行求和，而是按列求和，结果会怎么样呢？我在数家中立体声音响面板上的小洞时，无论横着数还是竖着数，都不会改变结果。同样，和就是和，也不会改变。[2] 在第一列中，只有 1/2 这一个数字；第二列有两个 1/4，即 1/4×2；第三列有三个 1/8，即 1/8×3，以此类推。按列求和构成的级数就是伯努利用来解决圣彼得堡悖论时使用的求和算式，得数与倒三角形中各行算式得数的和相同，也等于 2。因此，保罗应该下的赌注，就是两个效用度在他的个人效用曲线上所对应的达科特的个数。

对于效用曲线的形状，我们只知道它会随着钱的数量增加而向下弯曲，除此之外便一无所知。虽然当代经济学家与心理学家不断设计出越来越复杂的实验，但是，仍然无法准确地了解这条曲线的属性。（现在，可以的话，请把头放在功能性核磁共振成像仪中，找一个舒适的位置。我马上让你看 6 张扑克牌，上面有 6 种方案，请按照吸引力由大到小的顺序排序。然后，不介意的话，请你保持这个姿势，我让我的博士后从你的口中取出唾液样本……好吗？）

我们知道，对于不同情景中不同的人来说，金钱的效用也是不同的，所以，普适性的效用曲线根本不存在。这个事实非常重要，让我们在准备扩大经济行为的应用范围时做到（或者说应该做到）三思而后行。2008 年，我们在第 1 章提过的对里根政府的经济政策略有溢美之词的哈佛大学经济学家曼昆，在一篇被人们疯狂转载的博客中解释说，如果实行奥巴马提议的增加所得税的政策，就会挫伤他的工作积极性。毕竟，曼昆已经在效用与金钱之间取得了某种平衡，一个小时的薪酬带给他的效用与一个小时无法陪孩子的效用正好相互抵消。如果每个小时的薪酬有所减少，那么对于曼昆而言，这种交换就不值得，因此他会减少工作时间，使自己的收入水平下降，直到他认为陪孩子一个小时的效用与一个小时的薪酬再次持平。里根从明星的立场看待经济政策，他认为在税率上调之后，明星们就会减少拍片数量，曼昆的观点与他一致。

但是，并不是所有人都与曼昆持相同的观点。更重要的是，人们心目中的效用曲线并不一样。讽刺作家弗兰·勒博维茨（Fran Lebowitz）讲过一个她年轻时在曼哈顿开出租车的故事。她说，每个月一开始她都会出车，但是一旦挣的钱足够支付房租和饮食开支，她就再也不出车了，这个月剩下的时间都会被她用于写作。对勒博维茨而言，超过某个限度之后，金钱带来的效用就基本为零了。因此，她的效用曲线看上去与曼昆的大不相同。在挣够房租之后，她的效用曲线就变成水平的了。如果所得税上升，对弗兰·勒博维茨会有什么影响呢？她不仅不会减少工作量，反而会延长工作时间，只有这样才能让她的收入足够支付房租和填饱肚子。

伯努利并不是唯一一个定义效用，并知道效用与金钱之间属于非线性关系的人，在他之前，至少有两位研究人员也取得了同样的成果：一个是日内瓦的加布里埃尔·克莱姆，另一个是与克莱姆通信的那位年轻人，也就是研究投针问题的布封。布封对概率的兴趣并不局限于那些客厅游戏，在晚年时期，他回忆起第一次接触令人头疼的圣彼得堡悖论时说：「这个问题困扰我很长时间，我一直没有找出症结所在。我发现，数学计算与普通常识在这个问题上相互冲突，除非我们从道德方面加以考虑。我把这个想法告诉克莱姆先生之后，他说我的想法没错，他还通过一个类似的方法解决了这个问题。」

布封的结论可以映射出伯努利的观点，而且布封对效用曲线的非线性特征的认识尤为深刻。我们不能单凭金钱的数量估算其效用，因为金钱只是财富的一种符号。如果金钱就是财富，即财富带来的幸福与好处和金钱的数量成正比，那么我们有理由依据金钱的数量来估算其效用。但是，人们从金钱中得到的效用未必与金钱的数量成正比。对于有钱人而言，一笔 10 万埃居的收入带来的愉悦感并不会是 1 万埃居带来的愉悦感的 10 倍。而且，金钱的数量一旦超过某个界限，就几乎丧失了所有效用，不能使人们的愉悦感进一步提升。发现一座金山的人，未必比发现 1 立方英寻 [3] 金块的人更幸福。

期望效用理论简单易懂，可以帮助人们从多种选择中挑选出期望效用最高的那一个，因此它具有极强的吸引力。该理论还成功地捕捉到人类决策方法的很多特征，因此，一直以来都是社会学家在定量研究中使用的核心工具之一。1814 年，皮尔·西蒙·拉普拉斯（Pierre-Simon Laplace）在他的著作《概率论》（A Philosophical Essay on Probabilities）的最后一页指出：「我们发现，概率论归根结底就是一种普通常识，只不过表现为‘微积分’这种形式。在我们做出某些选择或者某个决策时，概率论算无遗策，我们总可以借助它找出最有利的方案。」

这段话再次验证了一个观点：数学就是常识的衍生物。但是，期望效用理论也不是万能的，它的复杂性再次引出了一个令人头疼的难题。这一次提出这个难题的是丹尼尔·埃尔斯伯格（Daniel Ellsberg），后来，埃尔斯伯格因为向媒体泄露五角大楼文件而为世人所知。（数学界的眼光有时比较狭隘，因此，在提到埃尔斯伯格时，有人说：「在他出政治问题之前，他还是做了一些非常重要的工作的。」这样的说法一点儿也不奇怪。）

1961 年，距离他后来暴露于公众视野还有 10 年的时间，埃尔斯伯格是兰德公司一位优秀的年轻分析师，是美国政府的核战争决策顾问，就如何防止或限制核战争等提供咨询意见。同时，他还在哈佛大学攻读经济学博士学位。无论是作为决策顾问还是作为博士研究生，他都需要深入思考人类在面临未知情况时的决策过程。当时，期望效用理论在决策数学领域拥有至高无上的地位。冯·诺依曼与摩根斯特恩在他们合作完成的《博弈论与经济行为》（The Theory of Games and Economic Behavior）一书中写道，所有遵从某些规则或公理的人，在做出选择时似乎总希望使效用函数最大化。后来，与亚伯拉罕·瓦尔德同在战时统计研究小组的伦纳德·萨维奇对这个观点加以补充完善，指出这些公理就是在当时不确定条件下的行为标准。

如今，博弈论与期望效用理论仍然在人们及国家之间的谈判活动中发挥着重要作用。不过，这两种理论的重要性在「冷战」高潮期的兰德公司里被发挥到了极致，五角大楼非常重视冯·诺依曼与摩根斯特恩的著作，组织相关人员认真分析书中的内容。当时，兰德公司的研究人员正在研究人类生活中的某种基本活动：选择与竞争。从事博弈论研究的人，都获得了丰厚的奖金。

埃尔斯伯格这位年轻的超级明星特别热衷于打破常规。在以全班第三名的成绩从哈佛大学毕业之后，他加入了海军陆战队，当了三年步兵，这一举动让他的学术界同行大吃一惊。1959 年，埃尔斯伯格作为「哈佛年轻学者」，在波士顿公立图书馆做了一个外交政策战略方面的报告，探讨阿道夫·希特勒（Adolf Hitler）在地缘政治战术方面的效率问题，并提出了一个有名的论断：「他是一位值得我们研究的地缘政治战术大师，从他身上我们可以了解到借助暴力手段希望实现以及能够实现的目标。」（埃尔斯伯格一直强调，他并不推荐美国采用希特勒式的外交战略，而只想心平气和地研究这些战略的有效性。他的话也许是真的，但是我相信人们听后肯定会非常愤怒。）

因此，埃尔斯伯格不满足于只接受主流观点。事实上，从写作本科毕业论文开始，他就一直在挑博弈论基础理论的错误。他在兰德公司设计的一个实验非常有名，现在人们称其为「埃尔斯伯格悖论」（Ellsberg’s Paradox）。假设一只瓮中装有 90 个小球，其中有 30 个红球，至于其他小球，我们只知道它们有的是黑色的，有的是黄色的。埃尔斯伯格规定了下列 4 种下注方式：

红球：如果从瓮中拿出的小球是红色的，我们会得到 100 美元；否则，什么也得不到。

黑球：如果从瓮中拿出的小球是黑色的，我们会得到 100 美元；否则，什么也得不到。

非红球：如果从瓮中拿出的小球是黑色或者黄色的，我们会得到 100 美元，否则，什么也得不到。

非黑球：如果从瓮中拿出的小球是红色或者黄色的，我们会得到 100 美元，否则，什么也得不到。

在红球与黑球中，我们应该选择哪一种呢？非红球与非黑球相比，选择哪一种更有利呢？埃尔斯伯格让实验对象做出选择，询问他们倾向于哪一种下注方案。结果，他发现实验对象大多选择红球，而不是黑球。对于红球，我们知道会有 1/3 的概率得到 100 美元；而对于黑球，我们不知道它的期望值是多少。对于非红球与非黑球，埃尔斯伯格发现实验对象更倾向于选择非红球，因为有 2/3 的概率赢钱。

现在，假设我们面临更复杂的选择：必须选择两个下注方案，而且不是任意选择，只能选择「红球与非红球」或者「黑球与非黑球」。既然我们觉得红球的胜算大于黑球，非红球的胜算大于非黑球，那么我们认为「红球与非红球」的选择优于「黑球与非黑球」，似乎是有道理的。但是，问题出现了。选择「红球与非红球」意味着我们肯定能得到 100 美元，选择「黑球与非黑球」也是如此！如果两者毫无区别，为什么我们会觉得一个优于另一个呢？

对于支持期望效用理论的人而言，埃尔斯伯格的实验结果似乎非常奇怪。每种下注方案都肯定有一定数量的效用度，如果红球的效用大于黑球，非红球的效用大于非黑球，那么「红球与非红球」的效用肯定大于「黑球与非黑球」，但实际上两者是相等的。如果我们选择相信期望效用理论，那么我们必然会认为参与埃尔斯伯格实验的那些人在选择上出错了。他们要么不善于计算，要么因为注意力不集中而没有听清问题，要么是疯子。由于埃尔斯伯格询问的实验对象都是知名的经济学家与决策论研究人员，因此这个结果就演变成了现在摆在人们面前的这个难题。

埃尔斯伯格认为，这个悖论的答案非常简单：期望效用理论是不正确的。后来，唐纳德·拉姆斯菲尔德说，有的未知信息是已知的，有的未知信息是未知的，应该用不同的方法去处理它们。红球属于「已知的未知信息」（known unknown），因为我们并不知道会拿到哪种颜色的球，但是当我们希望拿到这种颜色的球时，我们可以定量分析成功的概率。而黑球则不同，对于玩家来说它属于「未知的未知信息」（unknown unknown），因为我们不仅不确定可以拿到黑球，而且根本无法计算出拿到黑球的概率。在决策理论文献中，前者被称为「风险」（risk），后者则被称作「不确定性」（uncertainty）。风险可以进行定量分析，但是对于不确定性，埃尔斯伯格认为无法使用形式主义的数学分析方法，至少不可以使用兰德公司青睐的那种数学分析方法。

效用理论具有令人难以置信的效用，它可以处理这两种未知信息。在很多情境中，例如彩票游戏，我们面对的疑团是各种风险，其发生概率非常明确；但是在更多情况下，展现在我们眼前的却是「未知的未知信息」，不过这类未知信息的作用并不是很大。我们可以看到，在数学方法特有的推动作用下，关于这类信息的研究正在向科学领域靠拢。伯努利与冯·诺依曼等数学家构建了形式主义，为探究这些到目前为止人们缺乏了解的领域指明方向。像埃尔斯伯格这样数学思维敏捷的科学家则刻苦钻研，以期了解其中的局限性，在可能的时候提出完善与改进的措施；如果无法改进，他们就会发出措辞严厉的警告。

埃尔斯伯格的论文不像技术性很强的经济学论文，其文风生动活泼。在结尾段落，他评价了他的实验对象：「依据贝叶斯推理或者萨维奇公理做出的预测是错误的，根据这些预测做出的选择也是不正确的。他们蓄意违背公理，毫无歉意，而且他们似乎认为这是明智的行为。显然，他们错了，难道不是吗？」

「冷战」时期，决策论与博弈论在华盛顿与兰德公司备受推崇。当时人们认为，既然原子弹在上一次世界大战中帮助我们取得了胜利，决策论与博弈论这两个科研工具也会帮助我们打赢下一次世界大战。这两个工具在应用方面可能的确存在某种局限性，尤其当无先例可循而无法估算概率（比如人类遭受核打击瞬间化为放射性灰尘的概率）时更是如此，这个特点至少在埃尔斯伯格看来会有点儿麻烦。是不是数学上的分歧导致埃尔斯伯格对军事机构心存疑虑呢？

## 1301. 祝你下一张彩票中大奖！

效用这个概念有助于我们了解「Cash WinFall」彩票游戏的令人疑惑之处。杰拉德·塞尔比博彩团队购买大量彩票的方法是，利用电脑上的「快速选号器」（Quic Pic），随机选取彩票号码。而哈维的「随机策略」团队则是自己动手选号，这就意味着他们需要手工填写几十万张彩票，然后逐一输入便利店的计算机中。后者的工作量很大，而且极其枯燥乏味。

中奖号码完全是随机产生的，因此每张彩票的中奖概率是相同的。总体来讲，塞尔比利用快速选号器选出的 10 万组彩票号码，与哈维及卢玉然自己手动选号产生的 10 万组号码，为各自团队赢得的奖金应该一样多。从效用的角度来看，「随机策略」团队的大量艰辛工作并没有得到额外的回报，这是为什么呢？我们考虑一个与其性质相同但更简单的例子。给你 5 万美元，或者让你各有 50% 的机会输掉 10 万美元和赢得 20 万美元，我们会选择哪一种方案呢？第二种方案的期望值为：

```
1/2×(-100 000) + 1/2×200 000 = 50 000 美元
```

结果与第一种方案相同，因此我们可以认为这两种方案没有多大区别。如果多次选择第二种方案，那么几乎可以肯定，你赢得 20 万美元与输掉 10 万美元的次数会各占一半。假设输赢交替出现，那么两次之后，你会赢 20 万美元、输 10 万美元，净赚 10 万美元；4 次之后净赚 20 万美元；6 次之后净赚 30 万美元，以此类推。平均每次的利润是 5 万美元，这与第一种方案的结果一模一样。

现在，假设你不是经济学教科书应用题中的人物，而是一个手头没有 10 万美元的真实的人。那么，在第一次赌输之后，赌注登记人（假设这个赌注登记人是一个身材魁梧、脾气暴躁、力大无比的光头佬）找你要钱时，你可不可以告诉他：「请稍等，根据期望值计算结果，我继续玩下去就很可能有钱给你了？」尽管从数学角度讲确实如此，但在现实生活中这显然是行不通的。如果你是一个真实世界中的人，你应该选择第一种方案。

上述推理过程可以依据期望效用理论清楚地表现出来。如果我有一家资金无穷多的公司，损失 10 万美元可能没什么大不了的（假设它的价值为 –100 个效用度），而赢得 20 万美元会给我带来 200 个效用度。在这种情况下，美元与效用度之间呈现出完美的线性关系，1 个效用度就代表 1 000 美元。

但是，如果我是一个积蓄不多的人，计算方式就会截然不同。赢取 20 万美元对公司来说意义不大，但却会改变我的生活，因此，它对我的价值更大，比如，它值 400 个效用度。但是，因为输掉 10 万美元不会让我的银行账户见底，于是我吞下了脾气暴躁的光头佬抛出的诱饵，结果输掉了赌注。这不仅很糟糕，还可能会对我造成严重的伤害。我们可以给这个结果赋予  –1 000 个效用度，此时，第二种方案的期望效用为：

```
1/2××(-1000) + 1/2×400 = –300
```

期望效用为负值，意味着我不仅没有拿到唾手可得的 5 万美元，而且还要承受更糟糕的结果。50% 的一败涂地的后果是我们根本无法承受的，如果没有赢大钱的希望，我们是不会选择第二种方案的。

以上，我们运用数学方法证明了一个我们已知的法则：钱越多，你所能承受的风险也越大。第二种方案就像冒险的股票投资一样，收益的期望值为正值。如果你多次进行此类投资，可能某几次会输钱，但是从长远看，你将会成为赢家。有钱人有足够的资金储备，可以承受偶尔失利造成的损失，并且通过继续投资，最终变得更有钱。

即使资产不足以承受损失，冒险的投资行为也并非完全不可为，前提条件是你得有备用计划。如果某个市场行为有 99% 的概率赚 100 万美元，有 1% 的概率赔 5 000 万美元，那么你是否会采取行动呢？这个市场行为的期望值为正值，似乎是一个很好的投资策略。但是，一想到有遭受巨额损失的风险，而且小概率事件特别难以把握，你也有可能会畏缩不前。专业人士把这种行为称作「火中取栗」，在大多数情况下，可能会小赚一笔，但是稍有疏忽就会倾家荡产。

你到底应该怎么做呢？一种战略是拆借大笔资金，确保金融资产达到所冒风险的 100 倍。这样，你很有可能赚取 1 亿美元。（太棒了！）如果惹祸上身，亏损 50 亿美元，那怎么办呢？千万不要出现这个结果，因为我们生活在牵一发而动全身的世界，全球经济就像由锈蚀的钉子与腐烂的绳子搭建而成的摇摇欲坠的巨型树屋，一个部位出现大面积坍塌，整个树屋就很可能会轰然倒塌。因此，美国联邦储备委员会做了精心部署，以防此类情况发生。老话说得好：「如果你欠了 100 万美元，那是你自己的问题；但是，如果你欠了 50 亿美元，那就是政府的问题了。」

这个金融战略极具讽刺意味，但却十分有效。根据罗杰·罗文斯坦（Roger Lowenstein）在其著作《营救华尔街》（When Genius Failed）中的翔实记载，20 世纪 90 年代，这个战略为长期资本管理公司做出了贡献。此外，在 2008 年金融危机中，一些公司也依靠这个战略存活下来，甚至实现了赢利。从目前看，局面不会发生重大变化，因此，这个战略仍然会继续起作用。[1]

1『能想出这个战略的人也确实 NB，欠小钱的时候你是孙子，但欠大钱的时候你就是爷了，哈哈。（2020-11-20）』

人与金融公司不同。大多数人，即使是有钱人，也不喜欢采取不确定性的行为。有钱的投资人可能会心情愉快地选择期望效用为 5 万美元、有 50% 的概率获利的第二种方案，但是他们可能更愿意选择第一种方案，直接拿走那 5 万美元。与之相关的专业术语叫作「方差」（variance），表示某个决策结果的分布范围以及出现极端结果的可能性。如果两个方案的期望经济价值相同，那么大多数人，特别是流动资产有限的人，会倾向于选择方差较小的方案。因此，尽管从长远看，股票的回报率更高，但有的人却选择投资收益稳定的市政公债。投资股票的方差比较大，有可能获利更多，但也有可能损失更多。

无论你是否承认，如何处理方差问题都是理财的一大难点。正是因为考虑到方差问题，你才会通过共同基金进行多元化投资。如果把所有的钱都投到石油与天然气股票上，一旦能源领域遭受大的冲击，所有资金就会付诸东流。但是，如果在天然气与技术股票中各投一半的钱，一类股票与另一类股票不可能同时发生数额较大的买进卖出交易，这种投资组合的方差就比较小。你希望把鸡蛋放到尽可能多的篮子中，所以，你把积蓄委托给大型指数化证券投资基金，因为它们的投资无处不在。波顿·马尔基尔的《漫步华尔街》（A Random Walk down Wall Street），就很青睐这种投资策略，它的业绩一般，但却非常稳健。如果拿退休基金狂赌一把，会有什么结果呢？

股票的价值会增长，至少从长远看是这样的。换言之，投资股票市场的收益期望值是正值。对于收益期望值为负值的赌博行为而言，微积分计算的结果往往会令人抓狂。人们对肯定亏损的行为的憎恶程度，不亚于他们对肯定赢利的行为的渴望程度。在后一种情况中，你会青睐大方差，而不会追求小方差。所以在轮盘赌游戏中，人们不会气定神闲地走上前，然后在每个号码上押下一枚筹码。要送钱给庄家的话，无须采取这种复杂的行为。

那么，这些跟「Cash WinFall」彩票有什么关系呢？我们在前面说过，无论我们选择哪些号码，10 万张彩票价值的期望值都不会改变。但是，方差的情况就不同了。假设我决定大幅增加赌注，但是采用不同的方式——购买 10 万张号码组合相同的彩票。

如果这组号码在开奖时与大奖号码有 4 个数字相同，我就非常幸运地成为 10 万张「6 中 4」彩票的持有人，我会把 140 万美元的奖金悉数收入囊中，利润率为非常可观的 600%。但是，如果这组号码没有中奖，我花费 20 万美元买的彩票就成了一堆废纸。这是大方差的赌法，遭遇大额损失的概率很大，获利的概率很小，但是一旦获利，就可以大赚一笔。因此，「别把所有的钱都押在同一组号码上」这条建议非常好，分散下注的效果要好得多。塞尔比团队用快速选号器随机选取号码，也是这个道理吗？

两者并不完全相同。首先，尽管塞尔比没有把所有钱都押在同一组号码上，但是他经常一号多投。乍一看，这种做法似乎非常奇怪。在最活跃的时候，每次开奖前他会购买 30 万张彩票，让计算机在接近 1 000 万组号码中随机选取。既然他购买的号码组合在总数中仅占 3%，为什么他还要一号多投呢？

有这样一个老掉牙的打赌方法：让出席派对的宾客们赌房间中是否有两个人的生日在同一天。派对的规模不能太小，比如说 30 个人。30 个生日在 365 个可选日期中所占的比例并不是很大，因此我们可能会认为其中有两个人生日正好在同一天的可能性非常小。但是我们需要考虑的相关量并不是人数，而是人们可以组成多少个两人组合。不难算出，30 个人可以组成 435 个不同的两人组合，每个组合中的两个人生日在同一天的概率是 1/365，因此，在这个规模的派对上，很有可能有两个人的生日在同一天，这样的两人组合甚至会有两组。事实上，在 30 个人中，有两个人的生日在同一天的概率超过 70%，这已经非常高了。如果从 1 000 万组备选号码中随机选取 30 万组号码，同一组号码被购买两次的概率非常接近于 1。如果要求我准确地说出这个概率，我宁愿说「这是一种必然」，也不愿意去数「99.9%」的小数点后面到底有多少个 9。

2『根据方差的大小做方案的选择，做一张任意卡片。』——已完成

而且，不同的地方不仅仅在于号码重复。我们采用一如既往的做法，让数字变得很小，以便更直观地了解其中的区别。假设抽奖时仅有 7 个球，彩票中心从中选取 3 个构成头奖号码组合。这样，我们一共有 35 种可能的头奖号码组合，对应从集合「1、2、3、4、5、6、7」中选择 3 个数字的 35 种方法。我们把这 35 个号码按照数字顺序排列如下：

```
123 124 125 126 127

134 135 136 137

145 146 147

156 157

167

234 235 236 237245 246 247

256 257

267

345 346 347356 357

367

456 457

467

567
```

假设杰拉德·塞尔比来到便利店，利用快速选号器随机购买了 7 张彩票，那么他中大奖的概率会非常小。但是，在这种彩票游戏中，只要押中 3 个数字中的两个，也能中奖。猜中 3 个数字中的两个是很容易的。每次都说「猜中 3 个数字中的两个」非常麻烦，因此我们把这种情况简称为「二等奖」。例如，如果大奖号码是 1、4、7，含有一个 1、一个 4 以及 7 以外的其他数字的 4 张彩票就都中了二等奖。除了这 4 张彩票以外，还有 4 张彩票猜中了 1、7，以及 4 张彩票中了 4、7。因此，在全部 35 张彩票中，有 12 张中了二等奖，中奖概率超过 1/3。这说明杰拉德·塞尔比购买的 7 张彩票中可能至少有两张中了二等奖。我们可以准确地计算出塞尔比的中奖情况：

```
没中二等奖的概率是 5.3%;

只有一张彩票中二等奖的概率是 19.3%;

有两张彩票中二等奖的概率是 30.3%;

有 3 张彩票中二等奖的概率是 26.3%；

有 4 张彩票中二等奖的概率是 13.7%;

有 5 张彩票中二等奖的概率是 4.3%;

有 6 张彩票中二等奖的概率是 0.7%;

所有 7 张彩票全部中二等奖的概率是 0.1%。
```

因此，中二等奖的彩票数量的期望值为：

```
5.3%×0+19.3%×1+30.3%×2+26.3%×3+13.7%×4+4.3%×5+0.7%×6+0.1%×7=2.4
```

詹姆斯·哈维在购买彩票时没有使用快速选号器，而是手动选择了 7 张彩票。这 7 个号码组合为：

```
124

135

167

257

347

236

456
```

如果大奖号码为 1、3、7，哈维就中了 3 个二等奖：135、167 和 347。如果大奖号码是 3、5、6 呢？哈维还是中了 3 个二等奖：135、236 和 456。以此类推，我们很快就会发现他选的这些号码组合有一个非常值得关注的特性：他要么中了大奖，要么正好中了 3 个二等奖。7 张彩票中有一张中大奖的概率是 1/5，即 20%。因此，他的中奖情况为：1）没中二等奖的概率为 20%；2）有 3 张彩票中二等奖的概率为 80%。

哈维中二等奖的彩票数量期望值为：

```
20%×0+80%×3=2.4
```

结果与塞尔比的相同，这是必然的，但是其方差却比塞尔比的小得多。由于哈维对自己能中二等奖的彩票数量比较确定，因此他的投资组合对潜在合伙人的吸引力非常大。特别需要注意的是，如果哈维没有中3个二等奖，他就会中大奖。这说明哈维的策略可以保证他的彩票中奖金额比较可观，而这是塞尔比等使用快速选号器的玩家做不到的。自己选号可以在保证中奖概率的同时规避风险，但其前提条件是选对号码。

怎样才能选对号码呢？这可是一个价值连城的问题啊！（至少这一次是真的。）你可以尝试用计算机来完成这项工作。哈维和他的合伙人都是麻省理工学院的学生，他们不费力气就能写出几十个代码行。为什么不编写一个程序，把「Cash WinFall」彩票的所有号码组合都筛选一遍，找出方差最小的选号策略呢？

这样的程序肯定不难编写，但问题是，在编写的程序处理完这些数据的冰山一角之前，宇宙中的所有物质与能量可能早已进入热寂状态了。从现代计算机的性能来看，30 万并不是一个非常大的数字，但是，计划编写的程序处理的对象不是 30 万组彩票号码，而是从 1 000 万组「Cash WinFall」彩票号码中选取 30 万组可能构成的集合。那么，一共有多少种可能的集合呢？这个数字大于 30 万，大于现存于世或者曾经存在的次原子微粒的数量，而且大得多，是我们闻所未闻的数字。

摆在我们面前的是在计算机科学中被称作「组合爆炸」（the combinatorial explosion）的可怕现象。如果你希望在美国 50 个州中为自己的公司选择最有利的驻地，这个目的不难实现，你只需要比较这 50 个州就可以了。但是，如果你希望找出穿行这 50 个州而且效率最高的路线，也就是所谓的「旅行商问题」（traveling salesman problem），就会发生组合爆炸，你所面临的困难将完全不在之前的数量级上，可供选择的路线一共有 30 千那由他（vigintillion）[2] 条。

这下，组合爆炸真的发生了！因此，我们必须另辟蹊径，找到可以减小方差的选号方法。如果我告诉大家，人们借助平面几何知识解决了这个难题，你们相信吗？

### 1301. 平行线也可以相交

平行线永不相交，这是平行线的基本特征。但是，平行线有时似乎也会相交。想象一条铁道在一览无余的平地上向前延伸，你的视线也跟着向前移动，这时你会发现，随着距离地平线越来越近，那两根铁轨似乎逐渐融为一体（如果希望在头脑中形成一幅生动逼真的画面，我们可以一边听着乡村音乐一边想象，这样效果会更好），这就是「透视现象」（phenomenon of perspective）。我们的视野是二维的，如果我们希望在这个二维视野中描绘三维世界，那么有些东西必然会丢失。

最早发现这个现象的人是画家，他们不仅需要了解事物真实的形态及其在人们眼中的形态，还需要了解两者之间的不同之处。在意大利文艺复兴初期，画家知道了透视这个概念，视觉表现方式从此发生改变，欧洲的画作再也不像孩子们在冰箱门上的涂鸦之作，人们看一眼就知道他们画的是什么。

艺术史学家就菲利波·布鲁内莱斯基（Filippo Brunelleschi）等佛罗伦萨的艺术家到底是如何形成透视这种现代绘画理论的问题，进行过上百次争论。本书对这个问题就不再赘述了，我们现在可以确定的是，这个突破性进展使人们将数学与光学方面的新认识应用到对美的追求上。

比如，人们意识到影像是光线照在物体上反射后进入人眼形成的。这一认知在现代人看来非常浅显，但当时的人却不是很清楚。以柏拉图为代表的众多古代科学家认为，视觉与发源于眼球的某种火焰有关，这个观点至少可以追溯至可罗顿的阿尔克迈翁（Alcmaeon），阿尔克迈翁是我们在第 2 章里讨论过的怪异的毕达哥拉斯的信徒之一。他认为眼睛肯定能发光，否则「光幻视」（phosphene）的光源是什么？所谓光幻视，就是闭上眼睛，然后用手挤压眼球，就能看到有金星闪现。详细地提出反射光视觉理论的人，是 11 世纪的开罗数学家海塞姆（Haytham）。海塞姆的光学著作《光学书》（Kitab alManazir）被翻译成拉丁语，并且很快就被希望更系统地了解视觉与所见物体之间关系的哲学家及艺术家奉为圭臬。该书的主要观点是，画布上的 P 代表三维空间中的直线。根据欧几里得的几何学原理，我们知道经过两个定点的直线只有一条。因此，P 与眼睛之间可以形成一条直线，这条直线上的所有点在画中的位置就是 P。

现在，假设你是布鲁内莱斯基，正站在开阔的大草原上，在眼前的画布上画那条铁道。铁道有两条铁轨，我们分别称之为 R1 和 R2，每条铁轨呈现在画布上就是一条直线。画布上的点与空间中的直线相对应，同样，画布上的直线对应一个平面。与 R1 相对应的平面 P1 是由铁轨 R1 上所有点与眼睛的连线构成的。同样，与 R2 相对应的平面 P2 是眼睛与 R2 上各点的连线构成的。这两个平面与画布分别相交于一条直线，我们把这两条直线分别叫作 L1 和 L2。

两条铁轨相互平行，但那两个平面并不是平行平面，这是为什么呢？因为这两个平面在你的眼中相交，而平行平面是永远不会相交的。但是，不平行的平面必然相交，它们的交线是一条直线。

在本例中，交线是一条水平线，从眼睛开始，沿着与铁轨平行的方向延伸。由于这条交线是水平的，因此不会与大草原相交，而是向着地平线延伸，但是永远不会与地面接触。好了，好戏就要上演了。这条交线与画布相交，交点为 V。由于 V 位于平面 P1 上，因此必然位于 P1 与画布的交线 L1 上。由于 V 也位于 P2 上，因此必然位于 L2 上。换言之，V 就是画作中铁轨在画布上的交点。

事实上，大草原上所有与铁轨平行的直路在画布上看起来都像经过 V 的直线。V 就是所谓的「消失点」（vanishing point），即与铁道平行的所有直线在画作中必然经过的点。每一对平行轨道都能在画布上形成某个消失点，消失点的位置取决于平行线的延伸方向。（唯一例外的是平行于画布的各对直线，例如铁轨之间的枕木，它们在画作中看上去仍然是相互平行的。）

布鲁内莱斯基在上述分析中完成的概念转换是射影几何学的核心内容。看到风景画中的点，我们就会想到通过我们眼睛的直线。乍一看，似乎仅仅是语义上的区别；地面上的各点可以而且只能形成一条通过该点与我们眼睛的直线，因此，我们想到的是点或者直线，会有什么不同呢？两者的区别就在于，通过我们眼睛的直线比地面上的点多，因为水平直线并不与地面相交。这些水平直线对应画布上的消失点，也就是铁轨相交的位置。你可能会把这样的直线看成沿铁道延伸方向的地面上一个无穷远的点，数学家把这样的点叫作「无穷远点」（point at infi nity）。如果你把欧几里得几何学中的平面复制到无穷远点，就会得到「射影平面」（projective plane），参见下图。

大多数射影平面看上去与你熟悉的规整、平坦的平面非常相似，但是，射影平面上有很多无穷远点。每个无穷远点都代表平面中直线延伸的一个方向，上图中，P 对应垂直方向，你应该把它看成沿纵轴向上无限延伸，同时还沿着该纵轴向下无限延伸。在射影平面中，纵轴的两端在无穷远点重合，因此，它表现为圆，而不是直线。同样，Q 是位于东北方向（同时也位于西南方向）上的无穷远点，R 是位于横轴末端的点，或者说是横轴两端的端点。如果向右移动无穷远的距离，到达 R 之后继续移动，此时你会发现你仍然在向右移动，但却是从画的左边向中心位置靠近。

从一个方向离开，却从相反方向回来，温斯顿·丘吉尔（Winston Churchill）年轻时曾对这个奇特的现象备感着迷，他回忆自己毕生在数学方面的唯一一次顿悟时说：

有一次，我突然对数学有了感觉，以前无法理解的难题在我面前迎刃而解。我看到一个数字在经过无穷点之后，符合由正号变成负号。我当时的感觉，就像人们看到金星凌日现象，甚至是伦敦市长就任时的游行盛况那样激动不已。我彻底明白了其中的道理，知道这种改变必然发生的原因。就跟从政一样，各个步骤之间存在某种必然的联系。不过，当时我已经吃过晚饭了，所以没有做进一步的研究。

事实上，R 不仅是横轴的端点，还是所有水平直线的终点。如果两条不同的直线都是水平的，那么它们相互平行。但是，在射影几何学中，它们却会在无穷远点处相交。很多人认为《无尽的玩笑》一书的结尾非常突兀，因此，1996 年，有人在采访华莱士时问他，他是不是因为「在写这本书时感到厌烦了」，所以不想写结尾？华莱士有点儿不耐烦地说：「我认为这本书是有结尾的。平行线都有可能趋于相交，因此，读者可以在正常框架之外设计一个结尾。如果你想不到这种趋于相交的现象，也不会设计结尾，那么对你来说，这本书就是一部失败的作品。」

射影平面有用绘图方式难以表现的缺陷，但是也有让人们更乐于接受几何学原理的优点。在欧几里得几何学的平面中，两个不同的点可以确定唯一的直线，两条不同的直线可以产生唯一的交点，但是这两条直线不能是平行线，否则它们不会相交。在数学上，我们愿意接受各种规则，不喜欢例外情况。在射影平面上，我们可以认为两条直线相交于一点，而不需要考虑任何例外情况，因为平行线也会相交。

例如，任意两条垂直线都会相交于 P，而任意两条从东北向西南方向延伸的直线都会相交于 Q。两个点确定一条直线，两条直线确定一个相交点，无须任何附加条件。经典平面几何学不可能有这样完美的对称性，也不可能这样简练。在人们尝试解决利用画布描绘三维世界这个实际问题的过程中，射影几何学应运而生，这并不是一种巧合。历史反复证明，数学的简洁与实际效用紧密相关。有时，科学家发现了某个理论，就把它交给数学家，让后者研究这个理论为什么如此简洁；还有些时候，数学家建立了某个简洁的理论，然后交由科学家研究该理论的实际价值。

射影平面的一个好处是促生了具象绘画，还有一个好处是选对彩票号码。

射影几何学与彩票中奖。射影几何学有两个公理：1）公理1：经过两点有且只有一条直线。2）公理2：两条直线有且只有一个交点。

数学家发现一种射影平面可以满足上述两个公理之后，自然会想是不是还有更多的射影平面也满足这两个公理。研究发现，这样的射影平面非常多，而且大小不一。最小的射影平面是以其创建者法诺（Gino Fano）的名字命名的，叫作「法诺平面」（Fano plane）。法诺是 19 世纪末期最先对有限维射影几何学认真展开研究的数学家之一，法诺平面的大致情形如下图所示。

这个射影平面真的非常小，只包含 7 个点。其中的「直线」，即图中的线条，也非常短小，每条只包含 3 个点。一共有 7 条这样的直线，其中 6 条看起来像直线，另外一条则与圆相似。尽管这个射影平面形状奇特，但它与布鲁内莱斯基平面一样，满足公理 1 和公理 2。

值得赞赏的是，法诺使用了现代研究经常使用的方法，用哈代的话说就是「下定义的习惯」，从而避免了「射影平面到底是什么」这个无法回答的问题，代之以「哪些现象具有射影平面的特点」。法诺的原话是这样的：作为研究的基础，我们假设有任意数量、任意属性的实体，我们简称其为「点」，但是这个名称与它们的属性无关。

对于法诺及其信徒而言，直线「看起来像」直线、圆、野鸭还是其他任何东西并不重要，重要的是这些直线遵从欧几里得及其后来者关于直线的定义。只要它的特性与射影平面相似，我们就认为它是射影平面。有人认为，这种行为会把数学与现实割裂开来，应当予以抵制。但是，这种观点过于保守了。

研究发现，我们运用几何学方法思考那些看起来不像欧几里得空间的物体，甚至理直气壮地把它们称作「几何体」，这种大胆的做法，在我们理解相对时空几何学时，发挥了非常重要的作用。时至今日，我们在展望互联网前景时还会使用广义的几何学理论。几何学理论的变化更大，如果欧几里得重生，估计他也无法辨认，这就是数学了不起的地方。我们所定义的一系列概念，如果是正确的，即使它们被用到远远超出当初构建情境的更大范围中，也不会有问题。

我们再次以法诺平面为例，只不过把平面中的点用 1 至 7 这 7 个数字一一加以标记。是不是感觉很熟悉呢？如果我们用其中的 3 个点代表这些直线，并把全部 7 条直线列出来，就会得到：

```
124

135

167

257

347

236

456
```

它们正好是我们在上文中看到的 7 个数字构成的彩票号码组合，也就是可以保证至少获得最低奖金的号码组合。这似乎充满了神秘感，以至于我们会不由自主地想：什么样的人才能想出如此完美的彩票号码组合呢？但是现在，我打开了盒子，让大家看到了其中的奥秘：一个非常简单的几何体。每对数字都会出现在一张彩票上，因为每对点只能出现在一条直线上。它还是欧几里得几何学，虽然我们所说的点与直线已经面目全非，可能连欧几里得本人也辨认不出来。

1-2『平行线也可以相交。射影平面与概念，目前没看明白。做一张反常识片。（2020-11-20）』——已完成

### 13.2 信号与噪声

法诺平面可以教我们怎么买特兰西瓦尼亚彩票才会稳赚不赔，那么马萨诸塞州的「Cash WinFall」彩票该怎么买呢？包含多于 7 个点的有限维射影平面非常多，但可惜的是，它们都不能精准地满足「Cash WinFall」彩票的所有要求。因此，我们需要找到更具一般性的射影平面。结果，不是文艺复兴时期的绘画或者欧几里得几何学，而是信息论出人意料地给出了答案。假设我希望给一颗卫星发出一条重要的信息，例如「打开右推进器」。卫星不会讲英语，因此，我实际上发出的是 0 与 1 构成的序列，计算机科学家把 0、1 称作「比特」（bit）。

```
1110101……
```

上面这条信息似乎干净利落，没有歧义。但是在现实生活中，通信渠道却充满了各种噪声。卫星在接收到你发送的信息时，可能同时会接收到宇宙射线，导致信息中的一个比特被篡改了，于是卫星收到的信息变成：

```
1010101……
```

这条信息看上去似乎变化不大，但是，如果它把「右推进器」篡改成了「左推进器」，这颗卫星就可能陷入大麻烦。卫星造价昂贵，因此，我们肯定希望避免此类情况发生。在吵闹的派对上与朋友交谈时，为了不让嘈杂声淹没我们的声音，我们可能会不断重复自己的话，直到朋友听清楚为止。这个方法对卫星同样有效，在发前面那条信息时，我们可以把每个比特重复一遍，用 00 代替 0，用 11 代替 1：

```
11 11 11 00 11 00 11……
```

此时，如果宇宙射线篡改了其中的第二个比特，卫星就会收到：

```
10 11 11 00 11 00 11……
```

卫星知道每个信息片段要么是 00 要么 11，而「10」是一个危险信号，表明信息传输出了问题。但是，到底是哪里出错了呢？卫星很难回答这个问题，它不知道噪声到底篡改了信号的哪个部分，也不知道原始信息的开头部分是 00 还是 11。这个问题不难解决，我们只需要将所有比特发三遍即可：

```
111 111 111 000 111 000 111……
```

被篡改之后的信息变成：

```
101 111 111 000 111 000 111……
```

这条信息不会对卫星造成任何损坏，因为卫星知道第一个片段中的三个比特应该是 000 或者 111，而 101 意味着信息传输有问题。如果原始信息是 000，宇宙射线必须篡改两个比特才会得到 101 这个结果。宇宙射线篡改信息的发生概率极低，一下篡改两个比特的可能性非常小。所以，卫星有足够的把握来处理这个问题：如果这三个比特中有两个是 1，那么原始信息很有可能是 111。

1『信息论里，通过增加冗余度来降低出错率，这个思路真精妙，香农确实 NB。（2020-11-20）』

上文介绍的是「错误校正码」（error-correcting code）的一个范例。错误校正码是一种通信协议，可以帮助接收方消除信号中噪声所导致的错误。信息论的几乎所有概念都来自克劳德·香农（Claude Shannon）于 1948 年发表的里程碑性质的论文——「通信的数学原理」（A Mathematical Theory of Communication）。

「通信的数学原理」这个题目是不是有炒作的嫌疑啊？难道通信这种人类的基本活动也可以变成冷冰冰的数字与公式吗？在这里，我要温馨提示或者强烈建议大家：只要有人声称借助数学方法可以解释、征服或者彻底了解这样或那样的事物，我们都不可以盲目相信。

然而，由于数学技术手段越来越广博、越来越丰富，数学家不断找到各种方法处理传统观点认为不属于数学领域的那些问题，因此，数学史就是一部扩张史。概率论现在听起来稀松平常，但人们一度认为这是自不量力的表现，因为数学研究的是各种必然性与事实，而不是随机性与可能性之类的问题。在帕斯卡、伯努利等学者为偶然性的作用机制创建了数学定理之后，一切都发生了翻天覆地的变化。「无穷大理论？我没听说过这个概念」，在 19 世纪格奥尔格·康托尔（Georg Cantor）发表他的研究成果之前，就像神学与科学相互冲突一样，概率论与数学也是格格不入的。但是现在，对于康托尔提出的那些无穷级数，我们已经非常了解，足以教授数学专业一年级的学生了。（当然，学生们第一次接触这些概念时的确会大吃一惊。）

这些数学上的形式主义在描述某个现象时，不会表现其所有细节，而且它们也没有这种打算。例如，概率论对某些随机性问题就无能为力。在某些人看来，超出数学研究范围的问题才是最有意思的问题。但是，在当今社会，如果思考可能性问题时根本不使用概率论，那肯定是错误的。如果大家不相信，可以问一问詹姆斯·哈维。当然，如果问那些把钱输给哈维的人，效果会更好，因为他们的体会更深。

是否有与意识、社会或者美学相关的数学理论呢？毫无疑问，人们正在做这方面的尝试，但是到目前为止，进展仍然非常有限。如果有人宣称他们取得了突破，那么我们应该本能地不相信他们，但是我们也应该认识到，他们有可能真的取得了某些重要突破。

起初，人们觉得错误校正码可能并不是一个革命性的数学成果。在嘈杂的派对上，我们重复自己说的话，就可以解决问题。但是，这种解决方案是需要成本的。如果我们在发送信息时，把每个比特都发三遍，这条信息的长度就会是原始信息的三倍。对于派对上的交流而言，这可能不会有任何影响，但是，如果我们想让卫星在一秒钟之内打开右推进器，就有可能出问题。香农在他的那篇关于信息论的论文中指出，时至今日，工程师们仍然面临着一个基础性难题：信号抗噪声干扰的能力越强，传输这条信息的速度就会越慢，如何在两者之间取得平衡呢？噪声的出现，为传输渠道在固定时间内精准传送的信息长度设置了上限，香农把这个限度称作通信渠道的信息传输能力。水管可以输送的水量是有限的，同样，通信渠道的信息传输能力也是有限的。

「重复三遍」的通信协议会把通信渠道的信息传输能力降至 1/3，而我们在矫正错误时并不一定需要承担这么大的损失。我们有更好的办法，香农非常了解这个办法，因为这个办法是他在贝尔实验室的同事理查德·海明（Richard Hamming）提出来的。

海明是位年轻的数学家，很早就加入了「曼哈顿计划」。他有贝尔实验室重达 10 吨的第五代机械继电器式计算机的低级使用权，只能在周末时使用这台计算机运行他编写的程序。但是，这台计算机有个问题，只要发生机械故障，海明的计算就只能中止，直到星期一上午才有人重新启动这台机器。这让海明非常恼火，要知道，生气是技术进步的一个重要激励因素。海明想，如果这台机器可以自己纠正错误，永远不会死机，情况不就能大大改观吗？由此，他想到了一个办法。跟卫星信息传输一样，人们在这台计算机上输入的内容可以看成是一连串的 0 与 1。至于这两个数字是数据流中的比特、继电器的开关状态还是纸带上的小孔（当时技术水平下的数据界面），人们根本不关心。海明采取的第一个步骤是将信息分割成一个个代码块，每个代码块由三个数字组成，比如：

```
111 010 101……
```

「海明码」（Hamming code）是一种把三位数的代码块转换成 7 位数的代码块的规则，其密码本为：

```
000 → 0000000

001 → 0010111

010 → 0101011

011 → 0111100

101 → 1011010

110 → 1100110

100 → 1001101

111 → 1110001
```

经过编码之后，上述信息就会变成：

```
1110001 0101011 1011010……
```

这些 7 位数的代码块叫作「代码字」（code word），海明码只允许有这 8 个代码字。如果接收到的信息中的代码块不是其中之一，就可以肯定有地方出错了。比如，如果接收到 1010001，我们就会知道它肯定不正确，因为 1010001 不是代码字。此外，我们接收到的这条信息与代码字 1110001 只有一个地方不同，而其他代码字与我们实际看到的错误信息都不可能如此接近，因此，我们可以很有把握地猜测对方想要传输给我们的代码字是 1110001，也就是说，原始信息中与之对应的三位数代码块应该是 111。

可能有人认为我们太幸运了。如果接收到的信息与两个代码字都非常接近，我们该怎么办呢？我们的判断就不会那么有把握了吧？但是，这种情况不会发生，我会告诉大家原因。我们现在回过头去研究法诺平面上的那些直线：

```
124

135

167

257

347

236

456
```

我们把这些直线输入计算机时，该怎么描述它们呢？计算机可以识别的语言只有 0 与 1，因此，我们必须把每一条直线都转换成一连串的 0 与 1，其中，在 n 处的 0 表示「n 位于该直线上」，而在 n 处的 1 则表示「n 不在该直线上」。比如，第一行的 124 可以写成 0010111，第二行的 135 可以写成 0101011。我们发现，这两个代码块都是海明码的代码字。实际上，海明码中的 7 个非零代码字正好对应法诺平面上的 7 条直线。因此，海明码（还包括特兰西瓦尼亚彩票的最佳号码组合）与法诺平面是完全相同的数学研究对象，只不过改头换面了！

这就是海明码隐藏得很深的几何特性。代码字是法诺平面上可以构成直线的 3 个点的组合，只要原始的代码字不是 0000000，代码块的小变动就等同于在直线上增减一个点，而接收到的错误信息则对应两个点或者 4 个点。如果我们接收到两个点，我们就会知道如何找到丢失的点，它肯定是连接这两个点的唯一直线上的第三个点。如果我们接收到 4 个点，构成了「直线加一个点」的信息，该怎么办呢？此时，我们可以推断正确的信息应该是由可以形成直线的 3 个点组成的。

思维缜密的人立刻会问：我们怎么知道只有 3 个点符合条件呢？为了便于理解，我们给这 4 个点分别命名为 A、B、C、D。如果 A、B、C 位于一条直线上，那么发送方想要发送的肯定是 A、B、C 构成的信息。但是，如果 A、C、D 也位于一条直线上呢？别担心，这是不可能的，因为包含 A、B、C 的直线与包含 A、C、D 的直线有 A、C 两个公共点，但是「公理2」规定，两条直线只能相交于一个点。换言之，由于几何公理的作用，海明码具有与「重复三次」相同的校正错误的魔力。如果信息在传输过程中被篡改了一个比特，那么接收方肯定可以判断出发送方想要发送的信息。而且，我们无须花费 3 倍的传输时间，这种新方法在传输信息时，每 3 个比特的原始信息仅需花费 7 个比特的传输量，两者之间的比为 `1∶2.33`，效率更高。

海明码及随后出现的功能更加强大的错误校正码，推动了信息工程学的发展。构建有重重保护和双重检查模式的系统以确保信息传输无误，已经不再是人们追求的目标。海明与香农的研究足以将错误发生的频率降至非常低的程度，无论有什么样的噪声，灵活机动的错误校正码都可以消除它们造成的影响。火星轨道飞船「水手9号」在把火星表面的照片发回地球时使用的阿达玛码，就是具有这种效果的错误校正码。光盘在编码时采用的是里德所罗门码，即使光盘上有擦痕也不会有多大影响。（1990 年之后出生的读者，如果对光盘不太了解，可以想一想闪盘驱动器的情况。在这些驱动器中，人们为了防止数据损毁，使用了与里德所罗门码类似的博斯–乔赫里–霍克文黑姆码。）银行的汇款路线号码由一种叫作「检验和」（checksum）的简单编码构成。这种编码不是错误校正码，而是与「每个比特重复两遍」的信息协议比较相似的错误检测码。如果一个数字输入错误，执行汇款交易的计算机可能无法知道我们真正想要输入的数字是几，但是它至少知道出了问题，从而避免我们把钱汇到错误的银行账户中。

我们不清楚海明是否全盘了解他的这项新技术的适用范围，但是在他准备发表这项研究成果时，他发现贝尔实验室的老板精于此道。专利部一定要等到申请了专利之后才同意我发表这个成果……我不相信一堆数学公式也能申请专利。我告诉他们，这是不可能的。但是他们说：「看我们的吧。」他们成功了。从此以后，我知道我对专利法的理解太肤浅了，因为我觉得某些东西应该不能申请专利（或者为这些东西申请专利是不道德的），但他们却常常能成功地申请到专利权。

数学前进的步伐比专利办公室快。瑞士数学家、物理学家马塞尔·戈利（Marcel Golay）从香农那里听说了海明的想法之后，发明了大量的新编码。但他不知道海明本人已经开发了很多相同的编码并且申请了专利，他发表了自己的编码，导致双方就这项荣誉的归属权产生了纠纷，直到现在尚无定论。贝尔实验室得到了这项专利权，但是，依据 1956 年一个反垄断协议的条款，他们失去了有偿授权的权利。

海明码为什么能够奏效呢？要理解这个问题，我们必须反过来思考：在什么情况下，海明码无法发挥作用？别忘了，最让错误校正码头疼的问题是，一个代码块与两个代码字都非常接近。收到这串令人讨厌的比特之后，接收方会无所适从，因为没有任何基于既定规则的方法可以帮助他们判断原始信息中包含的到底是哪一个代码字。

我们似乎使用了比喻这种修辞格，因为代码块和代码字都没有固定位置，为什么我们可以说一个代码块「接近」另一个代码字呢？海明在信息论概念方面的伟大贡献之一，就是强调这个说法不仅仅是比喻，甚至不需要冠上「比喻」之名。他为距离赋予了一个新的含义，现在人们称之为「海明距离」（Hamming distance）。海明距离在年轻的信息数学中的意义，同欧几里得和毕达哥拉斯心目中的海明距离在平面几何中的意义没有任何不同。

海明给出的定义非常简单：两个代码块的海明距离就是把一个代码块变成另一个代码块时需要改变的比特数。比如，代码字 0010111 与 0101011 的间距是 4，因为要把第一个代码字变成第二个代码字，我们需要改变排在第二、第三、第四和第五位的比特。

海明用 8 个代码字构建的海明码之所以能取得非常好的效果，是因为任何包含 7 个比特的代码块与两个不同代码字之间的海明距离不可能都小于 1。否则，这两个代码字彼此之间的海明距离就会小于 2。但是，两个代码字之间仅有两个比特不同的情况是不存在的。事实上，任意两个代码字的海明距离至少是 4。我们可以把代码字想象成被束缚在原子核周围的电子，或者电梯中性格孤僻的人。他们都位于一个狭窄的空间中，并且尽可能地保持彼此之间的距离。

经受得住噪声干扰的所有通信方式都是以这个原则为基础的，我们日常使用的语言就是这样。如果我把「language」（语言）写成了「lanvuage」，你们肯定知道我想要说什么，因为在英语中没有其他单词与「lanvuage」仅有一个字母不同。但是，如果你写的是一些比较短的单词，例如，「dog」（狗）、「cog」（齿轮）、「bog」（沼泽）和「log」（木材），前面的推理方法就不管用了，因为这些事物在英语中出现的频率都不少，如果噪声掩盖了第一个字母的发音，你就不大可能知道对方到底说的是哪一个单词。但是，即使在这种情况下，你仍然可以借助语境修正错误。咬人的很可能是「dog」，你可能是从「log」上面掉下来的，等等。

我们有可能提高语言的效率，但是，如果我们真的这样做，就会破坏香农发现的那种严格的平衡性。很多书呆子和（或者）有数学信仰的人曾历经艰辛，创造了可以准确传递信息的简洁语言，这种语言没有英语等语言中存在的冗长、同义和歧义等问题。

1906 年，牧师爱德华·鲍威尔·福斯特（Edward Powell Foster）创造了一门叫作「罗欧语」（Ro）的人造语言。他的目的是弃用英语的海量词汇，代之以可根据逻辑由读音推导出语义的单词。麦尔威·杜威（Melvil Dewey）的「杜威图书十进制分类法」虽然把公立图书馆的书架管理得井井有条，但该分类法就像罗欧语一样严格死板，因此，杜威热衷于罗欧语这个事实可能并不令人吃惊。罗欧语的确非常简洁，英语中很多比较长的单词，例如「ingredient」（配料），在罗欧语中就简短得多，写作「cegab」。但是，简洁也是要付出代价的，罗欧语失去了错误校正这个英语与生俱来的特点。电梯里空间狭小，人多拥挤，因此乘客并没有多少个人空间，也就是说，罗欧语中的每个单词都会与其他很多单词相近，很容易发生混淆。罗欧语表示「颜色」的单词是「bofab」，如果换一个字母，把它变成「bogab」，就会得到表示「声音」的单词。「bokab」的意思是「电」，而「bolab」的意思是「味道」。更糟糕的是，罗欧语的逻辑结构导致发音相近的单词也具有相近的意思，导致我们几乎无法根据上下文的语境来判断到底是哪个词。「bofoc」「bofof」「bofog」「bofol」的意思分别是「红」「黄」「绿」「蓝」，用相近的发音来表示相似的事物有一定道理，但是，也会导致人们在嘈杂的派对上无法使用罗欧语谈论颜色，「对不起，我没有听清楚，你说的是 bofoc 还是 bofog?」

与之相反，某些现代人造语言走到了另一个极端，过度使用了海明与香农提出的那些原则。当代最成功的人造语言之一——「逻辑语」（Lojban），严格规定所有的基本词根（或者叫作「ginsu」）都不允许有相近的发音。

海明的「距离」观与法诺的哲学观一脉相承，他认为，如果一个量与距离有相似的特点，那么这个量也可以被称作「距离」。很显然，海明并没有就此止步。在欧几里得几何学中，与给定中心点的距离小于或等于 1 的点集叫作圆；在维度大于 2 时，叫作球体。因此，我们把与某个代码字的海明距离不超过 1 的代码块的集合叫作「海明球体」，该代码字位于海明球体的中心。要想具有错误校正能力，编码中的所有代码块（如果真的要用几何学来类比，就是所有的点）与两个不同代码字的海明距离就不能都小于或等于 1，换言之，我们要求以不同的代码字为中心的海明球体不能有交叉点。

因此，在构建错误校正码时，与经典几何学一样，也需要解决「球体填充」（sphere packing）的难题，即如何把一堆大小相同的球体填充到狭小的空间中，使它们尽可能地紧密排列而且所有球体互不重叠。换一个更简洁的说法：盒子中可以装多少个橙子？

球体填充问题由来已久，比错误校正码出现的时间要早得多，甚至可以追溯至天文学家约翰尼斯·开普勒（Johannes Kepler）的时代。1611 年，开普勒写了《关于六角雪花》（Strena Seu De Nive Sexangula）的小册子。尽管这个书名非常具象化，但是开普勒在书中思考的却是天然形状的起源这个大问题。雪花与蜂巢为什么是六边形，而苹果的种子却是五五排列呢？现在，与我们关系最密切的此类问题是：为什么石榴的种子通常有 12 个面呢？

下面是开普勒的解释：石榴希望在果实中装入尽可能多的种子，也就是说，它在尝试解决球体填充问题。如果我们认为大自然总能找到解决问题的最佳途径，石榴就应该是球体填充的范例。开普勒认为，下面的结构是最紧密的球体填充方式。从平面图来看，第一层的种子应该是以下图所示的规则、整齐的方式排列在一起的。

第二层与第一层相同，不过每颗种子都非常巧妙地置身于由位于下一层的 3 颗种子所构成的三角形的狭小空间中。然后，以同样的方式添加其他层。我们需要注意的是：每层有一半的间隙要用于盛放上一层的「球体」。因此，在填充每一层时，我们需要选择在哪些间隙中填充这些球体。

最常见的选择方案叫作「面心立方晶格」（face-centered cubic lattice），该方案有一个非常好的特性：每层球体的位置正好位于自该层起下方第三层球体的正上方。开普勒认为，这是球体填充最紧密的方法。在面心立方晶格中，每个球体正好接触 12 个球体。开普勒猜想，石榴种子在逐渐长大的过程中，每颗种子会挤压与之相邻的 12 颗种子，因此接触点附近的表面会变平，最终形成他观察到的十二面形。

我不知道开普勒的石榴论是否正确，但是，几百年来，他的「面心立方晶格是最紧密的球体填充方式」的论断，一直为数学界津津乐道。开普勒没有提供任何证明，很显然，在他看来，面心立方晶格理论是不可能被推翻的。一代代的食品杂货商都与开普勒的观点一致，他们在堆放橙子时一直采用面心立方晶格这种方法，而从来不考虑这是不是最佳做法。

不过，苛求的数学家希望能找到铁证，而且，他们关心的不仅限于圆与球体。进入理论数学的研究领域之后，我们自然会超出圆与球体的范畴，研究维度超过三维的所谓超球体填充问题。

射影几何学的研究成果拓展了错误校正码理论的视野，那么高维的球体填充问题也会推动编码理论的发展吗？这一次的情况与人们的初衷几乎背道而驰，人们深入研究编码理论取得的突出成果，反过来对解决球体填充问题起到了推动作用。20 世纪 60 年代，约翰·里奇（John Leech）利用戈利发明的一种编码，构建了一种紧密程度令人叹为观止的 24 维球体填充方法，人们称之为「里奇晶格」（Leech lattice）。在里奇晶格这个拥挤的空间里，每个 24 维球体同时接触 196 560 个其他球体。我们仍然不知道这种填充方法是不是最紧密的 24 维球体填充法，但是，2003 年，微软研究院的亨利·科恩（Henry Cohn）与阿比纳夫·库玛（Abhinav Kumar）证明，如果存在更紧密的晶格，那么这种晶格的与里奇晶格的紧密程度的比值最多为：

```
1.000 000 000 000 000 000 000 000 000 001 65
```

也就是说，两者非常接近。你无须关心 24 维球体以及如何将它们排列在一起的问题，但是，你必须知道，像里奇晶格这种令人惊叹的数学对象肯定有非常重要的价值。事实证明，里奇晶格具有大量奇特的对称性。1968 年，杰出的群理论学家约翰·康威在接触到里奇晶格之后，经过 12 个小时的计算，用了很多张纸，才找出了其所有的对称性。后来，这些对称性成了有限对称群的一般理论的组成部分，这些一般理论是代数学家在 20 世纪大部分时间里潜心研究的内容。

至于古老的三维橙子问题，研究证明开普勒说的没错，他的填充法的确是最佳方法。但是，直到大约 400 年之后，托马斯·黑尔斯（Thomas Hales）才于 1998 年完成了证明。黑尔斯当时在密歇根大学任教，他将这个问题简化为只有几千种排列方式的球体，然后借助计算机处理大量计算步骤，才完成了这个艰难的证明。数学界对于艰难的证明早就习以为常了，对于他们而言这不是问题。人们很快就发现并验证了黑尔斯的证明过程的准确性，但是，计算机完成的大量计算则难以验证。我们可以从头到尾详细检查证明过程，但是计算机程序与证明过程不同。即使人们可以检查每个代码行，又如何才能确定这些代码运行起来没有问题呢？

数学家普遍认可了黑尔斯的证明，但是黑尔斯本人却面临着一个问题。当初，证明过程对计算机的依赖让他感到有些不安，现在，虽然开普勒猜想的证明工作顺利完成了，但他依然无法释怀。于是，黑尔斯离开了让他一举成名的几何学领域，投身到对证明过程进行验证的研究中，他希望未来的数学与我们现在看到的有很大不同。他认为，无论是借助计算机还是使用纸笔完成的数学证明，都已经变得十分复杂，而且各个证明过程相互依赖，以至于我们再也没有充分的理由相信这些证明过程是正确的。康维尔对里奇晶格的分析成为「有限单群分类」的一个重要组成部分，有限单群分类这个研究项目目前已经完成，其成果表现为几百名作者撰写的几百篇论文，这些论文的篇幅总计超过 1 万页。据说，到目前为止还没有人能够理解其全部内容。那么，我们如何才能确定这些内容都是正确的呢？

黑尔斯认为，我们别无选择，只能另起炉灶，在可以借助计算机验证的前提下重新整合大量的数学资料。黑尔斯曾经为证明过程是否站得住脚而头疼不已，他认为，如果用于验证证明过程的编码本身便于验证（黑尔斯有充分的理由认为这个目标是可以实现的），我们就可以一劳永逸地摆脱类似的争议。然后呢？也许就是要求计算机在完全不需要人类介入的情况下可以独立完成证明过程，甚至具有思维能力。

如果这一切真的发生了，是不是意味着数学将会寿终正寝？的确如此，如果计算机在思维能力方面赶超人类，然后像某些偏激的未来主义者预测的那样，把人类当作奴隶、牲畜或者宠物，那么，数学真的会和所有东西一起灭亡。毕竟，几十年来，人们一直在利用计算机辅助数学研究。有很多种曾经被视为「研究」的计算活动，在现代人的心目中已经与 10 位数的求和一样不再具有创造性，也不值得称道了。只要笔记本电脑可以完成的工作，再也不能算作数学研究了。但是，数学家并没有因此失业。就像动作片的主角跑得比爆炸引起的大火蔓延的速度要快一样，数学家也总能领先于计算机影响力不断扩展的速度。

如果未来的机器智能真的可以接管大部分我们现在视为研究的工作，会怎么样呢？我们会重新分类，把那些研究工作划拨到「计算」的项目之下。而人类利用善于做定量研究的头脑所完成的全部工作，都会被称作「数学研究」。

虽然海明码的效果相当不错，但是人们想百尺竿头更进一步，毕竟海明码的效率还可以进一步提高。早在穿孔纸带与机械式继电器时代，计算机就已经可以完美地处理几乎所有 7 位数的代码块了。海明码似乎过于谨慎了，我们肯定可以减少向信息中添加的保护代码位数，香农的著名定理证明我们确实可以做到这一点。

比如，香农认为，如果错误的发生概率为每 1 000 位数的代码中出现一个错误，那么在应用某些编码进行处理后，信息的长度仅比编码前增加了 1.2%。这些编码还不是最好的，如果逐渐增加基础代码块的长度，我们发现某些编码在达到一定的处理速度的同时，还能满足我们对信息可靠程度的任何要求。

那么，香农是如何发明这些优质编码的呢？答案是，这些编码并不是他发明的。我们在遇到像海明码这样的复杂结构时，往往会下意识地认为错误校正码真的非常特别，在设计时它们肯定会被反复修改，直到每对代码字都小心翼翼地保持彼此间的距离，而且能确保其他对代码字不得其门而入。香农的聪明才智表现在，他看出这是一个彻头彻尾的错误认识。错误校正码根本没有任何特别之处，香农成功地证明（一旦知道需要证明的内容，证明过程本身并不是特别难）几乎所有的代码字集都有错误校正的功能。换言之，没有经过任何设计的完全随机的编码也极有可能是一种错误校正码。

毫不夸张地说，这至少是一个令人震惊的新发现。假设我们接受了一个建造气垫船的任务，难道我们的第一选择是把一堆引擎零部件和橡皮管随意地扔到地上，然后指望它们能自动组装成漂浮在水面上的气垫船吗？

1986 年，时隔 40 年之后，海明仍然对香农的证明过程敬佩不已，他说：

香农最杰出的特点之一就是他的勇气。想想他提出的主要定理，他的勇气便可见一斑。他希望发明一种编码，因为无从下手，他就写了一个随机编码。这时，他想到了一个问题：「普通的随机编码有什么作用？」他认为普通编码具有完美的随机性，因此肯定具有较高的使用价值。如果没有无与伦比的勇气，怎么会有这么大胆的想法呢？勇气是伟大科学家必备的特质，这些科学家在极度困难的情况下也会昂首阔步向前进，并不断地思考。

如果随机编码也有可能是错误校正码，那么海明码还有什么存在的意义呢？既然香农也认为随机编码有可能具有矫正错误的功能，那么我们为什么不随意选择代码字呢？这是因为这个做法会导致一个问题：编码光在理论上具有矫正错误的功能是不够的，关键是它在实践中是否能够矫正错误。如果香农编码的代码块的位数为 50，代码块的总数就是 50 个 0、1 构成的不同代码块的总数，即 250 个，这个数字略大于 1 000 兆。卫星接收到的信号应该是（或者至少接近于）这些代码块中的一个，但是代码块一共有 1 000 兆个，它接收到的到底是哪一个代码块呢？如果我们必须从这 1 000 兆个代码块中逐一甄别，就太麻烦了，因为这又是一个组合爆炸问题。因此，我们必须再次采取一种平衡的策略。像海明码这种条理清晰的编码往往更易于解码，但是事实证明，这些非常特别的编码，其效率通常比不上香农研究的那些随机编码。时至今日，几十年过去了，数学家一直在结构性与随机性这两个概念之间进退维谷，在绞尽脑汁地发明各种编码时，既希望其有足够的随机性，可以快速处理数据，又希望其有充分的结构性，以便降低解码的难度。

海明码在特兰西瓦尼亚彩票游戏中可以大显身手，但是在「Cash WinFall」彩票游戏中却一无是处。这是因为特兰西瓦尼亚彩票只有 7 个数字，而马萨诸塞州的彩票却有 46 个数字，后者需要更强大的编码。我能找到的最适合「Cash WinFall」彩票的编码就是莱斯特大学的丹尼斯顿（Denniston）于 1976 年发明的，这套编码真是太完美了。

丹尼斯顿列出了一个号码组合清单，其中包含 285 384 个号码组合，都是由 48 个备选数字中的 6 个构成的。排在清单前几位的号码组合为：

前两组号码有 4 个数字相同，即 2、3、4 和 48。但是，我们在这 285 384 组号码中不可能找到有 5 个数字相同的两组号码，这正是丹尼斯顿清单的神奇之处。在前文中，我们把法诺平面转变成编码，同样，我们也可以把丹尼斯顿清单转变成编码：把每组彩票号码转换成由 0 和 1 构成的 48 位数的代码块，在与彩票号码中数字相对应的位置填上 0，其他位置填上 1。因此，上面的第一组号码就会变成下面这个代码块：

```
000011101111111111111111111111111111111111111110
```

由于每两组号码的 6 个数字中不可能有 5 个相同，因此，这套编码与海明码一样，每两个代码块的间距都会大于或等于 4。这个结论，请大家自行验证。也就是说，任意 5 个数字的组合在丹尼斯顿的彩票号码清单中至多出现一次。它的好处不仅限于此，事实上，任意 5 个数字的组合在丹尼斯顿的彩票号码清单中都会出现但只有一次。

由此可以想象，丹尼斯顿列举这个清单时必须非常小心。丹尼斯顿在他的论文中给出了一个用「算法语言」（ALGOL）编写的计算机程序，可以验证他的清单的确具有他所说的神奇特点。在 20 世纪 70 年代，这是非常高调的姿态。此外，他还强调，在人机合作方面，计算机的作用应严格从属于他本人所发挥的作用：「虽然我建议大家可以使用计算机验证我的研究结果，但是我要明确地告诉大家，在得出这些结果的过程中我没有使用计算机。」

「Cash WinFall」彩票游戏有 46 个数字，要使用丹尼斯顿系统的话，我们需要稍稍破坏后者的完美对称性，剔除其中包含 47 或者 48 的所有号码组合。这样，剩下的号码组合仍然有 217 833 个。如果我们从藏在床底下的钱中拿出 435 666 美元买这些号码组合，结果会怎样呢？

彩票中心会开出 6 个数字，比如 4、7、10、11、34、46。如果这个号码组合不可思议地与你选的某组号码完全匹配，你就中了大奖。不过，即使没中大奖，你仍然有可能猜中 6 个数字中的 5 个，赢得让你满意的奖金。你买的彩票中有没有一组含有 4、7、10、11、34？丹尼斯顿列举的那些号码组合中的确有一组这样的号码，除非这组号码是 4、7、10、11、34、47 或者 4、7、10、11、34、48，导致你没法选用，否则，你绝不会与奖金失之交臂。

如果开出的是另外 5 个号码，比如 4、7、10、11、46，结果会怎么样呢？上一次你的运气不好，因为丹尼斯顿清单中有一组号码是 4、7、10、11、34、47，因此，4、7、10、11、46、47 这组号码就不可能出现在丹尼斯顿清单上，否则清单上就会有两组号码有 5 个数字相同。换句话说，如果 47 这个讨厌的数字让我们错失了一次获得「6 中 5」奖金的机会，那么它只有这一次捣乱的机会，数字 48 的情况与之相同。因此，一共有 6 个号码组合可能会赢得「6 中 5」奖项：

你买的彩票肯定至少包含其中 4 组号码。因此，如果我们购买了 217 833 组丹尼斯顿号码，我们就会有：

```
2% 的概率中大奖；

72% 的概率赢得 6 个「6中5」奖项；

24% 的概率赢得 5 个「6中5」奖项；

2% 的概率赢得 4 个「6中5」奖项。
```

我们把这种情况与塞尔比通过快速选号器随机选号的结果进行比较。塞尔比的选号策略有一个比较小的概率会被「6 中 5」奖项完全拒之门外，这个概率为 0.3%。更糟糕的是，只中一个该奖项的概率为 2%，中两个的概率为 6%，中三个的概率为 11%，中 4 个的概率为 15%。因此，丹尼斯顿策略可以保证的收益在这里被风险所取代。当然，风险也有好的一面。塞尔比团队赢得 6 个以上该奖项的概率为 32%，而根据丹尼斯顿策略选号时，中该奖项的数量不可能超过 6 个。塞尔比的彩票期望值与丹尼斯顿的彩票期望值，乃至所有人的彩票期望值相同，但是，丹尼斯顿策略可以让玩家免受风险的影响。要规避博彩活动的风险，仅凭购买数十万张彩票是不够的，还必须选择正确的号码。

「随机策略」团队费时费力地手工填写数十万张彩票，是不是出于这个原因呢？他们是不是利用丹尼斯顿在纯粹的理论数学研究中发明的系统，毫无风险地从彩票中心圈钱牟利呢？在探究这个问题时，我遭遇了一次挫折。我成功地与卢玉然取得了联系，但他并不清楚这些号码是如何选择的。他只是告诉我，他们大学宿舍里有一位「关键先生」，全权负责选号事务。我不确定这个人是否使用了丹尼斯顿系统或者诸如此类的系统，但是我认为，如果他没有使用这类系统，就太可惜了。

### 13.3 非理性行为为什么会存在？

到目前为止，我们已经不厌其烦地证明了一个结论：从奖金期望值的角度看，买彩票几乎在所有情况下都是错误的选择；即使在某些罕见的个案中，彩票的奖金期望值高于其售价，我们也必须非常小心，才能从彩票中尽可能多的获得期望效用。

这个结论让拥有数学思维的经济学家，很难解释彩票销售非常火爆的事实。200 多年前，这个事实也让亚当·斯密困惑不已。埃尔斯伯格研究的是人们针对未知概率或者无法预测的概率做决策的情况，而购买彩票并不包含在内，因为所有人都已经被告知彩票的中奖概率非常小。人们在做决策时往往会追求效用最大化，这个原则是经济学家开展研究的基础，在为包括经营决策与爱情决策在内的所有行为建模时，给他们提供了有效的帮助。但是，这些行为并不包括弹力球游戏。就像毕达哥拉斯的门徒无法接受三角形的斜边长度是无理数一样，某些经济学家也无法接受弹力球游戏这种非理性的行为。弹力球游戏不适合他们的所有模型，但却是一种真实存在的事物。

经济学家比毕达哥拉斯的门徒更懂得变通。在有人告诉他们坏消息时，他们不会勃然大怒，把送信人扔进大海淹死，而是对模型做出修正，以适应这种现实。我们的老朋友米尔顿·弗里德曼与伦纳德·萨维奇给出的一个解释得到了普遍认可。他们认为，彩票玩家遵循的是一种不规则的效用曲线，该曲线表明人们在买彩票时考虑的是阶级地位，而不是数量多少。如果你是中产阶级，每周在彩票上投入 5 美元并且没有中奖，那么这个决策会让你损失一点儿钱，但是不会改变你的阶级地位。而且，尽管你损失了一点儿钱，但是这个效用与零非常接近。不过，一旦中奖，就会让你步入一个新的社会阶层。我们可以使用「临终」模型来考虑这个问题：你都快要死了，如果因为买彩票而导致你临死时的钱变少了，你还会在乎吗？你可能一点儿都不在乎。如果中了弹力球游戏的大奖之后，你可以在 35 岁退休，尽情享受生活，比如去圣卢卡斯海角潜水，那么你会为之心动吗？是的，你肯定非常向往它。

丹尼尔·卡尼曼（Daniel Kahnemann）与阿莫斯·特沃斯基在偏离经典理论的方向上走得更远。他们认为，一般来说，人们不仅仅是在丹尼尔·埃尔斯伯格把一只瓮放到他们面前时才会背弃效用曲线，而是在大多数情况下都会这样做。他们提出的「前景理论」（prospect theory）现在被视为行为经济学的基础理论，后来卡尼曼还因此获得了诺贝尔经济学奖。该理论的目的是，以尽可能逼真的模型展现人们实际的行为方式，而不是运用抽象的理性去推测他们应该采取的行为方式。卡尼曼–特沃斯基理论认为，人们对小概率事件的重视程度，往往超过冯·诺依曼公理认为我们应当赋予它们的重视程度；因此，大奖的诱惑力会大于我们根据期望效用理论计算得出的结果。

但是，我们甚至根本不需要费力地开展理论研究，就可以给出一个最简单的解释：无论输赢，买彩票都可以给我们带来一些乐趣。与加勒比度假之旅或者参加通宵舞会的乐趣不同，这种乐趣也许只值一两美元吧。我们有理由不相信它（例如，玩家自己往往认为中奖的前景是他们买彩票的首要原因），但是它的确可以很好地解释人们买彩票的行为。

经济学家不是物理学家，效用与能量也不同。效用无法储存，相互作用的结果有可能使双方都获得更多的效用，这是乐观的自由市场论者的彩票观。彩票不是递减税，而是一个游戏。人们向政府支付一小笔钱，参与政府廉价提供的几分钟娱乐活动，政府也因此获得维持公立图书馆、街道照明所需要的资金。有贸易往来的两个国家在交易之后都会成为赢家，彩票也是一样的道理。因此，如果你觉得弹力球游戏好玩，就尽管去玩吧，无须考虑数学问题！

这个观点肯定也有问题。我们还是以帕斯卡为例，介绍一种典型的、悲观的博彩观：

这个人一辈子小赌不断，每天如此，从来不知疲倦。如果每天上午给他一笔钱——他每天可能赢多少钱就给他多少钱，条件是他不得再赌，这会让他感到非常痛苦。也许有人会说，他赌博的目的是找乐子，而不是赢钱。但是，如果让他参与赌博游戏，但不允许他下注，他就不会感到兴奋，而是觉得无聊。因此，他追求的不仅仅是乐趣，闲适安逸、没有激情的乐趣只会让他觉得索然无味。他之所以感到兴奋，是因为他以为自己感到快乐的原因，是赌博可以让他赢得不下注就无法得到的东西。其实，这不过是一种自欺欺人的幻想。

帕斯卡认为以赌博为乐是可鄙的，沉迷其中会带来伤害。支持彩票的人还会拿脱氧麻黄碱作为论据，认为脱氧麻黄碱经销商与客户形成了一种双赢的关系，这跟彩票发行方与玩家的关系十分相似。

如果我们不考虑这些赌博上瘾的人，而是考虑其他人，情况会怎么样呢？经营一家商场或者有偿提供服务，这些与买彩票的行为不同，前者的成功从一定程度上讲是可控的。但是，两者又有一些相同的地方。对于大多数人而言，经营企业是胜算不高的赌博。哪怕我们相信自己出售的烧烤汁非常美味可口，我们的第三方应用程序是一种颠覆性创新，或者我们准备采用的经营方法冷酷无情到近乎犯罪的程度，我们遭遇失败的可能性也会远远大于取得成功的可能性，这是由企业经营的本质决定的。如果经营企业，我们将会面临三种结果：1）一是赚大钱，这个概率非常非常小；2）二是捉襟见肘、勉强维持生计，这个概率比较大；3）三是亏本倒闭，这个概率最大。

对很大一部分潜在的企业家而言，如果对这些数据加以处理，就像买彩票一样，收益期望值也小于零。普通企业家（与普通彩票玩家一样）会过高地估计自己获得成功的概率。即使在存活下来的企业中，企业主挣的钱通常也不会很多，如果他们去某个公司上班、领薪水，绝大多数情况下收入会更高。

但是，因为人们没有采取更明智的行动，而是纷纷开办企业，结果社会获得了好处——我们需要饭店、理发师、智能手机游戏。企业经营真的是「傻瓜缴纳的税金」吗？如果我们真的这样认为，那就大错特错了。

原因之一是我们对企业主的尊重程度高于赌徒，我们在判断一种行为是否理性时，很难不受到道德观念的影响。还有一个原因（也是更重要的原因）是，企业经营的效用与购买彩票的效用一样，不仅仅是通过收益期望值来衡量的。实现梦想的行为本身，甚至这方面的尝试，就是一种回报。

詹姆斯·哈维和卢玉然就做出了这样的决定。在「Cash WinFall」彩票被叫停之后，他们搬到了西部，在硅谷创建了公司经营网上聊天系统业务。（哈维在个人资料页面半遮半掩地把「非传统性投资策略」列为自己的兴趣爱好。）在我撰写本书时，他们正在四处寻找风险投资，他们也许能如愿以偿吧。但是，即使他们铩羽而归，我相信他们也很快会卷土重来，他们才不会考虑什么收益期望值呢。祝愿他们购买的下一张「彩票」中大奖！
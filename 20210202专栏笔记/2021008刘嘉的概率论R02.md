# 2021008刘嘉的概率论R02

## 记忆时间

## 0300. 收集上帝的骰子

0301概率分布认识现实世界的数学模型.md

0302正态分布最简单却最重要的概率分布.md

0303中心极限定理正态分布是概率分布的神.md

0304幂律分布给人带来希望的魔鬼.md

0305泊松分布打开统计推断的大门.md

0306假设检验1基于概率反证法的统计推断.md

0307假设检验2为什么会导致错误结论.md

## 0301. 概率分布：认识现实世界的数学模型

上一模块，我们重点讲了频率法，并且学习了期望和方差这两个描述随机事件的重要指标。从这一讲开始，我们进入课程的下一模块 —— 概率分布。你可能听说过正态分布、幂律分布这些名字，对它们的含义可能也有或多或少的了解。这一次，咱们就从概率论的角度正本清源地讲一讲。模块第一讲，我会先带你从整体上理解概率分布，看看正态分布、幂律分布这些词都是怎么来的，又有什么具体的意义。

### 1.1 随机变量与概率分布

咱们知道，数学家解决问题的方式就是抽象。如果一类事物能找到共同点，就会被抽象成一个数学量。在处理随机事件的问题上，这个抽象出来的结果就叫「随机变量」。

什么是随机变量呢？简单说，就是把随机事件可能的结果抽象成一个数字，每个数字对应一个概率。这个随机变化的数字，就是随机变量。有了随机变量，我们就把现实世界和数学世界打通了。要寻找一个随机事件的规律，直接分析随机变量这个具体数字的变化情况就好了。比如，要研究中国人银行存款的状况，银行存款余额就是这件事的随机变量，咱们每个人的存款余额，就都是这个随机变量的一个结果；要研究地震的强度，地震的级别就是一个随机变量，1 到 8 级，每个震级都是随机变量的一个结果。

把随机变量所有的结果和它对应的概率全部统计出来后，我们就有了一个东西 —— 概率分布。还是地震的例子，如果把所有地震的震级都统计出来，根据频率法，我们就能知道不同级别的地震发生的概率了。1 级地震的概率多大、2 级地震的概率多大…… 一直到 8 级地震的概率多大，全都一清二楚。这样，我们就对地震这件事有了整体的认识。

到这里，概率分布的作用估计你已经看出来了，就是整体上的确定性。通过从整体上描述一个随机事件所有可能的结果和对应的概率分布情况，我们就能像上帝俯瞰世界一样，从整体上把握这件事的基本轮廓，也就为进一步探索其中的规律提供了可能。

### 1.2 用模型代表现实世界的规律

每一个随机事件都有自己的概率分布。随机事件不同，概率分布自然也不相同。但经过不断的研究，数学家们逐渐发现，概率分布是有规律可循的。比如人的身高和智商，看起来毫不相关，但它们的分布情况挺相似的，都是正常水平的比较多，而特别高和特别低的非常少。再比如地震，小规模的地震数量很多，但破坏性很小；大规模的地震数量很少，但破坏性很大，这和个人财富的分布状况又比较一致。

更进一步的，数学家们还发现，这些概率分布的变化规律甚至可以用数学公式来精确表示。这一个个的数学公式，就是我们这一讲说的概率分布模型。像常见的正态分布、幂律分布，以及后面会讲到的泊松分布，都是这些模型的一种，分别对应不同的数学公式，代表一种独特的变化规律。

当然，就像印度《吠陀经》说的：「真理只有一个，哲人用不同的语言表达。」概率分布模型的表示方式也很多，常见的有三种 ——

第一种，就是那些让人头大的数学公式。

第二种，就是列表。把随机变量可能的结果和对应的概率全部列出来。想知道某个结果出现的概率，直接查表就好了。

第三种，就是画图。横坐标是随机变量的结果，纵坐标是对应的概率，画一个概率分布图。你可能见过正态分布、幂律分布的曲线，其实就是这种表示方式。

三种方式各有优缺点。列表很直观，但来回查表比较繁琐；画图很形象，但看图时往往会有一些误差；公式很简洁，也很精确，但门槛比较高，很多人看不懂。对于从事数学工作的人来说，我当然更喜欢公式。只有看到了唯一确定的数学公式，我们才会觉得找到了这件事的规律，才会觉得踏实。因为这种对真理的偏好和对公式的偏执，现实世界里越来越多的随机变量的变化规律，被数学家发现了。也就是说，我们的概率分布模型越来越多。有了这些模型，解决各种随机事件就简单多了，看看它适用于哪个模型，直接带入公式计算就好了。

现实世界纷繁复杂，各种随机变量数不胜数。但在概率学家眼里，它们只分为两类 —— 一类是已经找到了变化规律，可以用概率分布模型描述的；另一类是还没有找到变化规律，无法用概率分布模型描述的。

对于规律相似的同一类现象，概率分布模型只有一个，只是模型中的参数不同。比如人的身高和智商，它们的规律就很相似，都服从正态分布，只是各自的均值和方差不一样。同样的，地震和个人财富大体上都服从幂律分布，只是对应的幂指数不同。

当然，如果不是同一类现象，不遵循同一个规律，就不能用同一种概率分布模型。如果非要拿着正态分布的公式去计算幂律分布，肯定是要闹笑话的。至于正态分布和幂律分布是什么意思，你先不用太纠结，后面会详细讲到。你只要记着，它们是不同的概率分布模型，代表着不同的概率分布规律，不能混用，就可以了。

### 1.3 用模型不断逼近世界的真相

找到了变化规律的，可以用概率分布模型描述。还没有找到变化规律的怎么办呢？只能束手无策吗？当然不是。

一般情况下，面对一个无法解释的现象，专家会先假设它服从某个概率分布模型，然后再去验证假设。比如对于股市这个问题，过去的经济学家发现：股票的波动情况和抛硬币一样，连续两天都涨或连续两天都跌的可能性差不多都是 50%，挺服从正态分布的。于是，他们就用正态分布来模拟股市，并根据这个模型的数学特征，比如数学期望、方差、极端情况出现的可能性等，来构建整个金融体系的风险系统。最后，人们拿模型的预测和现实中股市的涨跌情况做个对比，发现变化挺一致的。所以人们就认为，股市的变化服从正态分布这个模型。

但是很快，这个结论就出问题了。金融危机爆发的时候，市场完全不遵循正态分布的规律。在正态分布的模型中，几十亿年才会出现一次的极端情况，会在一天内反复出现。这时候，人们终于明白 —— 用正态分布来评估股市的风险，可能压根就是错的。换句话说，我们可能从一开始就选错了模型。

请注意，是我们选错了模型，而不是说模型本身是错的。概率分布模型是逻辑的产物，百分之百是正确的；但是模型那么多，我们选择时可能出错。打个比方，菜刀的设计没有错，但你用菜刀钉钉子，就不免会伤到手。错的不是菜刀，而是你选错了工具。

模型选错了怎么办呢？当然是重新选择新模型。在研究过极端情况后，金融分析师就发现，用正态分布描述金融资产的风险不对，也许肥尾的柯西分布更有效。当然，你不用管柯西分布是什么意思，这里只是想告诉你：概率分布就好比一个工具箱，一个个的概率分布模型就好比是工具箱里的工具。遇到问题，我们从工具箱里找工具解决。如果工具选错了，就得重新选择。

目前，有多少种工具供我们选择呢？常见的有几十种，像正态分布、幂律分布、指数分布、泊松分布都是其中的一种。不过这个数字肯定会越来越大，因为数学家还在针对不同的现象、不同的变化特征，发现和发明新的模型。

1-2-3『又想到了「2019825模型思维 | 2019825The-Model-Thinker」那本书，一定要去研读。（2021-02-14）』——未完成

你可能会好奇：如果试了所有的概率分布模型，还是无法准确描述某个随机变量，这时候怎么办呢？老实说，这样的例子很多。像金融和社会领域的一些现象，目前确实还找不到合适的数学模型，但数学家们一直都在努力。我们坚信，任何事物都是有规律可循的，所以继续探索，发现更多模型的工作永远不会停。不断探索真理，向真理世界靠拢，这不就是科学发展的过程吗？

### 黑板墙

思考题：很多人喜欢民国，想着民国时期有那么多学术大师、名媛和文艺青年，于是就想穿越回去。根据今天学的概率分布，请你分析一下，假如我们穿越回民国，更可能成为林语堂、张爱玲这样的天才作家，还是拉车的骆驼祥子呢？

下节预告：虽然概率分布模型有几十种，但是几个常见的就已经能帮我们理解大部分现象了。这个模块接下来的几讲，我会向你介绍几种常见的概率分布模型。下一讲，先说最重要也最简单的正态分布。

#### 01

民国学术大师有多少？占人ロ比例是多少？或许很少，因为少，就比较亮眼，所以我们都能数得出来，反而感觉很多。而今天我们的人口是当时的数倍，科学家作家也是不少的，但我们可能反而觉得少了。凡事要用数据说话，按此估计，回到民国成为拉车的概率更大，因为当时的文盲比例远远大于现在。

作者回复：我带着美好期望穿越回民国，想着王国维、梁启超、章太炎、陈寅恪、鲁迅、钱钟书、沈从文、徐悲鸿、齐白石、张大千、胡适、季羨林、钱学森、童第周、李四光、竺可桢。再不，当个成为徐志摩，嗯。想着想着我竟笑出声来。脑袋被打了ー下，「睡什么觉，还做梦？快点去拉车了！」

#### 02

大概率会去拉车，两个阶层的人群相差太大。但如果你比普通人智商更高，更懂历史，长的更好看，把握机遇的能力更强，穿越的家庭条件更好，学习能力更强，那成为大作家的概率会比普通人高很多，但还是大概率成拉车的。今天股市大跌，很多人又开始讨论起来了，我想下刘嘉老师，怎么能通俗易懂地，从概率方面向身边人讲清楚股市在短期内的不可预测性，随机性？每次大涨大跌都有很多来问后市的身边朋友，我只能说，我也不知道。怎么讲明理由让其明白。

作者回复：股票短期来看是「投票机」，长期来看是「称重机」。投票机，影响投票的因素浩如烟海，甚至无法枚举出全部因素，也无法说清楚那几个因素最主要，因为不同的时间点，最主要的因素可能是在变化的。跌是个随机现象。看一个行业是不是「运气」占主要因素，有个简单的逻辑，你想输，能不能真的输。

#### 03

这个问题有点类似于有的人觉得自己与同事处不好，换个环境就会顺了，有的人学习不好，父母把他送出国，学习就会变好了一样。我觉得一个人的能力、习惯，至少在短时间内都是不会大变的，处理不来的问题，在新环境还是一样的。同样，牛人到哪里，也都是闪闪发光的。优秀是一种习惯，金子在哪里都是那样耀眼。如果说，乱世出英雄，机遇只适用于那些本身就很牛但就差一点点运气的人。还有个问题问老师。为什么要假设它是某种分布，再去验证？我觉得把数据画成图，不是就一目了然了吗？比如，画出来是钟型，就是正态分布，是陡峭的刀状的，就是幂律分布。

作者回复：正态分布是钟形曲线，而钟形曲线未必一定是正态分布，柯西分布也是钟形的，差别只在尾部的高低上。判断分布，首先是性质，每个分布和其他分布区别的最重要的不是公式，不是曲线，而是每个分布拥有一种或几种不同的性质。这些性质其实反过来決定了公式，公式再決定了曲线。了解分布，重要的是了解性质，了解模型，重要的搞清楚性质。

#### 04

平时最常见的概率分布就是正态分布和幂律分布。简单的说，投入要素的边际产出有刚性限制的事情，往往呈现正态分布。比如管理者如果凡事喜欢亲力亲为，那他的投入产出图形就应该是正态分布。因为对于一个人来说，时间是刚性的，你再努力ー天也只是 24 小时。所以一个管理者如果凡事都是自己动手，小富即安可以，大富大贵实现不了，因为超过一定的限度，再多的资源投入也白搭。但是对于边际成本趋于零的事情来说，就可能呈现强者通吃的幂律分布状态了。比如有专利保护的药品，有研制秘方的食品，通过在线播放的课程等，这些行业容易产生巨头和垄断者。

#### 05

穿越回去成为普通大众的可能性最大，就好像我们总梦想着能穿越到清朝，想当然的成为富贵人家的大小姐与雍正爷谈场可歌可泣的恋爱一样，但可能性最大的却是成为贫苦人家的丫头整天以织布浣纱为生。因为张爱玲也好、林语堂也好，本身就是因为拔尖儿能被记得住，倘若每个人都是如此优秀，为啥人们非得记得他们呢？正是有我们这样平庸的芸芸大众，才能衬托出他们的出彩啊。另有一个问题想请教老师，科学家们一直致力于发现生活中随机变量里的数学规律，这是不是意味着我们这个宇宙本身就是数学的，我们都置身于被设计好的数学中，「真理」不过是在等着我们去发现而已，如果将来科学家揭开数学的最后一块面纱，又会发现什么呢？

作者回复：宇宙基于数学，这只是一种声音。数学背后的纱就是逻辑推理，这是一个完全抽象也完全正确的东西。

#### 06

每次选择「概率分布模型」的时候都是随机选择吗？或者都是先选几个常见的来测试吗？有没有几个或一些指标来少这个过程呢？

作者回复：先分析特征，看看这件事儿有没有我们已有的分布模型身上的特质，比如正态分布的稳定性、幂律分布的无标度，指数分布的无记忆等等。再使用数据，看看这个分布是否可以符合现实的数据情況。如果吻合，就先假设这件事儿服从这个分布，再不断验证。

#### 07

如果穿越回民国，大概率还是一个普通的底层老百姓，毕竟拉车的人占比更大，而天占比很少。今天这节课说到，还有许多现象，目前找不到合适得概率模型来描述，那数学家们怎么一般都是怎么探寻这些模型的呢？利用大量的真实数据，用计算机模拟计算出来，这样的思路是否可行？

作者回复：1）找特征，去匹配有这个特征的分布，所以学习所有分布，首先要了解这个分布的特征，比如正态分布的稳定，指数分布的无记忆，幂律分布的无标度，等等。2）找不到特征，就猜测是正态分布，在找数据去验证，如果吻合，就谨慎小心地说，这件事儿服某某分布。3）持续关注异常。

#### 08

请教一个问题，假设大输液产品的无菌保证值 F0 => 8 是无菌输液药品生产的最低标准，即灭菌工艺需要保证灭菌后输液中能存活的活菌数比灭菌前下降 8 个数量级，即亿分之一，再假设 2019 年中国生产的输液数是在 11 瓶 / 袋这个水平上，请问我们应该怎么理解这个灭菌概率在现实中的意义？1）每一瓶输液灭菌是否成功，是一个独立事件，在 110 亿瓶 / 袋总产量中，有 110 瓶灭菌不彻底是完全正常的概率事件？ 2）在灭菌过程中，每一个活菌灭菌是否成功是一个独立事件，即使是无菌保证值 F0=8，完全正常的灭菌工艺，每细菌都有亿分之一的概率存活下来，所以无菌保证水平亿分之一看起来很严格，但ー旦基数放大到一个惊人的量级之后（例如全世界生产的总输液瓶 / 袋数，例如全世界生产的所有输液中灭菌前的总活菌数等）定量的灭菌失败仍然是可能发生的一个正常事件，即使所有工艺和质量保证工作都已经做到位？

作者回复：我没太看得懂，但是我大概理解你的意思。1）小概率事件几乎必定发生（足够的时间足够的次数），一定会有不符合标准的输液产品，数量取決于杀菌成功率和整体产量。2）一般来说，杀菌符合不符合标准，这不是独立事件，往往是一个批次，或者连续的一批。你发现每次召回也好，公告也好，都是按照批次的。

## 0302. 正态分布：最简单却最重要的概率分布

上一讲，我们从整体上理解了概率分布，知道了概率分布模型是对现实规律的抽象总结。从这一讲开始，我们就深入学习几个典型的概率分布模型。

概率分布模型有几十种，从哪一个讲起呢？你去问任何一个概率老师，得到的答案肯定只有一个 —— 正态分布。原因很简单，正态分布是概率分布中最重要的分布。在数学家眼里，它是远远高于其他分布的。这一讲，我们就先了解一下正态分布的数学性质和应用；下一讲，再看看正态分布到底有多重要。

### 2.1 正态分布的发现

要讲正态分布，我们得从天文学史上的一桩公案说起。1801 年初，一个神秘的天体出现在天文学家的视野中，几周之后又神秘消失。它是什么？又去了哪儿？没人知道。正在所有人都束手无策之时，「数学王子」高斯站了出来，他用一支笔计算出了这个天体的运行轨道。果然，在高斯指定的位置，人们重新发现了它。这就是人类发现的第一颗矮行星 —— 谷神星。

你可能好奇，高斯是怎么计算出这颗天体的运行轨道的呢？很简单，他在计算的过程中使用了正态分布。没有正态分布，人类束手无策；有了正态分布，竟然能精准计算一颗遥远的天体的位置。你说正态分布厉害不厉害？而且从此以后，正态分布就席卷一切，不仅推动了数学、统计学、物理学、工程学等众多领域的发展，而且还有很多其他的分布，比如说对数正态分布、T 分布、F 分布都是直接由正态分布推导出来的。

「正态分布」这个词，听上去挺复杂的，但它的英文表达就简单多了，叫 normal distribution，直接翻译过来就是「正常的分布」「一般的分布」。咱们国家台湾的教科书通常叫它「常态分布」。其它分布都是特殊的，只有正态分布是一般的、正常的。从名字上，我们也能感受到它的重要性。

作为数学史上数一数二的人物，高斯的伟大发现不胜枚举。甚至有人说，在高斯所在的那个时代，几乎所有伟大的数学成就都是高斯最先发现的。所以，高斯并不觉得自己发现正态分布是多了不起的事情，他的墓志铭上，刻的也是他的正十七边形，而没有提正态分布的事。但后人不这么认为，德国为了纪念高斯，就在 10 马克的钞票上印上了高斯的头像，而在头像旁边的，就是正态分布的钟形曲线。

### 2.2 正态分布的三个数学特性

有趣的是，正态分布不仅非常重要，而且还特别简单。说起正态分布曲线，你肯定见到过 —— 一条对称的倒钟形曲线，中间很高，两边下降，像个鼓起的小山包。这条曲线究竟是什么意思呢？下面我带着你简单了解一下，以后你就能看懂它了。

在正态分布的曲线图里，横坐标代表随机变量的取值范围，越往右，随机变量的值就越大；纵坐标，则代表概率的大小，最底下的概率是 0，越往上概率越大。这样，从曲线上随便找一点，确定它的横坐标、纵坐标，我们就知道了这个值出现的概率是多少。因为这条曲线是左右对称的，所以中间的最高点，就代表平均值出现的概率最大，数据最多；而两边陡峭下降，就意味着越靠近平均值，数据越多；越远离平均值，数据就越少。当然，我们不能停留在这种粗糙的描述上，要理解正态分布，必须了解它的三个数学性质。

性质一：均值就是期望。也就是说，正态分布曲线中间最高点的横坐标，不仅代表随机变量的平均值，而且还等于它的数学期望。这是经过数学证明的，你不用太纠结。在概率论中，正态分布的均值和期望就是一个意思，是一件事儿的两种表达。

这就很有意思了。我们前面讲过，数学期望代表长期价值，而现在平均值又是数学期望。也就是说，在正态分布中，平均值就代表随机事件的价值。为什么我们会用高考的平均成绩，衡量一所高中的教学质量？为什么我们会用平均收益率，衡量一家基金公司的好坏？原因很简单，高考成绩和基金公司的收益，是服从正态分布的。而在正态分布中，平均值就代表这个随机事件的价值。但提醒你一下，在正态分布里，平均值才具有这样的意义。如果不是正态分布，均值可能就没啥意义了。比如说地震，谁也没听说过平均强度和平均损失这样的说法吧？

性质二：极端值很少。还记得正态分布的图吗？越靠近平均值，这条曲线越高，出现的概率越大；越远离平均值，这条曲线就越低，出现的概率就越小。这就说明，正态分布的大多数数据都集中在平均值附近，极端值很少。

「极端值很少」这句话，有两层含义：一是极端值出现的概率很低，二是极端值对均值的影响很小。也因此，正态分布是非常稳定的。拿人的身高来说吧，它大体服从正态分布，所以即使姚明加入我们课程，我们的平均身高也不会有太大变化。当然，如果不服从正态分布，均值往往就很不稳定。

性质三：标准差决定胖瘦。如果留心你会发现，同样是正态分布图，有的曲线要矮胖一些，有的要高瘦一点，这是为什么呢？其实就是因为标准差不同。前面讲过，标准差就是方差的平方根，也能用来描述随机变量的波动情况。在正态分布中，标准差越大，数据的波动越剧烈，钟形曲线就越矮胖；标准差越小，数据越集中，钟形曲线就越高瘦。

为什么刚才说正态分布简单？就是因为在正态分布中，平均值等于期望，决定这条曲线的最高点；方差决定胖瘦，决定曲线的弯曲度。简单两个数据，就确定了这条曲线的形状。你说简单不简单？

### 2.3 正态分布的现实应用

日常生活中，正态分布的应用随处可见。当你打开电脑时，某产品会告诉你，「你的开机时间 23 秒，打败了全国 97% 的用户」。「23 秒」你可能没概念，但「打败了全国 97% 的用户」一下子就让会你明白快还是慢。不过你有没有想过，这个 97% 是怎么来的？是要把全国每台电脑的开机时间都收集起来，做个排序吗？这太复杂了吧？

其实不是这样的。他们只是构建了一个正态分布的模型而已。我们知道，大部分电脑的开机速度都差不多，只有小部分快一点或慢一点，可以认为它服从正态分布。而刚才说了，正态分布很简单，只要均值和标准差两个数据就能完全确定。所以，只要随机抽取一部分用户的开机数据，算出均值和标准差，就可以确定一条正态分布曲线。

而在正态分布中，一个标准差覆盖 68.26% 的数据，两个标准差覆盖 95.44% 的数据…… 都是一一对应、完全确定的。有了这层关系，当你的电脑开机的时候，它只需要比较你的开机时间和均值的差距，就能知道你距离均值多少个标准差，也就知道你的排名了。

正态分布，为我们提供了一个估算个体在整体中位置的便捷方法。像智商、身高、考试成绩，只要服从正态分布，我们就都能这样快速得到答案。

一个正态分布可以分析，不同的正态分布曲线能比较吗？也能的。

第一，只有均值不同，能比较好坏。比如两条生产线制造的产品，标准差一致，怎么比较呢？当然是平均合格率越高，品控做得越好。前面说了，正态分布里均值等于期望，就代表长期价值。

第二，只有标准差不同，能比较波动。最典型的就是男女智商了。两条曲线在均值上相似，但是男性的智商曲线要矮胖一些，女性的高瘦一点。换句话说，均值相同，标准差不同。这说明什么呢？前面说过，标准差代表波动程度，代表极端数据出现的概率。所以这就是说，从整体上看，男女智商没有高低之分，男性并不比女性更聪明；但男性的智商波动更大 —— 在智商超群的人中间，男性的数量要多于女性；当然，智商堪忧的人中间，男性也同样更多。

第三，标准差和均值都不同，能比较专业和业余。比如个人的射击成绩，都是在平均成绩上下波动，基本服从正态分布。如果我和射击冠军许海峰比赛，结果你能想象 —— 我的成绩肯定变化极大，有时候蒙中 10 环，有时候脱靶，大多数可能都是 3、4 环；而许海峰肯定特别稳定，基本都是 10 环。均值上，他更高，成绩更好；标准差上，他更小，成绩更稳定。这就说明，许海峰比我专业得多。

其他人总是用「刻意练习」「精准」等来评价专业和业余，但在数学家看来，这些词都太模糊。真正精确的标准只有两个 —— 均值和标准差。专业就是均值更高，标准差更小，业余恰恰相反。

### 黑板墙

思考题：为什么国家一公布居民收入数据，就有很多人说自己被平均了，甚至怀疑数据有问题呢？你能用这一讲的知识分析一下吗？

下节预告：前面我一直谨慎的说「正态分布是重要的分布」，但这一讲最后，我一定要说 —— 正态分布是概率分布中的神。为什么这么说呢？下一讲讲中心极限定理的时候我来告诉你。

#### 01

刘润老师的公众号中有这样一段话：「2010 年，全球最有钱的 388 人，他们拥有的财富，相当于全球一半贫穷人口拥有的财富总和；2014 年，这个数字是 85 人，2015 年，62 人。2017 年，只有 8 个人。也就是说，一辆商务车，就能装下全球一半穷人口的财富。」从趋势上看，收入分配的差距越来越大，居民收入水平已经不符合正态分布，所以，当公布收入数据时，很多人会有被平均的感觉。满足正态分布关键要求有两个：「相加」和「独立」凡是多个独立随机变量相加的事件，结果就会是正态分布。而对于个体收入水平这个随机变量来说，它们并不是相互独立的，相互模仿而且密切合作，这就造成了「富者越富，穷者越穷」的局面，更像是幂律分布。

作者回复：相加 + 独立，等于正态分布。

#### 02

受多种因素影响，没有任何一种因素起決定性作用的情，才会形成正态分布，比如人群的身高。但是我们设想一种情况，如果科学家研制出一种生长激素，能显著提高人的身高，但是价格比较昂贵，那么几十年之后，人群的身高状况就不再是正态分布了。同样的道理，人们的收入状况是不是体现出正态分布，或者说是不是必然呈现幂律分布，一方面要看经济资源的分配是否平均，比如古代王朝到中后期都会存在严重的土地兼并现象，而土地是最重要的生产要素，那收入状况肯定不会是正态分布。另一方面就是要看生产要素当中，有没有一种因素显著的影响经済发展水平，而这种因素又不是所有人能掌握的，它有定的门槛。比如随着人工智能的不断发展，只有极少数人能够掌握这项技术，这样的话少数人就有可能获取绝大多数的社会财富。

作者回复：那我们怎么应该怎么去描述收入、财富这种不是正态分布中的「均值」或者「大多数」呢？而真实表现现实的特征呢？数据都是任人打扮的花姑娘。

#### 03

开机时间是一个被制造出来的结果，虽然有一定的理论依据，但依然会存在和现实的出入，娱乐足矣。而当下社会的发展，平均逐渐被终结，所以在现实中运用的时候要注意个体之间的差异和不同。关于男女智商的表述，哈佛校长曾因此而引咎辞职，一来提醒我们尽可能精确完整的表述，二来注意观众和表达的契合，来意识到世界正在变成一个高耦合的复杂系统。谨言慎行对于聚光灯下的人特别重要，尤其是网络还会放大恶意解读等阴暗面。

作者回复：提到这一点，就是为了帮哈佛校长说两句。我们现在太追求「有没有用」的问题，而不再去讨论「是不是对」的问题。

#### 04

在真实世界中，一个有趣的现象是，我们对于成功概率很小的事件，往往非常喜欢冒险，比如说很多人明知道买彩票中大奖的概率很低，仍然乐此不疲。相反，对于很多大概率事件，或者说高风险事件，却往往视而不见，比如说买卖股票的风险很高，但依然有很多人喜欢盲目的追涨杀跌，结果损失惨重。理解了正态分布的含义，就能够帮助我们更好的认识风险，去选择做那些成功概率更高的事情。当然，无论我们做任何事情，都会受到随机性的影响，或者说都会存在一定的风险，这个时候，我们就要学会抓住事情的重点和主要矛盾。正态分布曲线就非常清晰的展示了重点，也就是一个标准差或者两个标准差的主体区间。由于我们每个人的时间和精力都是有效的，出于效率和风险之间的平衡考虑，我们更应该把握住重点，也就是在正态分布曲线中占据 68% 或者是 95% 置信度的那些事情。比如说相比于投资股票的高风险和高不确定性，投资指数基金就是有更大概率获得稳定收益的投资工具；虽然投资指数基金也有风险，但只要经済是一直向上的，那么总体上来看就是置信度更高的事情，也有更大概率获得不错的收益。所以，理解了正态分布，也就是真正理解了什么是大概率事件，未来的行动也就有了明确的目标和方向。

#### 05

在《巨人的工具》这本书中，亚当斯说，如果你想取得出类拔萃的成就，你大概有两个选择。第一个选择是你把自己的某个技能练到全世界最好。这个非常困难，极少人能做到。这就是正态分布決定的，极差和极好的人是很少的，都是处于中状态。所以你还有第二个选择是，你可以选择两项技能，把每一项技能都练到世界前 25% 的水平，这就比较容易。同时拥有两个能排在前 25% 的技能的人，其实是很少的，而如果你能把这两个技能结合起来去做一件事，你就可能取得了不起的成就。这是了解了正态分布之后的一个应用。

亚当斯自己就是这么做的。他不是世界上画画技能最好的，但是他的画画技能能达到前 25% 的水平。他写笑话的技能也不是全世界最好的，但是他写笑话的技能也能达到前 25% 的水平。现在他把这两项技能结合到一起，画「呆伯特漫画」，能做到这一点的人就太少了。所以他能世界闻名。

#### 06

正态分布也叫高斯分布，常态分布，是概率统计中，第一重要的分布。正态分布有两个参数決定，一个是均值，也叫位置参数，決定分布的中心位置，另一个是标准差，也叫尺度参数，決定钟形曲线的矮胖高瘦。一个受大量的独立因素影响而每个因素都不起主导运用的随机变量往往服从正态分布。正态分布的例子有测量误差，城市的用电量，学生的学习成绩，某地的农作物变量等。

还有一类重要的分布是幂律分布，也叫ニ八定律。人类社会中财富、流量、视频点击量等等与分配有关的量往往服从幂律分布。互联网时代互动连接的增加和市场经济的发展使得从正态分布逐渐转向幂律分布。在这个过程中，头部效应越来越严重。如果不能识别一个系的头部，仅凭个人努力，会越来越追不上这个时代，穷人会越来越穷。

在高斯分布生效的领域，平均值可以代表整体。但是在幂律法则统治的领域，平均值毫无意义。高斯分布和幂律分布的典型代表是分别身高和财富，把姚明放到 100 个人中，并不会显著改变平均身高，但把比尔·盖茨放到 100 个人中，就会极大改变平均财富。该平均的时候平均，不平均的时候努力成为头部。

## 0303. 中心极限定理：正态分布是概率分布的神

在上一讲最后，我说「正态分布是概率分布的神」。可能你会好奇，为什么会这么说？概率分布那么多，为什么说正态分布是神呢？这一讲，我就来解释一下。说一个东西是神，它至少得有三个特性：第一，合法性，有东西证明你合法；第二，正统性，作为参照系能对所有事情施加影响；第三，主宰性，代表这个世界的底色和归宿。巧合的是，这三个特性正态分布都有。下面咱们就分别展开说说。

### 3.1 合法性：中心极限定理提供保证

要说一个东西合法，就得有东西给它提供证明。对于一个政府来说，这个证明可能是宪法；对于一个人来说，这个证明可能是各种证件；而在数学领域，合法性来自于严格的数学证明。只有被证明了，数学家才会说这个东西是合法的。

正态分布有数学证明吗？有的。它就是我们标题里说的「中心极限定理」。中心极限定理的表达方式有好几种，但核心的数学性质只有一条 —— 大量独立的随机变量相加，无论各个随机变量的分布是怎样的，它们相加的结果必定会趋向于正态分布。换句话说，正态分布是必然产生的。而这个证明源于严格的数学推导，是一定正确的。所以我们可以说，正态分布的合法性，是 100% 正确的，是牢不可破的。

中心极限定理是怎么来的呢？是谁天才的证明了它呢？这得回到上一讲讲到的高斯用正态分发现谷神星的故事。1801 年 1 月，天文学家发现一颗从未见过的天体在天空中缓缓移动。6 个星期后，它又消失得无影无踪。现在我们知道它就是谷神星，但在当时，天文学家们是很懵的。仅仅依靠这六周的观测数据，根本没法锁定它的轨道。最直接的困难就是，观测数据太少了。6 周看起来很长，但只占谷神星公转周期的 2%，根本没法靠这 2% 的数据确定轨道。

不过这还是次要的。更重要的问题是，我们在观测的时候会有各种各样的误差，仪器有误差、肉眼有误差、数据记录有误差…… 如果不能找到误差的规律，这些误差叠加到一起，就可能会让预测偏差非常大。所以这件事的关键就变成了，寻找这些各种各样的误差中存在的规律。虽然科学家们知道，误差都有正常范围，同一种误差，特别大和特别小的概率都很低。但不同类型的误差叠加起来是什么样，科学家一直不清楚。大数学家拉普拉斯也是卡在了这个问题上。

高斯是怎么解决的呢？首先，他做了个大胆的猜测，假设误差分布的最大可能性就等于这些误差的平均值。然后，再想办法找满足这个假设的函数。结果意想不到的事情发生了，恰好满足这个假设的函数只有一个，就是我们现在看到的正态分布公式。高斯就是基于这个正态分布公式，算出了谷神星的位置，名声大震。

坦白地讲，高斯这个推导过程逻辑上是有些问题的。首先，他假设误差的最大可能性恰好等于平均值，推导出了正态分布公式；接下来，他又用正态分布公式计算出，误差的最大可能性恰好等于平均值，然后才有后面的计算。这多少有点循环论证的意思。所以很多科学家说，高斯是猜到了上帝的意图。注意，是「猜到了」。

而我们这一讲的主角 —— 数学家拉普拉斯，看到高斯的正态分布公式后豁然开朗，最终用严谨的数学推导出了中心极限定理。也就是说，不仅证明了正态分布产生的方式，还揭示了正态分布普遍存在的原因。换句话说，中心极限定理是因，正态分布是果。因为中心极限定理存在，所以正态分布才必然正确。

打个比方，高斯提出的正态分布公式像喜马拉雅山，而拉普拉斯的中心极限定理就像青藏高原。没有青藏高原这个坚实的基础，喜马拉雅山可能只是一条普通的山脉；有了青藏高原，它一跃成为全球最高耸的山脉。因为中心极限定理如此重要，所以它和大数定律一起，被称为概率论的两大「黄金定理」。

合法性，是神之为神的基础。中心极限定理就为正态分布提供了严格的合法性保证。由于这个保证来自于数学证明，所以说是无懈可击的。

2『中心极限定理，做一张主题卡片。（2021-02-14）』——已完成

### 3.2 正统性：正态分布是所有分布的参照系

之所以说正态分布是概率分布的神，还有第二个原因 —— 正统性，它建立了一套稳定的秩序，就像参照系一样，对所有的事物施加影响。在统计学中，当我们不知道某个随机事件服从什么分布的时候，最常见的方法就是假设它服从正态分布，然后再用数据验证。

为什么要假设它服从正态分布呢？一方面，是由于正态分布非常常见，所以假设一个随机事件服从正态分布，比假设其他分布的成功率更高。另一方面，是因为正态分布能像神一样，给我们指明分析的方向。

比如，如果我们验证后发现，这个随机事件不服从正态分布，那它就一定不满足正态分布背后的中心极限定理。而不满足中心极限定理，我们就能知道 —— 要么是它的影响因素不够多，要么是各种影响因素不相互独立，要么是某种影响因素的影响力太大等等…… 这时候，接下来的研究也就有了明确的方向。

你看，正态分布就像一个标准、一个参照系，服从正态分布，可以直接用它分析；不服从正态分布，也避免不了跟它比较，并且沿着它为人类指明的方向继续探索。这种正统性，是不是很有神的气质？

### 3.3 主宰性：正态分布是世界的宿命

当然，要成为神，只有合法性和正统性还是不够的，还得具备第三个性质 —— 主宰性，得有能力主宰世界。而在数学家们看来，正态分布确实是世界的主宰。为啥这么说呢？可以从三个层次来看。

第一，正态分布普遍存在。中心极限定理告诉我们，只要随机事件有很多独立的因素共同作用，无论每个因素本身是什么分布，这个随机事件最终都会形成正态分布。所以说，正态分布具有普遍的意义。

世界上为什么会有这么多正态分布？就是因为很多事情都是多个随机因素共同作用的结果。比如，影响人身高的因素很多，营养、遗传、环境、族裔、性别等都有影响，这些因素的综合效果就使人的身高服从正态分布。影响考试成绩的因素也很多，自身的能力、家庭教育、智商、专注力，甚至考前的情绪、身体状况等也都有影响，但当这些因素加在一起，考试成绩就服从正态分布。

第二，所有分布最终都会变成正态分布。因为任何分布叠加最终都会形成正态分布，所以无论是对数分布还是幂律分布，无论是指数分布还是其他任何分布，只要自身不断演化，不断自己叠加自己，最终也一样会变成正态分布。或许我们可以这么说，所有的分布，不是正态分布，就是在变成正态分布的路上。

当然，现实世界里，影响一个随机事件的各种因素，不可能完全是理想状态下的相互独立，而是相互交缠、互相影响的，所以一切都还在演化的路上，所以我们身边依然存在各种各样的其他分布。正态分布很普遍，所有的分布都会变成正态分布，这已经表明正态分布的主宰性了吧？不。更重要的理由是 ——

第三，正态分布是世界的宿命。在中心极限定理之后，信息论领域发现了「熵最大原理」。也就是说，在一个孤立系统中，熵总是在不断增大。而巧合的是，正态分布就是所有已知均值和方差的分布中，信息熵最大的一种分布。如果熵不断增长是孤立系统确定的演化方向，那熵的最大化，也就是正态分布，就是孤立系统演化的必然结果。也许，正态分布就是被上帝选择出来的，就像光选择最短的路径传播、引力场物体沿测地线运动一样，没有什么道理可言。按照正态分布的钟形曲线分布和演化，就是每个随机事件的必然宿命，好像冥冥中自有定数。

2『正态分布就是所有已知均值和方差的分布中，信息熵最大的一种分布。做一张任意卡片。（2021-02-14）』——已完成

这正是正态分布的奇妙之处。很多看似随机的事件，竟然都服从一个如此简单的分布；而任何复杂的分布，最终也都会变成正态分布。就像是上帝的有意安排，主宰着一切，让你在纷繁复杂的世界背后，看到隐隐的秩序和最终的未来。

### 黑板墙

思考题：在生活里，你还发现哪些事情是服从正态分布的呢？它们是被哪些随机因素影响的呢？

下节预告：说完了正态分布和中心极限定理，知道了正态分布是概率分布的神。下一讲，我们讲个魔鬼的故事 —— 幂律分布。

#### 01

回忆自己研究生面试题之二：1）当场证明大数定律；2）当场证明中心极限定理。好像推导证明完成了，就没有然后了，那些定理只是以数学符号存在于脑子里。后来在应用研究中用的多了，慢慢对一些看似抽象的数学定理有了在现实层面上的理解。但还是做不到，用如此简洁而略带诗意的方式讲述一个数学定理。「中心极限定理是因，正态分布是果。」「无论是对数分布还是幂律分布，无论是指数分布还是其他任何分布，只要自身不断演化，不断自己加自己，最终也样会成正态分布。所有的分布，不是正态分布，就是在变成正态分布的路上。」大按照正态分布的钟形曲线分布和演化，就是每个随机事件的必然宿命，好像冥冥中自有定数。

作者回复：数学虽然是一种思想体操，但它的目的还是为了解決现实问题的。当我们知道一个公式是为了解決什么问题的，使用什么思路解決问题的，我们和数学、数学公式之间的鸿沟就慢慢填平了，一切就水到渠成了。证明大数定律和中心极限定理是每个数学专业学生的基本功。我们都干过。

#### 02

伽利略将宇宙比喻成一本用数学需要撰写的伟大之书。泰格马克说宇宙就是数学，即我们的外部物理实在是一个数学结构。世界是由因果法则和命运法则和共同決定的。世界具有概率性。比如热门的量子力学不能预测实验结果，只能预测不同结果出现的概率。中心极限定理是因，正态分布是果。普通人发现结果，优秀的人寻找原因，伟大人物研究思维方式和游戏规则。普通人想改变结果，优秀的人想改变原因，而杰出的人想改变思维方式和游戏规则。

作者回复：不管世界是不是数学的，至少数学能给几乎所有的事情提供一个不会错的底层原理。

#### 03

正是由于正态分布是很多演化的最终结果，所以它是一种相对稳定的状态。之前我们一直设想，社会治理的稳态是中间大，两头小的橄棪形结构，这其实就是一种正态分布的图景。以中产阶层为主导，富裕阶层和贫困阶层为辅的形式。不过这毕竟是理想的治理结构，现实中由于财富的代际传承，个人接受教育状况，先天条件，资本增值速度逐漸超过劳动力本身的增值速度等各种因素叠加，实际上的阶层分布可能更趋向于幂律分布，而政府的社会治理措施从数学上看，其实就是努力推进社会阶层的正态分布。不过，公平治理问题属于全球所有国家的难题，永远处于自然演化与人为治理间的博弈之中，凡有政策，必有对策。换个思路看，如果完全实现了正态分布，没有幂律分布，是不是也不利于社会进取意识的培养呢？个人观点，请老师指正。

作者回复：欢迎等下一讲幂律分布

#### 04

说不上为什么，就是觉得这一期很符合吴军老师说的数学很美，这个世界很美。

作者回复：数学的美不是一件摆在精致的案几上艺术品的美，而是，应用之美，是你手上的工具之美。想想，掌握简单的三角学就能站在原地估测远处物体的距离和尺寸。想想，用一个简单的双盲试验，就能尽可能地剔除掉随机因素。数学是为解決实际问题而生的。而用数学找到一个精巧的，却直指本质的方法，就像在一片混沌中，拉一下那根带着金色环的绳子，这个世界立刻就变得清澈明晰了。那个金色的环，就是数学。它解決问题和解释问题时的那种美是令人窒息的！

1-3『用一个简单的双盲试验，就能尽可能地剔除掉随机因素。此时此刻贯穿了费歇尔的洞见：随机消除未知的影响因素。他做农田实验室提出的洞见，信息源自书籍「2018099女士品茶」。（2021-02-14）』

#### 05

或许我们可以这样说，一个孤立系统如果还没有近似服从于正态分布的状态，那就说明它还没有发展到最后的阶段，它依然处于不断的调整和变化之中，它还不是一个稳定的系统。当然，正态分布虽然是终极状态，但是这并不表明对于任何事情来说，它是一个完美状态。例如，对于一个创新型组织来说，大家的意见趋于正态分布，可能说明组织在走向僵化。因此，某些情况下，如果我们想避免让随机事件呈现出正态分布的状态，我们要让组织保持流动性、开放性和多样性，我们需要从外界吸收养料。问渠哪得清如许，为有源头活水来。

#### 06

润总在五分钟商学院曾经说到一个案例，不同的行业满足不同的分布类型：餐佽行业是正态分布，互联网行业是幂率分布。餐饮业到今天为止，都没有一家公司可以占据全国 5% 以上的市场份额，比如著名的肯德基，海底捞，在全国餐饮市场的份额都不高。但互联网行业，腾讯公司就可以占据即时通信领域几乎所有的市场份额，阿里在电商领域也超过半壁江山。这是因为，餐业的「边际交付时间」不为零。「边际交付时间」就是我给你做饭时，就不能给他做饭。我每做一顿饭的时间，是刚性的。我做得再好吃，一天最多做 3~5 顿，服务不过来的客人，只能让给别人。「边际交付时间」越高的行业，越是分散市场，符合正态分布：赚大钱的人少，亏大钱的也少，大部分人都趋向赚取平均利。而互联网行业的「边际交付时间」为零，由于「网络效应」，领先者一旦过了引爆点，就会家通吃，产生垄断。互联网行业，注定是头部市场，符合幂律分布：不管曾经百团大战、千团大战，最后都会趋向集中在少数几家手中。

#### 07

看巴拉巴西写的《链接》，他在说到网络特征的时候，说到幂律分布。然后，我隐约觉得所有呈幂律分布的事件中有「意识」的参与。我不知道怎么来准确地描述这种东西，一种 intention，目的，比如为了自己繁淅的效率，一种与随机相反的东西，有一种主导的力量在里面。

听了老师今天的课，我在进一步思考这个问题。如果说，正态分布背后是「随机」在操控（因为随机事件，然后为什么要多独立因素共同作用，其实也就为了保证随机性 一一 没有一种主导力量在控制，大家是差不多的），那与随机不同的就是「有意识地」，所以这也是我为什么会隐约觉得幂律分布体现了一种意识，而非完全随机。

为什么总体常态总趋势是正态分布，我这样理解：1）因为大量独立事件的随机性的累积会沖淡事件中「有意识」的部分，或者说引起「非随机」的因素，就像一勺糖在一杯水中和在大海中。2）事件加会产生类似于波的自干涉效应，抵消了非随机的因素。3）热力学第二定律，封闭系统中，熵是趋于增大的。随机才是世界的常态。

#### 08

老师能讲一下，中值（众数）与均值在统计里面的区别吗？我用中值和中值偏差也可以刻画一个整体呀？为什么还要用匀值与方差呢？

作者回复：平均数是一类工具，它用来刻画「典型」数据，用来寻找群体的典型特征。平均数有很多种，常见的均值（算术平均值）、中位数、众数、几何平均值等等用来刻画不同情況（分布）下的典型。1）正态分布用均值（算术平均值），配合方差，啥你都知道了。2）偏态分布用中位数，有方差的配合方差，无方差的比如幂律分布，就算了你大概明白中间值是多少，可以做比较了，同时中位数和算术平均值的差，还能让你有一点点感性认识，这数据分布有多偏。3）双峰或者多峰的分布，用众数，涨跌比例这种，不得不使用几何平均数，而算术平均值一定大于几何平均值，所以你知道涨 10% 再跌 10% 的结果一定小于涨 10 块钱再跌 10 块钱。等等，说到底，所有的平均数都是一种衡量平均水平的统计工具，问题不一样，工具选择不一样。

## 0304. 幂律分布：给人带来希望的魔鬼

上一讲最后我们说到，正态分布是信息熵最大的一种分布，是所有封闭系统演化的终点，是这个世界的宿命。看上去似乎很美好，但细思极恐。什么叫熵增？就是从有序趋向无序。熵增的终点，是完全死寂、混沌一片的状态。如果这是世界的终点，是不是很绝望？

不过话说回来了，如果这个世界完全被正态分布主宰，就没有人类历史上的伟大故事，也没有你和我在这里学概率论了。所以在正态分布的统治之下，一定还有捣蛋鬼存在，给这个世界增加了一些活力。这一讲，我们就说一个非常厉害的捣蛋鬼 —— 幂律分布。虽然它就像一个魔鬼，却实实在在的带给我们希望。

### 4.1 无标度：幂律分布的数学特征

幂律分布，你可能不太了解，但你肯定听过一个词，叫「二八法则」。比如全社会 80% 的财富集中在 20% 的人手里，一个行业 80% 的市场被 20% 的头部公司占据，一家公司 80% 的生意来自 20% 的重点客户…… 二八法则，其实就是幂律分布最直观的表现。

下面就是一张幂律分布的图 —— 图里横坐标，代表随机变量的取值；纵坐标，代表发生的概率。而幂律分布就是一条向下的曲线，拖着一个长长的尾巴。它的含义也非常明确 —— 在随机变量中，越小的数值，出现的概率越大；越大的数值，出现的概率则越小。虽然幂律分布无处不在，但它的数学特征只有一个，就是无标度，也叫「无尺度」「尺度无关」。不管怎么叫，意思是一致的 —— 在任何观测尺度下，幂律分布都呈现同样的分布特征。

1-2『无标度跟「分形」很相似啊，此时才算理解了什么是无标度，网络科学里看到过这个概念。无标度，做一张术语卡片。（2021-02-14）』

一般的分布都会有个尺度范围，在这个范围内服从这个分布，超过这个尺度可能就不服从这种分布了。而幂律分布没有尺度的限制，不管截取任何一个部分，都仍然呈现幂律分布的特征。比如，图书销量是服从幂律分布的，最畅销那本书的销量在前 10 名销量中占的比例，和前 10 名的销量在前 100 名的销量中占的比例，和前 100 名在前 1000 名的总销量中占的比例，大体都是相同的。

这就是幂律分布唯一的数学特征 —— 无标度。

### 4.2 幂律分布是个无法预测的魔鬼

到这里你可能会好奇，无标度不是挺好的吗？为什么说幂律分布是魔鬼呢？别急。幂律分布魔鬼的一面，主要体现在三个方面。

第一，幂律分布让平均数失去意义。前面说过，正态分布是一种均匀对称分布，大多数数据都集中在平均值附近，所以平均值非常有用，因为它代表大多数。而幂律分布呢？它的数据变化幅度非常大，平均值毫无意义。拿个人收入来说，有一贫如洗的穷人，也有挥金如土的富豪，把这两群人的资产平均，完全没有意义。

小布什总统就曾在竞选演说中玩过这个把戏。他说，2003 年的减税计划让每个美国家庭平均少纳税 1586 美元。从数字上看，这句话没有撒谎，但它有很强的误导性。因为财富服从幂律分布，是高度不对称的。大部分普通家庭收入不高，减税的额度很有限；但小部分收入极高的家庭，可能会获得几万甚至几十万的减税额度，一下就把平均数拉高了。事实上，当年减税的中位数是 650 美元。也就是说，有一半的家庭连 650 美元都没达到，更别提 1500 多美元了。

这就是幂律分布，随机变量波动的范围非常大，常用的平均值、标准差到这里都没用了。如果说正态分布是概率分布的神，构建了一个稳定的秩序；幂律分布就是一个喜怒无常的魔鬼，让已有的秩序和工具全部失效，使一切变得难以捉摸。

第二，幂律分布让原本不会发生的极端事件发生。在数学上，这个叫「长尾」，也叫肥尾、厚尾。简单说就是，虽然极端数据出现的概率很低，但这个概率永远不会趋近于 0，永远不会小到可以忽略不计。这也和正态分布不同。在正态分布里，数据非常集中，非常极端的数据几乎不可能出现，可以直接忽略不不计。而在幂律分布里，再极端的数据都有出现的可能。

我可以用生命打赌，你在街上不可能看到身高超过 5 米的巨人。但一个城市的人口超过 3000 万，一本好书在畅销榜上盘踞 30 年，一个人的资产超过 3000 亿，这些事情虽然可能性很小，但仍然随时可能发生。就像超大规模的自然灾害，虽然发生概率极低，但我们知道它一定会发生。而在幂律分布里，极端数据往往意味着极端事件。而极端事件，比如超大型海啸、超强大地震、席卷全球的金融风暴等，都会给人带来非常大的损失。

正态分布构建的世界非常稳定，只需要考虑常规、考虑大多数就可以。但是幂律分布仿佛拥有一种神奇的魔力，让不可能发生的事情变得可能。它全然不顾人们的预测，也不理会常规，而是悄悄躲在阴暗的角落，不经意间给人类致命一击。你说，它是不是个魔鬼？

第三，幂律分布完全不可预测。听完前两点，你可能会说：虽然幂律分布很可怕，但我们还是可以对它进行科学研究，然后攻克它啊？没错，科学家们确实一直致力于幂律分布的研究。但告诉你一个悲伤的结论，到目前为止，幂律分布还完全无法预测。即便是在简单的模型里，我们也完全无法做出任何有效的预测。

比如著名的「沙堆模型」，在平台上不断添加沙粒，慢慢形成一个沙堆。随着沙堆高度的增加，新添加的沙粒会带动沙堆表面其他沙粒滚落，产生所谓的「沙崩」。统计沙崩的规模和发生的频率，科学家发现它服从幂律分布。

这是一个极其简单的模型实验。所有物理知识我们都掌握，而且能用计算机跟踪每一粒沙子的位置，但仍然找不到沙堆崩塌的原因。我们既不知道在什么条件下，再放一粒沙子就会导致沙崩，也无法预测这粒沙子导致的沙崩规模会有多大。所以到目前，我们对于幂律分布，比如说各种自然灾害，基本还是束手无策。

你可能会说，不是有「二八法则」吗？我们抓重点，抓住重要的 20% 不就好了吗？可能很多人都会这么告诉你，但我想说的是 —— 这是个存量思维，可以总结过去，却对未来没有用。因为虽然我们知道 80% 的生意来自于 20% 的客户，但永远不知道下一个客户是属于重要的 20%，还是不重要的 80%。还是那句话，幂律分布不可预测。

我们知道大灾难影响很大，而且一定会来，却不知道下一场大地震、下一场森林大火、下一场战争、下一次金融危机会什么时候发生，以及会带来多大的损失。我们知道公司市值、电影票房、社会财富的分布极不均匀，却寻找不到方法规避风险。这真是让人绝望。虽然幂律分布是中性的，没有好坏之分，但是站在人类的角度上来说，在一次次的自然灾害面前，我们还是会不由自主的产生一种念头 —— 幂律分布就是个彻彻底底的魔鬼。

### 4.3 可怕的魔鬼带来新希望

虽然幂律分布无法预测，但我们能不能找到它产生的原因呢？找到了产生的原因，不就能避开地震、火山爆发、海啸等自然灾害了吗？道理是这样，但现实可能又要让你失望了。幂律分布产生的原因，目前没有统一的答案。各种解释众说纷纭，谁也说服不了谁。

其中一个比较主流，也是我最喜欢的，是 1982 年诺贝尔物理学奖得主肯尼斯·威尔逊的观点。因为这个研究给人类对抗熵增，对抗世界的宿命，提供了新的希望。威尔逊的研究突破，源于水变成冰这个常见的生活现象。他发现，在水变成冰的过程中，存在一个神奇的临界温度 —— 在临界温度之前，水分子里原子的自旋都是随机指向不同的方向；可一旦到了临界温度，就会非常有序地指向同一个方向。

这是个神奇的事情，为什么在那一瞬间突然就从混乱变成了有序呢？威尔逊收集了很多临界态一瞬间的关键数据，结果发现，每个指标都在临界态附近涌现出了幂律分布。换句话说，在水变成冰，也就是从无序到有序的临界状态上，所有指标都呈现出幂律分布的现象。而我们知道，无序是熵值最大，有序是熵值最小，所以这也就说明，在从无序到有序这个熵减的过程中，幂律分布必然发生。

为什么说这个结论给人带来希望呢？你想，如果这个理论是幂律分布产生的原因，那幂律分布就是我们对抗熵增的必经状态。只要一个生命还存在，一个系统还在演化，它就必然在做熵减的工作，所以出现幂律分布也就不足为奇。这也正好解释了正态分布和幂律分布在生活里都很常见，秒杀其他分布的原因。

所以你看，虽然幂律分布像魔鬼一样狡诈、难以预料，但它可能是我们对抗熵增的必然选择，是每个系统从无序到有序，从混沌到清晰，从未知世界到规律世界的必经之路。幂律分布存在的地方，看似凶险，却恰恰是对抗熵增，对抗死寂，对抗死亡的角斗场，是我们的希望之光。

### 黑板墙

思考题：你能从生活中举个幂律分布的例子，说明幂律分布虽然无法预测，但让这个领域充满活力吗？

下节预告：说完了正态分布和幂律分布，我们下一讲进入泊松分布。

#### 01

幂律分布到底是不是魔鬼，这就要看你在原先稳定的系统中处于何种位置。如果你在正态分布的两端，或者在幂律分布的长尾，那么能拯救你，帮助你鱼翻身的，或许就是下一次爆发的小概率意外事件。很多人一方面感慨阶层固化，一方面追求稳定生活，这个目标首先就可能是矛盾的。既然你想改变，你就不能怕变化，你和那些既得利益者相比，最大的优点就是沉没成本低，除此而外，你拥有的可能全都是劣势。你不可能又想当风口上的猪，又害怕飞起来不能实现软着陆。对于真正对自己有要求的人来说，把握住给你的机会，才能最大化的实现人生理想。只有在幂律分布下，你的付出オ可能得到应有的回报。

作者回复：你的盔甲也是软肋，你的软肋何尝不是你的盔甲？数学没有好坏，只有性质。关键是你怎么看，你怎么做。而看之前的基础，你得了解现实客观，的了解数学。

#### 02

幂律分布的图像看上去和指数分布非常接近，但实际上幂律分布的密度函数是 x 的 a 次幂，其中 a < 0，是一个幂函数，而指数分布的密度函数是指数函数。指数分布的数学期望和方差可以很容易算出来，但幂律分布的数学期望和方差是不存在的！连续型概率分布的数学期望是 x 乘以密度函数然后积分，幂律分布用乘以密度函数后得到的仍然是幂函数，这个幂函数从负无穷积分到正无穷的广义积分是不收敛的，因此幂律分布的数学期望不存在，进而方差也不存在。一般概率教科书里是不讲幂律分布的，但生活中幂律分布还是很常见的。以后在教学中可以进行补充。

作者回复：在自然界与日常生活中，包括地震规模大小的分布、月球表面上月坑直径的分布、行星间碎片大小的分布、太阳耀斑强度的分布、计算机文件大小的分布、战争规模的分布、人类语言中单词频率的分布、大多数国家姓氏的分布、科学家撰写的论文数的分布、论文被引用的次数的分布、网页被点击次数的分布、书籍及唱片的销售册数或张数的分布、每类生物中物种数的分布、甚至电影所获得的奥斯卡奖项数的分布等，都是典型的幂律分布。

#### 03

幂律分布是对抗封闭系统正态分布不断熵增的规律。小时候就跟同学讨论，任何物品在自然界都会被风化然后被这个世界吞没（当时还不懂熵增的概念），但同时世界又在不断的得有序。到底哪个才是世界的终极力量呢。现在觉得这是两种力量的对抗。就像幂律分布对抗正态分布一样。股市赚钱数量就服从幂率分布。极大多数人赚很少钱或亏钱，但长尾的地方有少数人赚走了大部分钱。虽然是这种让人失望的分布，不过就是因为长尾的那些人让所有人充满了幻想，整个市场非常有活力。

作者回复：大概相当于，一定被逼的要结婚了，但在结婚前，报复性地开着各种单身派对，可能各种极端的情都会发生结婚就好比正态分布，是最终宿命，而单身派对就好像在对抗宿命前挣扎的幂律分布。原本相关的或影响很大的随机因素在随机的力量或者叠加的效果长期作用下，慢慢就变成独立、很多普通因素的相加，就变成正态分布了。这就好像年轻人很有棱角、很有独特的性格，也会做极端的事情，但经不住岁月的沧桑，慢慢变成千篇一律的枸杞保温杯的油腻中年人。

#### 04

我怎么觉得幂分布示意图，是从正态分布示意图右半边截取过来的呢。

作者回复：尾巴不一样，正态的尾巴越远，概率下降的越厉害，看图就看出就贴着坐标，就几乎可以认为是 0，而幂律分布在尾部下降的就非常缓慢。也就是极端值出现的概率虽然小，但仍然有不小的概率。更极端的值依旧有不小的几率会出现。

#### 05

不是很理解这一讲的内容，比如说为什么在街上看到身高超过 5 米的巨人，这个不能用幂律分布来体现呢？

作者回复：身高服从正态分布，那么极端值的概率极小，而且越极端，发生概率就会急剧下降，也就不可能出现，平均几亿年几十亿年オ会出现一次的事儿，我们几干年的人类历史的尺度下，你可以认为概率就是 0。而幂律分布却不是这样，极端值虽然概率也很低，但远远比正态分布的极端值概率要大得多，在正态分布中平均几亿年オ会出现一次的事儿，如果是幂律分布可能几年十几年就会出现一次甚至多次。比如金融危机的时候，正态分布估算出的可能是几年オ会出现一次的极端暴跌，却一天出现了好几次。这说明金融市场价格波动不符合正态分布，这种现象称之为肥尾现象。也就是尾巴上的这些原本在正态分布中极小概率事件，他们实际发生的概率可能要比正态分布估算出的概率大一千倍一万倍。

#### 06

今天的课程，了解冥律分布的原理，对于我个人而言，有两点重要的启示：第一，这个世界本身就是不公平的，我们必须坦然面对这一点。很多时候，我们的身边不乏这样的情况，有的人工作非常努力，业务能力突出，待人接物也颇受好评，但是就是一直得不到晋升或者提拔的机会；有的人看上去并不怎么努力，甚至有点夸夸其谈，但是他的背景很好，资源面非常丰富，他就可以凭借现有的资源很容易的取得成功，并且很有可能从一个成功走向下个成功。你可能会说这样很不公平？或许确实不怎么公平，但非常符合冥律分布，也非常符合这个真实世界的运作法则。第二，正是由于冥律分布的存在，我们更要懂得谋事在人、成事在天的道理。英伟达创始人黄仁勋在输掉了和高通的官司后，没有怨天尤人觉得法庭不公平，而是自责自己太在意官司的输贏，以至于晚进入人工智能领域。正是这样的反省和自责，オ让英伟达今天执人工智能芯片的牛耳。同样，我们无论做任何事情，都要尽自己所能把事情做好，剩下的就交给天命来安排；承认天命并不等于认命、放任自流，而是深刻的认识到自己的局限性。世界上有很多事情都非常复杂，都会超出我们有限的认知。我们的努力，解決了成一些维度上的问题，但是依然有很多维度的因素我们没有控制；当然，如果不尽人事，能把握的那些维度也把握不住，自然一事无成。承认天命的作用，我们在做人做事的时候就不会恃才物，而是能够保持一份谦虚谨慎，更能抱有一份对于命运的敬畏之心；也只有这样，我们才能坦然面对人生的种种际遇。

#### 07

我上小学的时候，每个班里几十名同学中，都会有少数的五六人去学习竞赛数学；而每个年级凑起来的这二三十名学竞赛的「优等生」里，真正的「尖子」其实只有三四个；进一步地，把全市的「尖子」们放在一起，他们当中又会有少数人，成为真正的「顶尖」。如果衡量学习数学的「拔尖」程度，那么整个年级的同学，大体上就呈现出幂律分布的特征。这里幂律分布只是结果，其成因则是同学们之间的竟争。每一名学习赛数学的同学都想成为「尖子」，都想加入到顶尖的行列中甚至超过他们。至于哪些人会成为「顶尖」，哪些只是普通的「优等生」，则存在着一定的变数一至少在一批学生刚开始学奥数的时候，我们是猜不出，谁会是最优秀的那一小部分的。这么一个不稳定的体系，就是在竞争中不断进步的，以后就可能会出现一些优秀的数学家；即便不研究数学，在训练中获得的东西比如抽象思维能力，也可以带入其他学科领域，产生帮助。

#### 08

有意思的是，虽然正态分布才是这个宇宙中的绝对主宰，但是作为生命的我们，却是生于幂律分布，而终身追求幂律分布的。生于幂律分布其实在课程中老师已经有所解释了，我们的生命其实是一个熵减的过程，而这个熵减的过程，与幂律分布之间有着必然的联系；而追求幂律分布是什么意思呢？我们每个人都希望自己是有别于其他人的，或者是名声在外，或者是富可敌国，实在不行大权在握也行，你看看，这些我们所追求的，哪一个不是服人幂律分布的変量？成为金字塔尖的极少数人，掌握或者能够影响这个方面里面的最大部分的内容。

不过话说回来，为啥总有人说什么「平平淡淡オ是真」，那是因为，再牛逼的幂律分布，如果我们拉长尺度来看，最终也都会被正态分布给平均掉。生物存在的意义，有可能仅仅只是通过自身对于宇宙能量的消耗，增加整个系统的熵增，帮助宇宙更快的走向热寂而已。哈哈，不过呢，包子哥本人可不信「平平淡淡才是真」这句话的，毕竟，人生在世，虽然大家的结局最终都是死去，但是，如果不能折腾点水花出来，让更多的人受益于我，深深的记住我的话，这一生得有多么的无啊。睡什么睡？起来造作吧！把我们自己的人生，活成幂律分布的那个顶端的值，这才是人间正道！

#### 09

一个最关键的问题没讨论，那就是不同統计分布的条件和边界。在什么条件和情况下，会呈现正态分布？什么条件下，会呈现幂律分布？

作者回复：独立，多个，相加，就是正态分布。这是有中心极限定理约定的。幂律分布肯定是不独立，但不独立未必一定是幂律分布。幂律分布产生的原因没有类似中心极限定理这样的数学理论做支撑。这就好像，离婚的原因是结婚，但结婚不一定导致离婚一样。

#### 10

请问老师，自然界的种群数量是否服从幂律分布，就像某些物种会取得压倒性的优势，有些物种走向灭绝。

作者回复：种群分布我不了解，但你可以对应到姓氏, 很多国家的姓氏服从幂律分布，比如中国前五大，占了 1/3，前 400 占了 99%，而中国出现在文献中的姓氏超过 5000 个。有个问题，国外很多国家的姓其实远比中国多，那是为什么呢？这也可以用一个简单的类似抛硬币的模型解释，姓氏代表家族的情況下，历史时间越长，姓氏的消失就越多。中国的历史很长很长，很多姓氏就消失了，留下来的就比较少。（当然，韩国没那么多姓氏，这有特殊的原因，它初始的总量就太少了，只有金、朴算是韩国本土姓氏）

## 0305. 泊松分布：打开统计推断的大门

这一讲，我们介绍一个非常重要的概率分布 —— 泊松分布。要讲泊松分布，我们从很多城市一到夏天就会遇到的一个舆论痛点说起。很多城市，每当天气预报说明天城区有大暴雨，大家就会非常紧张。因为一遇到大暴雨，城区必定大堵车。为什么大堵车？因为积水排不出去。为什么排不出去？因为下水系统不给力。于是，市民纷纷问市政部门，这是怎么回事呢？市政部门解释说，我们是按照「五十年一遇」的标准建的下水系统。这是非常高的标准。只是暴雨太大了，超过了这个水平。不过不用担心，这样的情况是很少见的。于是大家就不干了，五十年一遇？骗人呢！城区都连着淹了两年了。所以不是你们虚假宣传，就是排水工程是豆腐渣。

现在问题来了，市政部门的解释成立吗？如果你是数学家，该怎么解答这个问题？

### 5.1 泊松分布的公式及意义

首先，我们来定位一下这个问题。「五十年一遇」，转化为数学语言是指，长期来看，这样的大暴雨是平均 50 年发生一次。注意，这里的时空范围是「长期」。长期是多长？很长很长。我这不是玩文字游戏，而是提醒你注意 —— 对长期理解不到位，是概率问题的结果经常反直觉的关键。

平均 50 年发生一次，会不会是每隔 50 年发生一次？有可能，但不一定。我们再设定一种情况，前 4 年每年都发生一次，之后的 196 年一次都没有，200 除以 4，还是 50 年一次，与「五十年一遇」并不冲突。

所以，真正的问题来了：当我们知道了五十年一遇这个长期的整体概率，注意是「长期的概率」，但我们想要知道的是，任何一段具体的、有限的时间内，比如 5 年之内，发生 1 次大暴雨的概率是多少？发生 2 次大暴雨的概率是多少？发生 3 次、4 次…… 任何你想知道的大暴雨的次数，它们的概率分别是多少，这时候这么办呢？

我们把问题再抽象一下，这一类问题其实是 —— 当我们知道了一个随机事件发生的整体概率，也知道这个随机事件发生的概率符合正态分布之后，那么在某一段时间或者空间间隔内，这个随机事件发生的次数的概率分布是什么呢？再说一遍，不是求解整体发生率，而是求发生次数的概率。

概率学家已经有了工具来对付这种问题，这个工具就是泊松分布。为什么是这个怪怪的名字呢？因为这个分布是大数学家泊松发现的，所以叫泊松分布。

我们先来看看泊松分布的公式 —— 

```
P(X=k) = (λ^k/k!)e^(-λ)
```

其中，e 为已知数学常量，k 为事件发生次数，λ 为单位时间内事件的平均发生次数。

对数学语言不熟悉的同学见到这个公式，会本能地心生厌恶，至少是拒绝的。其实，如果搞一个最美数学公式排行榜，泊松分布公式肯定能进前十名。当然，理解数学公式的美，和理解现代艺术的美一样，都需要一点背景知识。泊松分布的公式用语言表达就是：随机事件发生 k 次的概率，等于 lambda 的 k 次方除以 k 的阶乘，再乘以自然底数 e 的负 lambda 次方。

是不是已经晕了？不要着急，多看看上面的公式你就有感觉了。重点是要理解这个公式背后的思想。这里只有 3 个字母 —— 1）自然底数 e：这是数学常量，是已知的；2）k：就是随机事件发生的次数。在大暴雨的案例中，k 可以是 1 次大暴雨、2 次大暴雨、3 次大暴雨等等。3）lambda：是整体概率与要求解问题匹配之后对应的数值，这个数值是跟我们的问题联动变化的。在大暴雨的案例中，整体概率是 50 年 1 次，也就是 1/50。如果我们想知道接下来 50 年这个时间段暴雨次数的概率分布，那 lambda 就是 1。如果想知道 100 年，那 lambda 就是 1/50 乘以 100，相应的就变成了 2。要是想知道 5 年呢？1/50 乘以 5，这个数值就是 0.1。

就按「接下来 50 年」来计算吧，这时候 lambda 取值为 1。

K = 0，就是接下来的 50 年，1 次大暴雨都不发生的概率是多少？代入公式一算，答案是 37%。

K = 1，就是接下来的 50 年，发生 1 次大暴雨的概率是多少？代入公式一算，答案也是 37%。

K = 2，就是接下来的 50 年，发生 2 次大暴雨的概率。代入公式一算，答案是 18%。

其实，我们更关心的是，接下来 50 年发生 2 次和 2 次以上「五十年一遇」的大暴雨的概率是多少。就是用 1 减去发生 0 次的概率和发生 1 次的概率，1 减去 37%，再减去 37%，答案是 26%。也就是说，在「五十年一遇」的整体概率下，在接下来 50 年里发生 2 次或 2 次以上大暴雨的概率是 26%。所以在比较短的时间内发生 2 次这种「五十年一遇」的大暴雨，可能并不是什么小概率事件。仅仅用 2 次大暴雨就否认市政部门的解释，是证据不足的。

2『泊松分布，做一张主题卡片。（2021-02-14）』——已完成

### 5.2 泊松分布的数学性质

通过大暴雨这个案例，我们可以了解泊松分布的两个重要的数学性质。

数学性质一：泊松分布是正态分布的一种微观视角，是正态分布的另一种面具。在大暴雨的案例中，如果我们不断地计算各种时间间隔和大暴雨不同发生次数的概率，把这些画在一起，你就会看到泊松分布的曲线越来越像正态分布。下面这张图清晰地展现了，泊松分布是如何通过参数变化一步一步演化为正态分布的。

数学性质二：泊松分布的间隔是无记忆性的。注意，不是说泊松分布是无记忆的，而是泊松分布的间隔无记忆。什么叫无记忆性呢？就是之前的情况对之后的情况没有影响。所以间隔的无记忆性就是指，前一间隔中随机事件是否发生对后一间隔中随机事件是否发生没有影响。

在城市大暴雨的案例中，如果去年发生了一次大暴雨，那今年发生大暴雨的概率会变成多少呢？按人类的直觉，大暴雨是平均 50 年发生一次，刚刚发生了一次，接下来一年就不会再发生大暴雨了，概率是 0。但是，这个看法是不对的。这又是概率反直觉的一个例子。今年发生了大暴雨与明年的大暴雨，相互没有影响，用概率论的术语就是「相互独立」。

像连续大暴雨这种小概率事件扎堆出现的现象，看起来很反直觉。但现在我们知道，由于泊松分布间隔的无记忆性，所以一定存在一些短间隔和长间隔，而且它们很难一长一短、一长一短这样有规律的出现，而是会混杂着出现，否则就不叫随机了。如果恰好连续遇到短间隔，我们就会感觉这事扎堆出现。你看，其实一点也不稀奇。

### 5.3 打开统计推断的大门

理解了泊松分布的数学性质，我们就可以开启另一个重要的话题了 —— 泊松分布开启了统计推断的大门。

统计推断是什么意思？我们回看一下对大暴雨问题的解决思路。我们要解决的问题是，连续 2 年大暴雨是不是正常的。正常的意思是说，这不是一个小概率事件。如果是正常的，那就不能说城市下水系统的建设有问题。这个问题的困难在哪儿呢？数据太少。我们没有 1000 年的降雨资料，即使有 1000 年的数据，在长期、无限面前也是个渣渣，还是太少。所以要解决这个问题，就得改一个思路。

同样的，比如物理学家要研究放射性物质的半衰期。可是，绝大多数物质衰变期极长，长到我们没法直接测量。比如铋 209 原子的半衰期是 1.9x10 的 19 次方年，如果你盯着一个铋原子，想看到它衰变，可能看到宇宙毁灭都够呛。这时候数据太少了，连一个完整的衰变周期都观测不到。怎么办呢？我们可以假设衰变是服从正态分布的吗？当然可以。但是，连一个完整的衰变周期都看不全，怎么去验证这个假设呢？

用泊松分布解决。找一堆铋 209 原子，统计一下在几个确定的时间间隔中，这堆原子有多少个发生了衰变。只要这个数字服从泊松分布，反过来就证明铋 209 原子的衰变服从正态分布，就可以用正态分布直接计算。利用同样的原理，科学家们成功完成了像 DNA 的突变次数、外太空某个区域内恒星的数量等一系列科学问题的计算，推动了物理学、生物学、天文学等科学领域的发展。

在这些问题的解决中，统计数据和概率论的概率分布就被连在了一起。通过这种连接，我们对这些事情做出了科学的推断。到这里，统计学完成了一次跨越 —— 在泊松分布之前，概率和统计是两个不同的学科。概率研究未发生的随机事件，统计描述已发生的现实。换句话说，那会儿只有描述统计，没有推断统计。泊松分布开启了推断统计的大门，第一次把概率和统计连接在一起，不仅让统计学变得更有力量，也促进了其他科学的发展。

### 黑板墙

思考题：二战时德军轰炸伦敦，如果你是一个数学家，怎么通过分析炸弹落点判断德军是有针对性的轰炸，还是完全没有情报的随机轰炸呢？

#### 01

判断德军是有针对性的轰炸，可以根据炸弹的平均爆炸半径粗略的计算一个轰炸面积，然后以这个面积为单位，把伦敦化成若干个小区域，就像电视屏幕的分辨率一样。之后我们就可以在伦敦地图上，把所有德军投弹的位置标记出来。如果德军是无目的的轰炸，那投弹的位置就是随机的，那就可以在重点区域用泊松分布去计算被轰炸的概率，这个结果应该和实际情况是相符的。

如果重点区域实际被投弹的数量远远多于计算结果，那就说明德军是有目的的轰炸。虽然我没有具体的数据去计算结果，但是我估计最后的结果有可能是反直觉的。问题的关键，就是随机不代表均匀。在我们的直觉中，如果投弹是随机分布的，那就应该是均匀的，比如每个区域的平均投弹数量是 2 个，而某个区域是 4 个，甚至 6 个，我们就会觉得这是不正常的。实际上在较大的样本空间中，这可能是正常的。

作者回复：很可能，发现某些区域炸弹数量很少，有些区域多一些，只要个数是服从泊松分布的，那么整体就正态分布，那就是纯随机。那就没有重点目标。

#### 02

这一讲内容挺有意思的，之前我们还在讨论，我就活了二十多年，遇到的五十年一遇，百年一遇，数百年一遇，千年一遇，几千年一遇的事情太多了。今天老师的课程就告诉我们，整体事件发生概率 ≠ ー定时间发生次数的概率，后者要用泊松分布计算，且具有无记忆性。不过我还是好奇，30 年内同时遇到 50 年一遇，100 年一遇，500 年一遇，1000 年一遇，2000 年一遇的概率是多少？

作者回复：十年一遇，五十年一遇，并不代表他们十年五十年才发生一次，他们很可能发生好几次。发生一次的概率 37%，一次不发生的概率也是 37%，发生 2 次的概率 18%，这要用泊松分布。这让我们能直观理解，1/10，1/100 的概率究竟是什么含义。而好玩的是，如果中国划成 300 个不相关的区域，那么在未来一年中中国发生百年一遇的事情的概率是 95%，几可以说中国每年都有可能遇到一次百年一遇的事儿。所以你在电视里看到今年这儿遇到一个百年一遇的洪水，明年那儿，遇到一个百年一遇的暴雨之类的事情，不用惊讶，百年一遇的事儿每年都会遇到。这背后就是泊松分布。

1-2『这里如何算出来 95% 的没弄明白，需自己算出来。（2021-02-14）』——未完成

#### 03

把伦敦划分成面积相同，形状相同的若干区域，在一次轰炸之后统计每个区域的弹壳数或者轰炸次数，根据轰炸次数统计区域数量，比如弹壳数为 0 的区域有 1 个，弹壳数为 1 的区域有 2 个，弹壳数为 3 的区域有 2 个，以此类推来統计数据，根据这样的数据可以绘制出横坐标为弹壳数，纵坐标为频率的频率分布图，也即通过频率法计算概率，将此曲线和泊松分布进行拟合，如果拟合度高可以视之为随机轰炸。但同时，也应该对多次轰炸行动进行統计，区域与区域也不能看成是同质性的，对区域内轰炸行动进行统计，如果某区域泊松分布参数明显高于其他，或许也可以说明轰炸有针对性。

作者回复：把整个伦敦分成很多格子，看看格子里炸弹的数量，看看这个数量是不是满足泊松分布。

追加提问：「把伦敦分成很多格子，看格子中炸弹的数量，是否符合泊松分布」。但格子的大小是多少呢？我认为格子的大小也会影响最后的判断，这个就要看德国轰炸机的轰炸精度是多少，假如格子面积远远小于轰炸精度，即使是有针对性的轰炸，也会表现出随机性。而格子太大的话，即使是随机轰炸，由于轰炸次数有限，也有可能表现出「有针对性轰炸」的假象不知老师怎么看？

作者回复：简单的说，德军轰炸了 100 次，每次轰炸一个区域。我观测到的现象是有些地方被轰炸了好几次，有些地方没有被轰炸到。我想看看德军是不是有些轰炸是有目的的轰炸，还是整体都是随机的。那么把伦敦分为 100 个区域（平均分格子），那么每个格子被轰炸到的概率就是 1/100，这时候统计被轰炸 1 次，被轰炸 2 次或者多次的区域的个数，看看是不是符合泊松分布，也就是看看没被轰炸到的格子是不是大概 37 个，轰炸到 1 次的格子是不是 37 个，轰炸到 2 次的格子是不是 18 个，等等，如果基本符合泊松分布，那就代表这个区域所有的格子大体上保持着随机性，轰炸就是一个随机的过程，没有特别的「重点目标」。

如果你发现被轰炸到 1 次、2 次、3 次等等的格子的数量异常的少或者异常的多，不服从泊松分布，那就说明有些区域是重点区域，那些被轰炸两三次的目标也许就是德军获知情报的目标。真实计算的时候，划分区域格子的大小、和平均一次空袭轰炸的范围有关系，一个格子要能覆盖一次空袭的范围，然后根据空袭规模大小做一些加权的处理，然后就可以了。

3『

书籍「2021055简单统计学1101.md」里的信息正好提供了数据支撑（2021-02-14）：

随机投掷的炸弹落点也是同样的道理。一些区域会出现炸弹的聚集，另一些区域不会出现炸弹，这是无法避免的事情。英国统计学家 R. D. 克拉克（R. D. Clarke）对南伦敦一个区域的数据进行了分析，这个区域受到了 537 枚炸弹的袭击。他将这个区域分成 576 个一平方公里的正方形，然后统计落在每个正方形里的炸弹数量。接着，他将炸弹分布与 537 枚炸弹随机降落在南伦敦时的分布期望进行了比较。表 11.1 显示了他的发现。

表 11.1 随机降落的炸弹

| 正方形里的炸弹数量 | 正方形里的预期数量 | 正方形里的实际数量 |
| --- | --- | --- |
| 0 | 227 | 229 |
| 1 | 211 | 211 |
| 2 | 98 | 93 |
| 3 | 31 | 35 |
| 4 | 7 | 7 |
| 5 及以上 | 2 | 1 |
| 总计 | 576 | 576 |

如果炸弹是随机降落的，预计将会有 227 个正方形不会受到炸弹袭击。实际上，229 个正方形躲过了攻击。类似地，我们预计 211 个正方形拥有一枚炸弹；实际上，221 个正方形拥有一枚炸弹。总体而言，观测到的分布与随机轰炸的预期结果非常类似。在随机轰炸的情况下，实际差异和观测到的差异一样大甚至更大的可能性是 95%。这些观测到的炸弹聚集绝对没有任何意义。它们与炸弹随机降落时的预期相符。即使是完全随机的数据也会出现数据聚集现象，因此我们没有必要根据这种现象徒劳地寻找异想天开的解释。遗憾的是，人们很难抗拒「每一种模式一定有原因」这一想法的诱惑。

』

#### 04

柏松分布有一个命门，就是假设历史概率是不变的。在暴雨这个例子里面，假设环保主义者说的是真的，因为人类对地球的破坏导致暴雨发生的概率更加频繁了，请问老师这个时候是不是应该把原有的 50 年一遇的概率乘以当前时间段人类对环境影响平均系数再带入泊松公式计算发生的次数呢？

作者回复：是的，松分布是不准确的，50 年一遇我在知识城邦中解释了来源，这很可能就是短时间阶段的数据进行拟合的结果，可能非常不准确，所以理论上，会有一个偏差幅度。对于大雨、地震、海啸等等，我们其实一直在调整 50 年一遇，100 年一遇的具体标准的数值。

#### 05

将伦敦均匀划分为多个小格子，然后统计每个小格子被轰炸的次数，然后看是否符合泊松分布，如果符合，那就是没有针对性的随机轰炸。今天课程中的大暴雨案例，泊松分布的曲线越来越像正态分布，那这两种分布是不是有内在的联系呢？

作者回复：泊松分布是从正态分布中推导出来的。

正态分布宏观视角，泊松分布微观视角。

正态分布面向无限，泊松分布面向有限。

正态分布处理整体，泊松分布处理局部。

两个分布就像在两端，相互验证，相互描述。这也是我为什么不选择教科书上经常选择的一些分布讲，而选择泊松分布的原因。它同时，还能让你直观的理解类似 1/10 的概率究竟代表了什么。又美，又有用，还体贴你的认知，还能提升你的概率直觉能力。这简直就是概率分布中的理想伴侣。

#### 06

1、事件发生「次数的概率」，相比于事件的「发生概率」上更加精确了，框定了有限的时间区间，化解了理论上无穷时间内的全样本搜集。用发生次数替代发生概率，这种转的思维方式也跟罗胖之前提到的「认知折叠」很相似，很多道理方法数学家们早就默默的在用了。

2、我们习惯于规律认知，均匀分布，但柏松分布给我们提供了更宽广的认知渠道，也是克服人的思维偏误的武器。

作者回复：让我们知道 1/10 的概率究竟是什么意思？是平均 10 次发生 1 次。那么真的 10 次能发生 1 次的概率是多少呢？37%。在 10 次中 1 次也不发生的概率呢？也是 37%。

#### 07

1、50 年一遇这个怎得出来的呢？从设计的这年往上推 50 年，按这个时间段内最大的降雨量设计，还是往前推 500 年，取这个时间段内 10 次相同的最大降雨量？后者才有资格叫 50 年一遇，前者只能叫 50 年内，这样的数据肯定早被气象学算出来了。设计的时候，取最小成本值，这个值出现在 50 内就叫 50 年一遇，出现在 100 年内就叫 100 年 2 遇或几遇吧。

2、长期太有迷惑性了。相对于人生百年，这个长期意义有多大呢？概率有宗教的一面，提供決策时的心理安慰：虽然这次输了，可我严格按概率策的，我没错，错的是时间，活得不够长。我们之所以有稀奇感，是因为我们在寻找解释，不想解释了，啥都不稀奇。我们不是天生没有概率感，而是没有大数概率。毕竟生命很短，经历有限，而知识无限，以有涯逐无涯，违反生理，这是人类对自然的逆反，可是该逐还得逐。

3、直觉是炸点在目标周围集稀释程度推断，密集的地方就是轰炸目标。可是数学怎么描述呢。什么是横坐标，什么是纵坐标，理不清楚。横坐标是面积，纵坐标是炸坑数？这样跟概率有啥关系呢？还是橫坐标是特定地点炸点数随时间变化的数量，纵坐标是概率，可是这个概率是关于谁的概率呢。

作者回复：50 年一遇也特有意思，原则上是通过过去的数据进行计算的。但其实有些百年一遇的千年一遇的事儿，也没遇到过啊，这咋计算呢？比如，你有 70 年的暴雨数据，那么最大的降雨量的那场暴雨，出现的概率就假设成 1/70，第二大的呢，出现的概率就是 2/70。这样，你就构建出一个 概率分布，然后做一些坐标系的缩减的基础上拟合这个图，我们就能得出 1/100 的概率对应的降雨量（当然还会做一些处理，把分母变大一点儿之类的），然后得到 1/1000 的概率的降雨量，这样就知道百年一遇的暴雨降雨量是多少以上，干年一遇的暴雨降雨量是多少。当然每个领域还有自己的些处理方式，本质逻辑是这样。比如洪水，可能服从贡贝尔分布，比如地震，可能服人幂律分布。

统一的说，百年一遇，千年一遇这样的说法，收到过去数据的统计影响非常大，刚刚看到了，我只有 70 年的数据，万一这 70 年恰巧是风调雨顺呢？我们听到的百年一遇，千年一遇，背后没有人告诉我们，他们计算依据的历史数据到底是多少年，是那些年。我们其实也不知道他们的误差到底有多大。但是，我不断的增加数据，不断的更新百年一遇的降水量的标准，自然就越来愈准确。这就是数学应用中的，日拱一卒无有尽，功不唐捐终入海。

#### 08

我们前面学过正态分布，正态分布大量的存在于我们的生活中，但是，我们该怎么证明一个事件的发生概率是符合正态分布的呢？有些可以，因为它存在的范围在我们可观察的范围内，发生的时长在我们可观察的范围内，那如果有一些事情发生的范围和存在的时长不在我们的可观察范围内呢？这个时候就可以用到这节课我们学习的泊松分布了，可以说，事件发生概率符合泊松分布的事件，一定是符合正态分布的。只是，为什么这一点，我完全没搞懂。还有，如何相互证明，其实我也没有完全搞懂，这节课程还需要 Mark ー下。

1-2『这里的「为什么」应该已经被数学证明了，待验证。（2021-02-14）』——未完成

## 0306. 假设检验 1：基于概率反证法的统计推断

这个模块，我们一直讲的都是概率分布。现在，我们已经理解了正态分布、幂律分布等多种概率分布。可是概率分布到底怎么用呢？它能做什么呢？这就是咱们这一讲的内容。简单来说，它可以拿来检验假说。就是当有人提出一个假说的时候，我们最终可以通过概率分布，来检验他这个假说到底靠谱不靠谱。

### 6.1 女士品茶

为了方便你理解，咱们先从一个「女士品茶」的故事说起。话说一个夏天的午后，英国剑桥的几个大学老师和他们的妻子，一群人在喝下午茶。突然，有一位女士说：我有一种超能力，一杯奶茶放在这里，只要尝一口，就能分清它是先加的奶还是先加的茶。在场的先生们哈哈大笑，这一定是你的幻觉。把茶加到奶里和把奶加进茶里，能有什么区别呢？但是，女士特别坚持，我就是能分清，你们怎么不信呢？就这样，事情僵在这儿了。怎么办？

科学证明的可信度当然是最高的。这件事能不能用科学方法直接证明呢？这确实是个思路，但怎么实现呢？我们得先化验一下，看看把茶加到奶里和把奶加进茶里，两种液体的化学分子有没有区别吧？如果有区别，还得证明这位女士确实能感知这种区别吧？这一通证明做下来，代价太高了，根本犯不上。有没有其他简单的操作方法呢？也有。

我们可以先假设「这位女士不能品尝出区别，全靠猜」，然后给她奶茶让她喝，看她能不能分辨出区别。先给她喝一杯，结果这位女士说对了。这好像没什么，就一杯嘛，猜也有 50% 的概率猜对。我们不能相信她。再给她喝一杯，结果女士又说对了。如果靠纯猜，连着两杯都猜对的概率是 25%。好像还是挺大的，还是不能相信。只能再给她喝第三杯、第四杯…… 结果，连喝六杯，女士都说对了。这个概率是多大呢？50% 的 6 次方，约等于 1.6%。也就是说，如果纯靠猜，女士连着六杯都猜对的概率只有 1.6%。这个概率太小了。就像一个学生，考试考了 98.5 分，你能说他的答案全是瞎写的吗？显然不能。同样的，我们当然也没有理由再去质疑女士，而只能接受相反的结论，认为「她确实能分辨出差别」。

2『虽然看书籍「2019099 女士品茶」后已经理解了假设检验，但这里还是做一张术语卡片。（2021-02-14）』——已完成

简单来说，如果能证明一个结论发生的概率特别特别小，我们就可以推翻这个结论，接受和它相反的结论。这个推断的过程就叫「假设检验」。

假设检验，包含假设和检验两个部分。首先，我们先选择一个假设，随便选择一个就行，然后再去验证这个假设。怎么验证呢？就看它会导致什么结果。如果它导致了一个发生概率非常低、非常不合理的结果，那这个假设就不成立，我们就推翻这个假设，承认和它相反的结论；如果这个假设没有导致不合理的结果，那我们就不能推翻它。

比如女士品尝，先假设「女士不能品尝出差别，全靠猜」，然后再去验证它。结果女士连着六杯都说对了，这个概率非常小，只有 1.6%，可以说几乎不会发生。这时候，不相信她不行了，我们只能推翻原来的假设，认为「女士确实能分辨出差别」。而如果女士六杯说对了四杯、错了两杯呢？显然，即使纯瞎猜，这个结果也是很可能出现的。就像抛硬币，连抛六次，出现四次正面、两次反面，很正常嘛。所以这时候，我们就不能推翻原来的假设，也就不能相信这位女士。

先假设再检验，这就是假设检验的基本思路。到这里，还有一个问题没有解决：什么时候能推翻原来的假设，什么时候不能推翻，总得有个标准吧？

确实有标准。很多情况下，这个标准都是 5%，在女士品茶的故事里，我们用的也是这个标准。就是说，如果概率超过 5%，打死我我也不相信这位女士；但如果概率低于 5%，我就相信她。其实，只要女士连续五杯都说对，这个概率就是 1/32，小于 5% 了。但当时那帮绅士的英国科学家，非要让她六杯都对才行，看来这些人对这位女士的要求挺苛刻的。

有了假设检验，我们就拥有了一把利器，能够穿越复杂的现象，收获一个个相对靠谱的结论。比如去医院检查身体，医生会先假设这个人没病，然后通过一系列检查，看看能不能找到患病的症状。像新冠肺炎，只要核酸检测是阳性，这个人没被感染的概率就很低，基本上就确诊了。这时候，医生只能放弃「这个人没有病」的假设，转而认为「这人患病了，赶紧想办法治疗」。如果核酸检测是阴性呢？那这个人没有被感染的概率很大，就不能推翻原来的假设。你看，不也是同样的思路吗？

其实不止这些，假设检验一诞生就席卷了各个领域，几乎成为现代医学、心理学、经济学、社会学，乃至计算机科学等学科研究的底层方法之一。

### 6.2 基于概率反证法的统计推断

刚才讲的是故事和思路，接下来我用专业的术语再给你解释一遍。这部分听起来会辛苦一些，但我们学的就是数学课，这些术语也是科学家一直在用的，所以还请你打起精神。

第一个术语：H0（零假设）和 H1（备择假设）。这是一对假设，可以自己设定，只要互相对立就行。刚才说「你先设定一个假设」，这个假设就是 H0；和它对立的假设，就是 H1。女士品茶的故事，如果 H0 是「女士不能分辨出差别，全靠猜」，那 H1 就是「女士能分辨出差别」。

1-3『之前读书籍「2019099 女士品茶」时，知道「备择假设」非常重要，只有零假设没有备注假设，毫无意义。看到这里的信息，稍微有点感觉了，但还是无法完全理解。（2021-02-14）』

第二个术语：P 值。就是在 H0 这个假设下，当前现象以及更极端现象出现的概率。比如女士品茶，在「女士不能分辨出差别，全靠猜」这个假设下，出现了什么现象呢？女士连着六杯都说对了，概率是 1.6%。1.6% 这个概率，就是 P 值。

请注意，P 值的大小会直接影响我们的判断。如果 P 值特别大，我们就不能推翻 H0 这个假设，更不能去相信 H1；而如果 P 值特别小，就可以认为 H0 几乎不可能发生，转而去相信 H1。女士品茶里，1.6% 这个概率太小了，所以我们就推翻「女士不能分辨差别」这个假设，相信「她确实能喝出差别」。

到底 P 值多大，H0 才不能被推翻呢？或者反过来说，P 值小到什么程度 H0 就可以被推翻，对面 H1 这个假设就成立了呢？这个标准就是 ——

第三个术语：显著性水平。你可以把显著性水平想象成一把刀，一刀剁下去，刀这边是「不能推翻 H0」，刀那边是「推翻 H0，接受 H1」。

至于这把刀具体剁在哪儿，是往左一点还会往右一点，一般学界是有标准的，用得最多的就是 5%。只要 P 值小于 5%，就推翻 H0，相信 H1；如果 P 值大于 5%，就没办法推翻 H0。当然，也有一些领域觉得 5% 这个标准太宽泛了，就设置成了 1%。甚至像物理学在发现粒子等问题上，执行的这个标准是百万分之一，要严格得多。

总之，显著性水平要依领域而定，每个领域都有自己的共同体标准。

### 6.3 概率分布是假设检验的基础

女士品茶特别简单，P 值很好计算。复杂一点的案例，可就没那么容易了。比如，我在菲律宾遇到一个男人，身高一米七，请问这人在菲律宾是高个还是矮个呢？这时候，当然可以用假设检验来推理，但请问 P 值是多少？这时候我们压根没法计算。总不能因为一个人的身高问题，把菲律宾所有男人的身高都统计一遍吧？那怎么办呢？

答案是，用概率分布。找出菲律宾男人身高的分布图。我们知道，图里横坐标代表身高，纵坐标就代表概率。还记得 P 值的定义吗？就是在 H0 这个假设下，当前现象以及更极端现象出现的概率。所以相应的，图中身高一米七及以上的人的概率，也就是 P 值，自然就代表这群人的比例。

如果一米七及以上的男人只有 10%，那 P 值就是 10%。这个人在身高前 10% 这个区间里，肯定就算高个了。如果分布变了，一米七及以上的男人占 30% 呢？这时候 P 值就变成了 30%。还有 30% 左右的人比这个人高，他就不算高个了吧？

如果我们再把问题换一下：在整个亚洲，这个人算不算高个呢？这时候，就不能看菲律宾男人的身高分布了，得去看亚洲男人身高的分布状况。你看，分布不一样，问题的适用范围就不一样，得到的判断也不一样。

对于很多复杂的随机事件，需要把随机事件的概率分布图拿出来，并根据在图中的位置确定 P 值的大小。只有这样，才能和显著性水平比较，才能判断 H0 能不能被推翻。换句话说，假设检验是基于概率的反证法，而要用概率的反证法，就要用到概率分布。以概率分布为基础，得到靠谱、有价值的结论，正是概率分布的意义所在。

### 黑板墙

思考题：在日常生活里，你还能举出一些利用假设检验这个思路进行判断决策的例子吗？

下节预告：这一讲，我们说了假设检验的基本逻辑。可以看到，假设检验是一个很有效的方法，能帮我们得到不少有价值的结论。但是，这个神器有没有什么缺点呢？

#### 01

假设检验可能存在抽样风险的问题。比如，我们想了解大学生当中存在抑郁倾向的问题，于是去了一所有一万名学生的大学调查。在显著性水平是 5% 的情下，我们假设人群中达到或超过 4% 的人有抑郁倾向，就断定大学生当中存在比较明显的抑郁倾向。当然，我们不可能采访所有的学生，于是我们就在食堂门口随机采访了 50 个人。结果发现，受访学生中有两个人承认自己有抑郁倾向，比例正好是 4%，我们可以据此认为自己的假设得到了检验吗？其实是不行的，因为学校有一万人，我们只采访了 50 人，样本空间可能太小。简单的用抽样的结果下定论，可能会得出错误的结论。

作者回复：样本的随机性是非常讨厌的坑。我们常说的「简单随机抽样」啥叫随机抽样，就是样本和现实要同分布。班上 50 个同学随机抽 3 个，根本就没法抽，你是随机抽岁数，还是随机抽成绩，还是随机抽身高，你很难抽几个学生和所有属性都同分布，甚至你很难抽出即便是一个属性同分布。

#### 02

是不是先找出概率分布模型是正态分布、冥律分布等，每个模型计算 p 值方法不同，就可以找出事件发生概率区间以及指导实践。比如开车的每公里油耗问题，符合正态分布，找出几个因素认为他们导致油耗上升，找出事件记录，然后就不知道怎么下手了。

作者回复：首先，你的车宣布综合油耗是多少，然后厂家说的对不对呢？来，我随机找城里郊区高速，各种路段或者是混合路段，总共开个几十次，几百几千公里，并记录下，这形成个样本的数据，估计非常服从正态分布。然后一比，他说 10 个油，我开出 12 个油，这是正常波动，还是虚假宣传呢？你的样本的标准差，填补油耗的标准差，然后他宣布的油耗就是均值，看看你的平均油耗，出现在他正态分布的那个位置，如果最右边 5% 以内，你可以说这油耗不靠谱，如果不是，你只能撇个嘴，说你等着，我再看看。

#### 03

请问老师假设验证是不是只能用于正态分布的现象？如果不是正态分布的现象，就不能用假设验证。还是说调整显著性水平后，可以使用假设验证。

作者回复：假设检验当然可以用在各种分布上，这是一个基于概率的反证法。一般常用在正态分布，因为得出结论简单，也因为正态分布忽略了各种复杂影响因素的影响。

#### 04

关于假设检验：1）首先，假设检验得到的结论不一定正确，只是尽可能降低犯错误的概率。如果检验的显著性为 p（p 值），那么接受原假设犯错误的概率在理论上就是 p。例如之前讲到的「男朋友投硬币连续五次正面朝上」的例子，这件事情发生的概率为 0.03125，足够让你怀疑他作弊，但你仍然有 0.03125 的概率冤枉他。2）前面之所以强调在理论上，是因为假设检验得到的 p 值和你设定的概率分布有关。在不同的概率分布下，会算出不同的 p 值，因此很有可能得出完全相反的结论。3）假设检验还有一个特点是，它更倾向于维护原假设 H0，也就是说，接受原假设 H0 和接受备择假设 H1 的机会是不对等的。通常，会把更加激进的假设 / 决策放在 H1 这个位置。例如，在对某种药物的临床试验上，会首先假设该药物对病人没有作用，然后再看假设检验的结果是否显著（p 值是否足够小）。这是一种保守策略，为的是尽可能降低错误策的风险。

#### 05

核酸检测本身的准确度并不是特别高，体现在这次新冠疫情中，就是有不少多次检测都呈阴性的患者，最后仍然检出了阳性。因此，在临床经验中，会对疑似病人采用更准确的检方案 —— 肺部 CT 作辅助支撑结论。如果说疑似病患的 CT 结果显示肺部已经产生了病变，那么就有极高的概率是已经患上了新冠，并且病情已经十分严重。事实上，在疫情期间，就有前线的医生通过抽空做 CT 的方式，在还没有做核酸的情况下提前确诊了新冠，并因此得以尽快地进入诊疗阶段。

#### 06

对于罪犯的审讯就是一个假设检验的例子。当一个人被控犯罪时，必然面临审讯；在英美法系中，控方提出控诉，由陪审团根据所有证据做出是否成立犯罪的裁定。而陪审团所做的，就是进行假设检验；这里面的原假设 H0 就是被告无罪，备择假设 H1 就是被告有罪。陪审团不知道哪个假设是正确的，他们就需要根据控双方所提供的证据进行判断。

在英美法系中，通常是假定原假设 H0、也就是被告无罪的假设成立，然后用一个个证据去进行验证，只有当所有的证据都不能被告无罪，也就是 H0 发生概率很低的时候，才能选择备择假设，也就是裁定被告有罪。这样做的目的，当然是为了竭力避免发生将无罪的人判定为有罪的错误，尽量减少这类错误发生的概率；但是，这种做法也可能导致将有罪的人判定为无罪的情况，让这类情况出现的概率有所提升。可以说，「针无两头尖」，这也是各有利弊的一种方法。

#### 07

在线教育中学业水平测验系统的达标线（按学生成绩从低到高排列，位于 15% 位置的成绩定为达标线），是否符合假设检验，这里有四个参数：学生数量、分数（学业等级）、试题数量、试题质量，随着数据量的增加不断更新为 15% 位置的成绩为达标线，达标线是动态的。

那么，问题是这标准设定的可信度高吗？可以体现学生的真实水平吗？对应的就是 P 值，即对应考试标准设定的信度指标。起初可以人为设定一个达标成绩，随着测试题目数量的增加，各分界分数的等级线决策信度均持续提高，就可以交付个达标线，但这个过程是如何起作用，如何达成？

我的粗浅理解：1）题目质量和数量保障，质量如区分 A 试卷、B 试卷、C 试卷，难易度不同。题量如至少 45 题（或 70 题以上）。2）学生数量和学业等级区分，数量至少 3000 人，等级按分数从而将不同水平的被试区分开来。3）计算各个等级和试卷的得分比率。

## 0307. 假设检验 2：为什么会导致错误结论？

上一讲，我们说了假设检验的基本逻辑。假设检验很强大，推动了好多学科的发展。但是，是不是只要正确使用了假设检验，而且 P 值还特别小，就一定能得到靠谱的结论呢？还真不一定。

1998 年，《柳叶刀》曾发表过一篇论文。在论文作者调查的 9 个儿童里，有 8 个都是接种了麻疹疫苗后出现了自闭症。正常儿童患自闭症的概率大概是 1% 左右，但现在，9 个孩子里竟然有 8 个。这时候，P 值小到几乎是零了。于是，经过一番假设检验，论文作者声称，「接种麻疹疫苗会增加孩子患自闭症的风险」。这可把家长们吓坏了。《柳叶刀》可是权威的医学杂志，这个结论怕是没错了。所以，很多家长就不给孩子打麻疹疫苗了，美国麻疹疫苗的接种率大幅下降。

但在 2010 年，事情发生了反转。《柳叶刀》撤销了这篇论文，说论文的结论完全是错的。但是，损失已经无法挽回。美国疾控中心的数据显示：从 2001 年到 2015 年，美国未接种麻疹疫苗的儿童数量翻了 4 倍，沉寂近 20 年的麻疹卷土重来，很多孩子付出了健康乃至生命的代价。而且「造谣一张嘴，辟谣跑断腿」，现在还有不少家长相信这个谣言。

奇怪！为什么好好的假设检验，却会导致错误甚至是荒谬的结论呢？其实，假设检验有很多坑，用不好就会掉到坑里。这一讲，咱们就详细说说这些坑。只有了解这些坑，尽量避开它们，我们才能更好地使用这个方法，让它发挥更大的作用。

### 7.1 忽视小概率事件

首先你得得明白一点，假设检验这个方法本身就是有瑕疵的。理由不难理解。我们的结论，不管是 H0 还是 H1，针对的都是全部、所有、每一个；但我们用来假设检验的，却只是一些个别的样本。就像女士品茶，说「女士能分辨出区别」，就代表她每一杯都能分辨。但实际上，我们只试了六杯。真要扛起来，六杯都说对了，只代表她这六杯说对了，不代表下六杯也能说对，更不代表她每一杯都能说对。对吧？

虽然我们中间用了小概率这个工具，认为如果概率特别特别小，就当它不会发生。但现实是这样吗？小概率事件就真的不会发生吗？当然会。

比如，有个叫亚当斯的美国人，短短四个月中了两次乐透彩票的头奖。天啊，中一次头奖的概率已经低到千万分之一了，中两次的概率几乎就是 0。但这件事，确确实实就发生了。彩票公司不能因为他连续中头奖的概率几乎为 0，就拒绝兑付奖金。所以你看，既然假设检验要从个别推导全部，就一定会忽视一些极端的小概率的情况。这是它从娘胎里就带着的基因缺陷，没法改变。

### 7.2 导致系统性偏差

假设检验的第二个问题是，它很容易导致系统性偏差，让人们更容易相信一些反常的结论。

什么叫系统性偏差呢？上一讲说过，P 值会直接影响我们最终的结论。但我们知道，P 值的大小是由样本决定的。选择的样本不同，就会得到不同的 P 值。也就是说，只要不断改变样本，就能不断改变 P 值，最终总能找到一个非常小的 P 值，也就能推翻原假设，得到一个自己想要的结论。但别人不知道他是怎么得到这个 P 值的，不知道他可能偷偷摸摸试几百次了，一看方法没问题，就相信了。这就叫系统性偏差。

1『确实，很多 Paper 里 P 值都是在 5% 低一点的区间，很可能就是专门找那些实验中的部分数据凑到 5% 以下的，样本的选区非常重要。（2021-02-14）』

拿著名的邮件骗局来说吧，你可能也听过 —— 你的朋友每天收到第二天股票涨跌的消息，连续 10 天、20 天都是正确的。于是他就推断说，这个发股票消息的人是股神，要找这个人理财。真的是这样吗？

我们知道，股票一般就只有涨和跌两种状态，如果概率一半一半，那我今天给 1000 个人发消息，500 个发涨，500 个发跌。如果明天涨了，再给收到涨的这 500 个人中的一半发涨，另一半发跌。长此以往，总会有几个人在好多天中，收到的都是完全正确的预测。

在这个骗局里，不管我们怎么用假设检验，一定会得到一个非常小的 P 值，从而推翻原假设，认为这人就是股神。为什么呢？因为我们只能看到那几个一直收到正确消息的人，而看不到还有几百、几千个收到过错误消息的人。就像一座冰山，只看到露出水面的一小部分，却看不到水下的大世界。科学研究也是一样。很多论文的结论特别颠覆，假设检验的推理过程也没问题，但后来却被证明是错的。这是怎么回事呢？

你可以想象这样一种情况：可能有 200 个团队都做了这个试验，但 199 个团队都没有得到什么反常的、有价值的结果。恰巧有一个团队，因为随机原因或者操作误差得到了一个颠覆的结果，这时候，他们赶紧发表论文，并且马上就会被媒体渲染成重大发现。但其实，这一个团队的结论只是偶然，只不过其他 199 个团队都没有发现反常的结论，没有发表论文罢了。我们只看到这个发表的论文，却没看到那 199 个没有发现异常、无法发表论文的结论，当然就会轻易相信它。本质上，和邮件推荐股票的骗局是一样的。

为什么对于很多号称有重大发现的单一试验的结论，科学家都会先存疑，然后再分头去重现、去验证？其实就是这个原因。孤证不立嘛，一次试验可能有很大的偶然性，只有很多试验都验证了某个结论，我们才能相信它。也因此，严谨的科学论文中一般不说「我们证明了啥」，而是说「我们认为什么和什么有统计的显著性」。

1『所以目前心理学的很多研究结论，没法复现，都应该持怀疑态度。（2021-02-14）』

### 7.3 显著性水平设置不好导致错误

上面两个，是假设检验这个方法本身的问题，但假设检验里的坑可不止这些。在使用假设检验的过程中，也有两个坑是要注意的。最常见的，就是显著性水平的设置要跟问题联动。

上一讲说了，显著性水平是约定俗成的，在不同的领域，需要选择不同的标准。举个例子 —— 传染病或者癌症的早期筛查，显著性水平的门槛能无限提高吗？显然不能。因为在这些时候，医生会先假设「这人没有患病」，然后通过各种检查，发现可疑的病症，把真正的病人找出来。如果显著性水平的门槛特别高，比如说 1%，甚至是千分之一，就会让推翻原来的假设变得特别困难。很多人明明患病了，但就是没法确诊，结果会漏掉大量的病例，不仅耽误病情，还可能导致传染病的传播。这危害可比误诊大多了。所以，对于这种情况，我们需要适当降低准入门槛，允许一些准确率只有 90%，甚至 80% 的检测仪器、试剂进入临床，通过多维度筛查，尽可能避免漏诊。

相反的，如果是物理学研究呢？显著性标准的门槛也应该降低吗？当然不行。

门槛降低，零假设就很容易被推翻，也就很容易得到各种牛鬼蛇神的结论。这时候，我们怎么确信一个科学发现是真的，而不是受到了设备误差的影响呢？经常有物理学发现被证明不靠谱，你能接受吗？所以这时候，我们的门槛要大大提高，让推翻零假设变得特别困难。虽然相应的，做出新发现也变得困难了，但起码保证每一个发现都确凿无疑。像大型强子对撞机发现希格斯玻色子这个实验，就需要百万分之一的显著性标准。

你看，显著性水平的设置要和问题联动，依领域而定。如果在该严的领域放宽了标准，或者在该松的领域设置了过严的标准，就可能导致一些错误。

### 7.4 用错分布导致错误结论

除此之外，还有一个小小的坑，虽然很明显，但也有人用错，所以咱们也说一下。什么坑呢？就是用错分布。比如，一般假设检验只用于正态分布，如果一个随机事件明明不是正态分布，却偏要用假设检验，当然会出错。

就像国家统计局说，2019 年，北京平均月工资是 7828.49 元。你想判断统计局公布的数据靠不靠谱，能用假设检验吗？可以随机选择 50 个人，看看他们的平均收入在不在 7800 元附近吗？当然不能。前面说过，人的收入不服从正态分布，而是服从幂率分布。而幂率分布，根本没有均值和标准差。这时候，再用收入的均值做假设检验就没有意义了。即使都是正态分布，用不对也一样会错。就像上一讲，明明是菲律宾人的身高问题，你却拿出亚洲人的身高分布做比较，或者拿出菲律宾人的智商分布做比较，分布都不是一个，结果当然也是错的。

你看，想要把假设检验用好，还得选对分布才行。用错了分布，结果必然是毫无意义的。

### 黑板墙

思考题：2019 年双十一，有人怀疑阿里的数据造假，因为它非常吻合二次或三次函数回归。结果，马云和张勇都出来辟谣。你是怎么看待这个问题的？

下节预告：从下一讲开始，我们就要进入课程的最后一个模块 —— 贝叶斯方法了。我们一起来看看，这个当今应用最广泛的概率论流派，到底是怎么回事。

#### 01

之前网友是通过 2009-2018 年的实际数据，来推测 2019 年的销售数据，然后得到数据过度拟合，「疑似作假」的结论，这里的论证是不够严谨的。首先是系统性偏差的问题。选择不同的样本空间，就能得到不同的结论。双十一的数据有很多，总的销售数据只是诸多数据当中的一个，目前没有证据表明，其他的数据都有过度拟合的现象。换句话说，可能是网友在计算了所有种类的数据之后，发现只有总的销售数据有过度拟合的现象，然后就把它提出来，作为一种规律性的认识。

其次是小概率事件的问题。十年的数据，作为決策的参考是可以的，作为统计数据的规律性认识还远远不够。就好比你不能拿扔 10 次硬币的情况，来推断硬币正反面的分布概率。同样的情况在足球界普遍存在。比如，欧冠改制后，有很多年没有球队卫冕成功，成为媒体嘴里的魔咒，但是随着皇马实现三连冠，这个魔咒不攻自破。所以，小样本空间涌现的小概率事件不足为信。

作者回复：是的，二次函数三次函数在统计学中，能很好的拟合很多孤立的有限点，这不算小概率事件。你假设它没有造假，出现个小概率才能推翻零假设。但是这未必是小概率。

#### 02

甲同学的回答：高拟合度说明不了任何问题，一个复杂的高阶多项式可以「过拟合」任意数据，达到一种完美拟合的效果。阿里双十一的数据应该也就是近 10 年的吧，想要找到完美拟合的函数还是很容易的。另外，阿里也是做了拟合、建了模型，有依据的提出业绩目标，员工会想尽一切办法完成业绩目标，这也会导致数据更像拟合的函数。

作者回复：非常好，这是这个问题最好的答案之一。被二次三次函数拟合本就不是小概率。所以不能推翻原假设。

乙同学的回答：回到质疑阿里数据造假的案例，其实那位质疑的博主是通过历年阿里双十一的数据，在坐标系中画出散点图，然后通过 Ex cel 的数据曲线，用一个函数来拟合，后来发现和二次函数，三次函数的拟合度很高，于是质疑造假。是如果在公司里做过预算，就发现其实可以从业务角度去寻找原因。通常起点是，老板们基于实际情况，以及各利益相关方的预期，给今年设定一个「跳一跳够得到」的 KP，然后各部门就开始行动，把这个 KP 分拆成流量，参与的商家数量，促销方案，定金预付比例，定金转換率等等等等。所有的部门在双十一的当天都会按照这个计划去执行，到最后实现这个目标，大家皆大欢喜拿奖金。其实大家不要忘记了，一开始老板那个设定的那个 KP，本身就可能是通过趋势函数计算出来的，实现这个目标，只能说明阿里团队执行力实在是太强大了。

1『这两人的回答提供了一个很新颖的视角，可能是阿里高层下指标的时候是根据函数拟合来的，而下面团队也完成了这个指标。（2021-02-14）』

#### 03

学完今天的课，我想起了薛老师曾说的一句话：这个世界上每个人每分每秒都在创造浩瀚如海一般的数据和信息，只要你足够仔细，在浩瀚的信息中找到一点信息来佐证你的观点，还是不难的。以前有很多心理学家做出来的报告每隔一段时间都会被推翻，比如「只要一个人做出微笑的表情他的心情也会相应变得好起来」等，后来都被验证出不了重复性，原因就是样本的选择有问题，天知道他们是选了多少人、哪些人来做实验呢。这也是科学家「鄙视」心理学家的原因吧，因为「科学」讲的不仅是证明，而且是「不可证伪」。所以一看到「调查表明」等字眼，我都会本能的怀疑一下。

作者回复：孤证不立，但心理学社会学行为经济学确实有很多事，是反复做试验确认过的。

#### 04

万维钢书中写到 p 值的动机性推理，就是先有结论，再在推理过程中刻意符合这个结论。学术圈，把结果显著，约定为 P 值小于 0.05。而很多科学家刻意选择美化数据，达到 P 值显著的目的。研究者把各领域历年论文放在一起，分析这些论文中 P 值的分布情况，P <0.05 是人为约定，理论上，论文中 P 值的分布应该是一条光滑的曲线，但研究发现 P 值的分布，在 0.05 处有明显凸起，这就是因为很多论文，通过美化数据，把 P 值「做」到了 0.05 以内。

作者回复：符合统计学本质的做法，P 值只做验证，你已经有了其他证据证明或者推演或者逻辑上的论证了一个结论，然后用 P 值验证一下，作为数据证据。现在很多学科，P 值是唯一的证据，结论没有逻辑、没有推演、没有其他证据。这是误用了假设检验和 P 值。越极端越引人瞩目吧。

#### 05

一般假设检验只用于正态分布，如果一个随机事件明明不是正态分布，却偏要用假设检验，当然会出错。假设检验应用注意点：1）样本选择要多样行，样本要全覆盖，如同审计抽样的方式，既要抽发生额，也要抽余额，避免余额小发生额大的漏掉，导致审计结论错误；2）小概率事件的影响，就像审计过程中，既要重视金额大小，也要重视小金额事项性质，就像舞弊事件无论大小，如不做审计调整，都需要发表非标审计意见。严谨的科学论文中一般不说「我们证明了啥」，而是说「我们认为什么和什么有统计的显著性」。这句话马上联想到审计报告的阐述结论方式「按照 XXX 准则，重大方面公允反映 XXX」，异曲同工。「幸存者偏差」貌似是样本不全而导致结论错误的概念。

作者回复：审计这件事儿，你猜银行、公司等等，所有的工资、报销、业务收入，业务支出的那么多笔金额中，以 1 开头的占多少？是 1/9 吗？频率法还有个本福特定律，专门干这事儿。

#### 06

加里·史密斯在《简单统计学》里面，就曾经多次提到过一种叫做「数据搜刮」的现象。简单地说，这就是利用了老师讲到的，假设检验「从个别推导全部」的固有缺陷，从样本数据中「挖」出一些惊世骇俗的「规律」来。解決这个问题最好的办法，就是将前一步假设检验得到的结论，作为一条新的假设，投入到新的数据样本中进行检验。科学研究中对实验的复现，就是这种再检验过程。而在生活中，当我们听说似乎有某种「理论」时，也要保留一些怀疑，把它放到新的「样本」里（不同的情境、条件下）验证下，或者在网络上搜索类似的验证信息。越是那些看上去很宏大，其实漏洞百出的所谓「规律」，就越容易露出破绽。这是避免被人忽悠，特别是避免被伪科学忽悠的好方法。

#### 07

假设检验的坑：1）忽略小概率事件，从个别推导全部，一定会忽略某些极端的小概率事件；2）导致系统性偏差，样本決定 p 值，p 值影响结论，反过来可以指哪儿打哪儿，先有结论，得到 p 值，根据 ρ 值反选样本；3）显著性水平设置不好导致错误，显著性水平的设置与问题相关联，但有的场景需要各方权衡，人为主观调高或调低标准，标准差异会带来一些错误；4）用错分布导致错误结论，假设验证一般用户正态分布，如果幂律分布或其它分布或错配的正态分布，得出的结论是没有意义的。

1-3『

对于第二点的系统偏差印象深，之前没觉得什么，直到读了书籍「2021055简单统计学1101」，里面提到了「德克萨斯神枪手」谬误，先「射击」再「画靶子」。算是解答了自己之前迷惑很久的难题。为啥一些科学研究符合零假设检验（P 值小于 5%），还是不靠谱。那些 Paper 完全是先做大量实验（先射击），再从这些实验里挑选对自己有用的数据样本（再画靶子）。这里的信息补充进主题卡片「即使是随机数据，也可能存在聚集现象」。（2021-02-14）

总结：数据聚集现象无处不在，甚至存在于随机数据之中。想要寻找某种解释的人一定会找到一种解释。不过，某种理论与数据聚集现象相符并不是一种具有说服力的证据。人们发现的解释需要言之有理，而且需要得到新数据的检验。类似地，向足够多的目标发射足够多的子弹的人一定会击中某个目标。对数百种理论进行检验的人一定会发现至少支持一种理论的证据。这种证据不具有说服力，除非理论是合理的，而且能够得到新数据的证实。如果你听到某些数据支持某种理论，那么在你相信之前，请回答两个问题。首先，这种理论是否合理？如果不合理，不要轻易相信胡言乱语是合乎情理的。其次，房子里是否存在一位德克萨斯神枪手？宣传这种理论的人在提出理论之前是否查看了数据？他是否在选定他所宣传的理论之前对数百种理论进行了检验？如果你看到了冒烟的枪口，不要急于做出判断，应当等待这种理论接受其他数据的检验。

对于军团病，人们根据数据聚集得到一种理论，并用新数据对其进行检验。如果没有理论和新数据，我们所拥有的仅仅是数据聚集而已。韦特海默和利珀发现的癌症受害者聚集是「德克萨斯神枪手」谬误的一种形式。在最初的版本中，一个没有射击技能的人用一把枪向谷仓的一面墙射出大量子弹，然后在弹孔最多的位置画上靶心。即使癌症的地理分布是完全随机的，也会出现巧合性的聚集 —— 就像 100 次随机射击的弹孔会出现随机聚集一样。要想进行有效的统计检验，研究人员应当首先画出靶子，然后发射子弹 —— 首先论证输电线可能导致癌症的原因，然后比较有输电线和没有输电线的街区发生癌症的频率。

』

冯诺依曼说，用四个参数我可以拟合出一头大象，而用五个参数我可以让它的鼻子摇起来。所谓拟合，就是寻找一条曲线，使它尽可能地靠近已知的若干个点。从阿里来看，一定会制定销售目标的，而销售目标是根据以往的数据制定的，跳跳才够得着，于是拆解出很多手段来帮助实现目标，如各种优惠券、花呗临时提额等；从网友来看，假设验证的前三个坑他都踩了，拿十几个数据来推导全部、p 值和显著水平都能根据过往数据完美匹配出一条曲线，所以博眼球的成分更大

#### 08

运用假设验证的方法，确实可以解决真实世界中的很多问题，特别是符合正态分布的事件。比如说各种保险产品，通常情况下，保险公司会根据以往统计数据，计算风险发生的概率，从而确定人身、财产、重疾等各类保费标准。这样的做法，确实可以在很大程度上应对很多随机性来的风险。但涉及到具体的个体，情況就有些不ー样了。有些风险一旦发生，产生的后果往往会超过大多数人的预期，对每个人生活的影响，也是干差万别。

比如最简单的生病来说，很多人都觉得，只要有钱，不就是花钱治病吗？其实还真不是，一旦真的得了像癌症这样的重大疾病，就很有可能意味着接下去好几年都没法正常工作，也就失去了最重要的经济来源。所以，很多时候，要考虑这样的高阶风险，我们就不能只买医疗险，还需要考虑重疾险；就是为了保障患重大疾病之后，不会因为没有收入，而造成生活质量的下降。

再比如说死亡，即使个人真的意外故去，父母、孩子今后的怎么办？他们以后的生活会不会出现什么重大风险？这个时候，寿险、年金险就是你需要应对各种意料之外情况的解決方案了。所以，假设验证的方法，并不能帮助我们解决所有问题；我们还需要掌握运用已知应对未知的方法，应对那些随机性所来的未知风险。这也是我们每个人都必须面对和学习的人生课题之一。

作者回复：假设检验本质是对一个结论的验证，而并非发现。

## 0400. 猜测上帝的底牌

0401条件概率贝叶斯公式的基础.md

0401主观与客观不同的概率学派在争什么.md

0402贝叶斯推理概率是对信心的度量.md

0403贝叶斯计算定量解决逆概率问题.md

## 0401. 条件概率：贝叶斯公式的基础

从这一讲开始，我们就进入了课程的最后一模块 —— 贝叶斯。这是我们要攻克的最后一个山头，也是最难的一个。为了顺利攻克这个山头，在具体讲贝叶斯推理、贝叶斯计算之前，我们得借助一个梯子。这个梯子就叫作「条件概率」。真正弄懂条件概率，就是我们这一讲的重点。

### 1.1 什么是条件概率？

平时的生活里，你肯定听过这样的话，「今晚刮大风了，明天应该不是雾霾天」「他昨天晚上睡得很晚，今天应该不会早起」，再比如「头大脖子粗，不是老板就是伙夫」…… 当然，这些话都很有道理，但你思考过没有，这些判断都是怎么得来的呢？它们的依据是什么呢？

其实，这背后的逻辑就是条件概率。所谓的条件概率，通俗来讲就是，如果一个随机事件的概率会因为某个条件而产生变化，那在这个条件发生的情况下，这个随机事件发生的概率就是条件概率。因为今天晚上刮大风了，所以明天雾霾的概率大大降低；因为昨天晚睡了，所以今天大概率不会早起；因为头大脖子粗，所以是老板或伙夫的概率就大大提升。这不就是条件概率吗？

这样的例子，简直无处不在。比如我告诉你，我在文章里看到了一个词 —— 苹果，请问我说的是苹果这种水果，还是美国的苹果公司呢？不好判断吧？但是如果告诉你，文章讲的是科技企业，那自然的，它指代苹果公司的概率就要大一些；如果我正在看父亲发给我的养生文章，那它指代苹果这种水果的概率就更大；而如果我告诉你，这是一篇讲供应链的文章呢？那这里的苹果既有可能是水果，也有可能指苹果公司，具体是哪个，就不好判断了。

你看，条件不一样，概率就会发生变化。这就是条件概率。其实，条件概率具体的计算是有公式的，代入公式可以直接计算 ——

```
P(A│B) = P(AB)/P(B)
```

其中，P(A│B) 为条件概率，表示在 B 条件下 A 发生的概率；P (AB) 为事件 A、B 同时发生的概率；P (B) 为事件 B 发生的概率。不过，我们主要是了解这个思想，公式本身不那么重要。

举个例子：幼儿园某班的小朋友，60% 喜欢巧克力冰淇淋，30% 喜欢巧克力冰淇淋和草莓冰淇淋。问在喜欢巧克力冰淇淋的人里，也喜欢草莓冰淇淋的百分比是多少？

假设有 100 个小朋友，60 个喜欢巧克力冰激凌，30 个喜欢巧克力冰激凌和草莓冰激凌，很明显，在喜欢巧克力冰激凌的 60 个人中，有 30 个人还喜欢草莓冰激凌，所以答案是 50%。带入条件概率公式，结果也是一样：A = 喜欢吃草莓冰淇淋，B = 喜欢吃巧克力冰淇淋

```
P(A│B) = P(AB)/P(B) = 0.3/0.6 = 0.5
```

### 1.2 一切概率都是条件概率

听上去似乎很简单，但现实中，要识别条件概率其实并不容易。还记得咱们讲独立性的时候举的双黄蛋的例子吗？把鸡蛋装入盒子这件事，看起来是完全独立的。但真的是这样的吗？

前面说过，双黄蛋普遍个头比较大，在芸芸众蛋中十分显眼。同时，鸡蛋大小不同，价格也往往不一样。所以，无论是工作人员还是自动化机器，都更倾向于按鸡蛋的大小甚至重量来区分、装盒。就这样，当装入盒子的第一个是大个的双黄蛋时，也就是在「第一个是双黄蛋」这个条件下，后续也是双黄蛋的概率就会大大增加。你看，看似独立，其实是有条件的。

再比如，你家隔壁搬来一个新邻居，中年男人，斯斯文文的，戴个眼镜。现在我问你，新邻居更可能是医生，还是工程师呢？你会怎么想？「我怎么知道？一半对一半吧。」其实不对。因为在一个城市里，工程师和医生的数量是不一样的，工程师的数量可能是医生的 10 倍还不止。也就是说，这时候，邻居是医生的概率只有工程师的 1/10。猜一半对一半，可就差太远了。再比如，如果你们小区是医院的家属楼，那相应的，新邻居是医生的概率可能又要远远高于工程师了。你看，新邻居是医生还是工程师，看起来也没有条件吧？但其实，它隐藏的有条件，那就是「工程师和医生的数量是不一样的」。如果下意识的忽视这个条件，认为工程师和医生数量一样，一半对一半，结果就会错得离谱。

发现了吗？很多我们以为完全独立、没有条件的随机事件，其实都是有条件的，只不过它们的条件隐藏得很深，不那么容易被发现。如果忽视了这些条件，可就要犯错了。

其实严格来说，所有的概率问题都是基于条件的。像我们刚才说的例子，都有条件吧？就连最简单的、概率论老师都愿意举的抛硬币的例子，其实也隐藏了很多条件。当我们说「硬币正面朝上的概率是 50%」时，其实就隐含了很多条件。比如「这个硬币是公平的」「抛硬币的手法没问题」「空气密度不影响硬币的结果」「气流不会对硬币产生干扰」等。再比如，我们说「明天太阳照常升起的概率是 100%」时，是不是没条件了呢？这不是客观规律吗？不，它也是有条件的。条件就是地球还在围绕太阳转，太阳系还没毁灭。真要是流浪地球了，不就看不到太阳升起了吗？你看，都有条件。

本质上，现实世界所有的概率都是条件概率。

### 1.3 操纵条件，改变概率

既然所有概率都是条件概率，那相应的，只要学会操纵这些条件，我们就能改变随机事件发生的概率。往小了说，可以避免自己被套路，陷入别人的骗局；往大了说，可以获得一些别人没有的优势，为自己争取更多的利益。

#### 1.3.1 运用条件概率识别骗局，避免被套路。

有一件事特别能说明这一点，就是法律界无人不知的「辛普森案」。案子的细节我就不多说了。如果想了解，你可以去听刘晗老师的《刘晗讲辛普森案》。咱们主要说一点，在这个案件的法庭辩论上，双方律师对一个条件概率的问题产生了严重的分歧。

在庭审的最初 10 天，原告举出了无数证据，证明辛普森常常家暴前妻。他们认为，「一个巴掌可能就是谋杀的前兆」，长期家暴说明辛普森有谋杀前妻的动机。而被告律师则反驳说，家暴和谋杀没有必然关系。因为美国有 400 万被家暴的妻子，但只有 1432 名被丈夫杀害，这个概率只有 1432 除以 400 万，比 1/2500 还低。所以，家暴证明不了辛普森谋杀。

你看，被告律师其实说的是，在家暴这个条件下，一个人谋杀妻子的概率并不会大大增加，所以不能判定辛普森有罪。还举出了数据，听起来似乎有理有据。如果你是陪审团成员，你能相信他吗？答案是，不能。

为什么呢？因为在刚才的计算中，被告律师其实忽视了一个条件 —— 辛普森的前妻已经被杀害。一旦「前妻已经被杀害」这个条件出现，问题就不再是「在家暴的条件下，丈夫谋杀妻子的概率是多少」了，而是变成了「在丈夫家暴妻子，而且妻子已经死于谋杀的双重条件下，杀人凶手是丈夫的概率是多少」。

多了这一个条件，计算结果可是千差万别。「在丈夫家暴妻子，且妻子已经死于谋杀的双重条件下，杀人凶手是丈夫的概率是多少」这个问题的反面是什么呢？是「妻子已经被杀害，但杀人凶手不是丈夫，而是其他人」。而按照被告律师的思路，他们求的是「在家暴的条件下，丈夫谋杀妻子的概率是多少」。这个问题的反面是什么呢？是「在家暴的条件下，妻子没有被谋杀的概率是多少」。显然，这是完全不同的两个概率问题。

事实上，如果真要算起来，这个条件概率要远远高于 1/2500。还是按照被告律师的数据，再结合美国 1992 年的数据，很多人大致做了个推演。在丈夫经常家暴妻子，且妻子确实死于谋杀这双重条件下，杀人凶手是丈夫的概率是多少呢？高达 93%。也就是说，被家暴的美国妇女如果死于谋杀，凶手不是自己丈夫的概率只有 7%。

让我们使用频率法，把概率和百分比转换成事件发生的次数。如果有 100000 个被丈夫家暴过的妇女，那么其中大概有 40 个妇女最终会被丈夫谋杀（1/2500×100000=40）。而根据美国联邦调查局于 1992 年发布的女性被谋杀的数据推算，每 100000 个被家暴的妇女中有 43 个会被谋杀。所以，还有 3 个妇女被丈夫以外的人谋杀了。也就是说，被谋杀的 43 位妇女中，有 40 个是被对她们实施家暴的丈夫杀掉的。因此，在已知丈夫殴打妻子且妻子被人谋杀的双重条件下，丈夫谋杀妻子的概率高达 93%。

条件概率的计算如下：

事件 A：妻子被丈夫杀害。

事件 B：妻子被家暴且妻子死亡。

则在妻子被家暴且被谋杀的双重条件下，妻子是被丈夫杀害的概率 `P(A│B) = P(AB)/P(B) = (40/100000)/((40+3)/100000) = 0.93`。

当时，被告律师团队阵容非常豪华，还有哈佛大学的教授，所以我相信，他们肯定不是错误地使用了条件概率，而是巧妙地运用了辩论技巧，故意设了个骗局来欺骗陪审团。如果我们没有真正了解条件概率，很容易就会上他们的当，被他们带到沟里。当然，必须得多说一句：即使概率高达 93%，也不能证明辛普森杀害了妻子。条件概率只表示统计意义上的相关性，并不代表因果关系。家暴并不一定导致谋杀，但家暴和谋杀妻子之间确实有很强的相关性。

#### 1.3.2 操纵条件改变概率，为自己赢取优势。

你应该听过「高频交易」这个词吧？通过快速的买进卖出，这些人能获取远超市场平均值的收益。听起来很高端，但其实它的本质就是条件概率。

我们知道，影响股价的因素太多了。一年、一个月、甚至一星期、一天内都有各种正面、负面的信息汇集在一起，很难把握。但是，如果缩小时间片段，在一秒，甚至一毫秒这样短的时间内，影响股价的因素就变得比较单一了。这时候，再去把握关键因素，难度就会小一些，盈利的概率就会大一些。这就是高频交易的基础。你看，还是条件概率。说白了，条件概率就是计算和量化某个条件对随机事件的影响。日常生活中，我们总说「找到关键因素」，学完这一讲你会发现，我们其实是在寻找对这件事产生重大影响的条件。是的，我们在计算条件概率。

### 黑板墙

留一道有点敏感的思考题：社会上，经常有女性穿着暴露与被侵犯之间关系的讨论。穿着暴露肯定不是被侵犯的理由，每个人都有穿衣自由，这一点是一定的。但你能从条件概率的角度，分析一下这件事吗？

下节预告：讲完了贝叶斯推理的基础 —— 条件概率，下一讲，我们就进入贝叶斯推理。

#### 01

条件概率计算的前提，就是这两者之间确实有关系，那穿着暴露和被侵犯之间是不是存在因果联系呢？我们看一组调查。根据联合国的相关統计数据，全球性侵发生率最高的地方，在中东、非洲、南亚和中美洲地区，这些地区的女性，很多地方穿着上还是很保守的，而那些穿着暴露、性感大胆的国家，比如欧美，性侵的发生率反而很低。另外，女性在夏季的穿着普遍要更加性感，但是，在性侵案的时间分布上，夏季并不明显高于冬季。之前有一个展览，展示了性侵受害者案发时所穿的服装，从中可以看出，穿着保守并不能避免性侵的发生。

总体来说，性侵的发生，最重要的因素还是环境。大环境是社会环境，那些筼穷落后，或社会秩序不稳定的地方，会显著增加性侵的发生率。小环境是案发现场，是不是有利于犯罪分子作案，比如人烟稀少的地方。另外，还有两点和性侵的发生有关，一个是受害者的气质，胆怯、害羞的小白兔气质，更容易成为被侵害的目标；另一个就是熟人作案的几率更大，这个可能是很多人没想到的，犯罪分子下手前也会充分了解作案对象。

作者回复：是的，影响被侵犯的因素中，国家犯罪率、单独、隐秘的环境等等都可能比穿着暴露更能改变被侵犯的概率。打破刻板印象，需要计算条件概率。

#### 02

首先要统计女性在穿着暴露的情况下被侵犯的概率是多少；其次，在統计女性被侵犯的概率是多少；最后，比较这两个概率，看看女性穿着暴露是不是与被侵犯有些强相关性（也就是说，穿着暴露是不是女性被侵犯的关键因素）。

在生活中，运用条件概率解决问题的真实案例：1989 年，物理学家列纳德·蒙洛迪诺（《星际迷航》作者）为了申请保险，接受了一次抽血检查，检查项目 HIV，也就是导致艾滋病的那种病毒。很不幸的是，他的这项检査结果是阳性的。医生告诉他，这个结果意味着，他有 99.9% 的概率得了艾滋病。以当时 1989 年的医疗水平，他会在 10 年内死去。

但幸运的是蒙洛迪诺懂贝叶斯定理。他知道医生错了。其实，我们要识别的问题是：蒙洛迪诺做了一个检查正确率是 99.9% 的检查，结果是阳性的情况下，蒙洛迪诺得艾滋病的概率是多少？但是，医生没有考虑到一个条件：蒙洛迪诺所处的群体，他们的发病率是多少。而蒙洛迪诺所处的群体，艾滋病的发病率是 1/10000。这时候计算可得，蒙洛迪诺得病的真实概率是 9.1%，而不是 99.9%。这两者的差别一个天上一个地下。所以他没有惊慌，他再次做了检査，结果证明，他的确没有得艾滋病。

作者回复：前面非常好，只有最后一点我不同意，「蒙洛迪诺得病的真实概率是 9.1%，而不是 99.9%」。贝叶斯计算往往用疾病这个例子，突破大家的认知，觉得好意外。但现实从来不是做题。

1、即便是 9.1%，从万分之一上升到几乎十分之一，说明检查这件事非常重要，检查结果对概率的变化起了決定性因素。

2、得病的「真实」概率可能是高于 9.1%，因为并不是所有人都会参加艾滋病检査，参加艾滋病检查的不是简单随机，这里有个条件，就是你觉得不好才去检查的，或者医生觉得不好才去检査的，往往先验概率是高于发病率的。这是一个条件概率。

3、你也需要知道，患病率的万分之一的含义是什么？大部分的含义是生病的人数除以总人数，这时候第二点你就能理解了，也有可能就是生病人数除以检查人数，那贝叶斯算出来的 9.1%，就真实可靠了。

4、处理措施只有一个，再次检查。所有被检査出大病，真正的概率思维直觉就是再做检査。一般情況，三次检査都是阳性，你误诊的概率会非常低。

#### 03

这一讲让我想起了那个经典的问题：有个哥们儿叫老王，他非常害羞，喜欢自己待着；他总是帮助别人，对社交和社会现实也不太感兴趣；他整洁、温顺，喜欢秩序与结构，对细节也极其关注。，老王最可能是哪个职业？A 是农民，B 是销售员，C 是图书馆管理员，D 是内科医生。一般来说，答案会告诉我们是 A，因为社会中农民数量最多。并且认为选择 C 的人是产生了代表性偏差。但我一直觉得认为这个题目有问题。我认为既然题目已经通过特征描述限定了样本范围，再用总体概率计算是不对的。换言之，我们应该参考的是满足题目条件人群各个职业的比例，而非整体人群的职业比例。

举个简单的例子，一个男女人数比是 4 比 6 的社会里，现在有个人 188cm、80kg，平时出门不会特别化妆打扮，经常去健身房，体育馆，网吧等场地。现在问这个人是男是女。这时应该根据大数据概率选女性吗？显然不对吧。请问刘老师，我这样考虑对吗？

作者回复：这本是表达「基础比率谬误」的。在第一个描述中，这种安静并不是这四个职业最显著的特征。所以按照人口比率来考虑。而在第二个描述中，就未必了，你可以想象一下，假设 1000 个人，400 个男生，600 个女生，满足 188cm、80kg，很可能只有 45 个男生符合，而可能只有 5 个女生符合。这时候，是男生的概率达到 90%。但是，一定要记住现实不是做题。寻找那个最关键因素的能力，那个最可能影响概率变化的条件才叫洞察力。

#### 04

作者回复：这题目的关键，不是马上做出決定，无论是穿着暴露会提升被侵犯的概率，还是穿着暴露不是被侵犯的理由。学习概率的基本素养是：证据。是客观的可以代入条件概率公式的数据。关键我们需要了解 P(AB) 也就是被侵犯且穿着暴露，以及 P(B) 被侵犯的概率。目前我没有找到任何支持穿着暴露和被侵犯之间的关系的数据，我没有办法判断。而有可能更直接的条件概率是，独自在人少的角落，会增加危险。

#### 05

这节课后有两个疑难：一是面对一个求解条件概率问题，如何洞察分析出各相关条件和主要条件？二是找到条件后如何获得相关数据？

作者回复：条件概率公式很简单，不需要辨别这些，用频率法也可以做，在 B 条件下 A 发生的概率，就等于 AB 共同发生的概率除以 B 发生的概率。条件概率不表达任何因果关系，只表达在某个随机事件发生的时候，另一个随机事件的概率发生了变化。

#### 06

1、穿着暴露与被侵犯之间只能说存在相关关系，严格说穿着暴露存在被侵犯的可能性，而一旦被侵犯则不能说完全由于穿着暴露而导致，穿着暴露是被侵犯的必要非充分条件。一旦被侵犯了，则变为穿着暴露且被侵犯的条件下，侵犯者的动机究竟如何。

2、这节课让我想到《统计学关我什么事》中也提到，贝叶斯概率精准之处就在于面对具体事件的判断，而非一殷惯性思维喜欢采用大量同类事件发生的总体概率。比如在 52 张牌中（去掉大小王）抽出任意一种花色的概率是 1/4，但是如果抽牌之前被告知，请抽出一张黑色花色的牌，则概率立刻变成了 1/2，因为条件发生了変化。贝叶斯厉害的地方就是能够把普遍的大样本下的先验概率经过推理后转化为精准的条件概率。

#### 07

讲到贝叶斯公式的时候，常常会拿疾病患病率来举例。但是我一直在疑惑：人群中某种疾病的发病率真的等于某个具体的个人这种疾病的发病率吗？举个例子，主动脉夹层是一种非常凶险的疾病，在人群中的发病率为 4.3/10 万，发病率非常低。如果一个人很年轻的时候就患上了高血压，有动脉硬化的迹象，常常鼻出血，眼结膜出血，脾气暴躁，那么即便是没有检测到任何主动脉夹层的征兆，也不能按照上述概率来估算，而是要大大提高他患此病的概率，从而严加防范。所以我总觉得不考虑个体情况，只是按照大数样本来计算某个人得病的概率，有时候恐怕会犯非常严重的错误。

作者回复：当然不等于，现实不是做数学题。1）患病率不能直接计算，因为你是身体感觉不好，医生初步诊断之后オ去检查的，这个概率远比平均患病率要高；2）家族、基因、环境、年纪都会让某个群体，或者某个个体的的患病概率大幅度提升。这都是条件概率。

#### 08

贝叶斯公式是关于随机事件 A 和 B 的条件概率（或边缘概率）的一则定理，早在 18 世纪，就由英国学者贝叶斯提出了相应的计算公式。虽然只是一条简单的公式，但其原理其实毋需数字也可明了。比如说，我们看到一个人总是做一些好事，那么那个人是好人的概率就会很高。这就是说，当我们不能准确知悉一个事物的本质时，可以依靠与事物特定本质相关的事件出现的多少去判断其本质属性的概率。用数学语言表达就是：支持某项属性的事件发生得愈多，则该属性成立的可能性就恵大。可以说，贝叶斯公式的思路对于由证据的积累来推测一个事物发生的概率具有重大作用；它告诉我们，当我们需要对事物进行预测的时候，首先是要根据已有的经验和知识推断一个先验概率，然后在新证据不断积累的情况下调整这个概率。

不过，真实世界中，很多时候我们也会因为不理解而误用条件概率。比如课程中提到著名的辛普森案，为了证明辛普森有罪，检方指控辛普森之前家暴的历史；而方律师则说，美国有 400 万女性被夫或男友打过，而其中只有 1432 人被杀，概率是 2800 分之一。这其实就是误用了条件概率，因为辩方律师用的条件是家暴，用来推测的事件是男友杀人；而案件里的条件是被杀而且有家暴，而要推测的事件是凶手是男友（事实上概率高达 90% 左右），这才是贝叶斯分析的正当用法，而方律师却是故意在混淆条件与要验证的假设。所以，理解了贝叶斯公式和条件概率，就能够帮助我们更好的分清条件和假设之间的关系，从而避免误判。

#### 09

很好奇，老师为啥没有把贝叶斯公式放在最前面讲呢？是因为最精彩的要留在最后吗条件概率，条件就是概率的灵魂。

作者回复：因为贝叶斯公式是条件概率公式的一个小小地形。

## 0402. 贝叶斯推理：概率是对信心的度量

上一讲，我们详细说了条件概率。知道了条件不同，随机事件发生的概率就不同。我们还知道了，一切概率本质上都是条件概率。具体来说，概率问题可以分成两种 ——

第一种，是我们知道「原因」，要去推测某个「现象」。本质上，这些问题和掷骰子、抛硬币是一样的。知道了硬币是公平的，问它正面朝上的概率；知道了骰子是均匀的，问掷出一点的概率…… 都是知道了「原因」，要去推测「现象」。这类概率问题叫作「正向概率」。

在现实生活中，我们常常会遇到另一类概率问题 —— 看到了一些「现象」，要去推测背后的「原因」。拿看病这件事来说吧，「已知这个人得了流感，问他发烧的概率是多少」，先知道原因是得了流感，问发烧这个现象出现的概率是多少，这就是正向概率。但如果反过来问，「已知这个人发烧了，问他得流感的概率有多大」呢？这时候问题就反过来了，看到的现象是发烧了，推测导致发烧的原因。已知现象求原因，这就是「逆概率」问题。

生活里，逆概率问题非常多。比如，看到女孩接受了自己送的鲜花，推测她接受自己表白的概率有多大；傍晚看到了天边的晚霞，问明天会不会下雨；HR 看到了面试者的测评结果，判断这个人是不是契合这家公司…… 都是看到现象求原因，都是逆概率问题。

问题来了，对于逆概率问题，我们怎么解决呢？或者换句话说，怎么通过零散的现象猜测背后的原因呢？这时候，频率法就失效了。我总不能表白一万次，看看成功多少次吧？怎么办？解决这类问题的思路，其实就是这一讲要说的 —— 贝叶斯推理。

### 2.1 贝叶斯推理的基本逻辑

虽然「贝叶斯推理」这个词听起来很高级，但它的思路其实很好理解。咱们举个生活中的例子吧：

现在你的正前方，远远走来一个人，请问这人是男生还是女生呢？真要细究起来，其实挺难判断的。即使一个人长得非常像女孩，我们也不能完全确定 TA 就是女孩，对不对？你可能会说，离那么远，我怎么知道？随便猜一个，50% 对 50% 吧。但抬头一看，呦，这人一头长长的黑发披散在肩上。按常识来说，留长发的肯定女孩更多，男孩很少留这么长的头发，所以这更可能是个女孩。这时候，你就要调整自己的判断，可能是女孩的概率要提高到 70% 了。

再仔细一看，这人体型很娇小，而且腰很细，腰臀比很小，很有女性特征。自然的，TA 是女生的概率就更高了吧？但是，再走近些发现，这人背着一把大吉他，后面还跟着三位带乐器的男生。听到这儿，你应该明白了，这四个人很可能是个乐队。而在大部分乐队里，吉他手基本都是男生，很少有女生。自然的，想到这里，我们又要调整判断，这人是男生的概率又增加了。当然，我不是说没有女吉他手，这人一定是男生，而是说他是男生的概率非常大。就这样，根据新信息不断调整对一个随机事件发生概率的判断，这就是贝叶斯推理。

这种思维方式其实非常常见。比如我们去医院看病，医生最开始也不知道我们怎么了，但他们会询问我们哪里不舒服？发烧不发烧？哦，发烧。不过会导致发烧的病多了，普通感冒、流感、扁桃体发炎都有可能。所以医生会接着问，咳嗽不咳嗽？流鼻涕不流鼻涕？身体犯懒不犯懒？甚至还会让你去验血。最终，他会根据验血报告，根据各种病症，判断患者得了什么病，然后对症开药。你看，这就是贝叶斯推理。

再比如说侦探破案。我们知道，福尔摩斯第一次看到华生时，就断言华生刚到过阿富汗。他怎么知道的？其实用的也是贝叶斯推理。先是看到华生是医务工作者，但却一副军人做派，判断他是个军医；又看到华生面色黝黑，但是手腕上的皮肤很白，判断这人肯定刚从热带回来；又因为华生面容憔悴，而且左胳膊受过伤，就判断他肯定是历经艰难。综合所有这些信息，一名英国军医，刚从热带回来，而且历经磨难，还负过伤，那这人肯定是刚从阿富汗回来。

你看，侦探根据蛛丝马迹去调整判断、推测真相，也是贝叶斯推理。

### 2.2 概率是对信心的度量

听完前面的例子，不知道你有没有一个疑问：一个人到底是男是女，不是早就确定了吗？只是我们不知道而已。为什么我们刚才说对面这人是男是女的概率一直在变呢？换个角度，我们说「这人是女生的概率是 50%」的时候，我们到底是在说什么呢？是说这人是男是女这个事实吗？

其实不是。刚才说了，这人的性别早就确定了，要么是男生，要么是女生，不存在百分之几十的概率叠加问题。如果找到这人的一根头发，做个基因检测，我们马上就能确认他的性别，做过变性手术都没用。那我们这里说的概率，究竟是什么呢？

其实我们说的是，我对这个人是女生这个结果的「相信程度」达到了 50%。注意，是相信程度。相应的，在看到对方的长头发、娇小的体态后，我对 TA 是女生的相信程度提高了，就提高了这个概率判断。明白了吧？在贝叶斯的世界里，概率本质上是对信心的度量，是我们对某个结果相信程度的一种定量化的表达。

生活里，我们说的很多概率，其实表达的都是我们对某个结果的相信程度。比如说，一场精彩的球赛看下来，我们总说比赛跌宕起伏、千回百转，其实就是因为场上局势不断变化，我们对比赛结果、对某支球队输赢的信心在不断调整。再比如，当年苹果公司陷入危机，董事会没办法，只能邀请之前被自己踢出去的乔布斯回来。董事会邀请乔布斯来的时候，他们并不知道乔布斯会怎么重整苹果，更不知道乔布斯能不能带领苹果走出困境。他们只是基于过往的经验，相信乔布斯具有这个能力。你看，还是相信。当时，还有很多人不看好乔布斯呢。这也是一种相信。

其他的，比如我们说明天下雨的概率是多少、这个客户我能拿下的概率是多少、凶手是某某某的概率是多少时，也都是在表达一种信心。

### 2.3 贝叶斯推理的两大优势

根据新信息调整概率判断，听起来似乎挺普通的。但其实，这是一种非常高明的思维方式。它具有两大优势 ——

第一，起点不重要，迭代很重要。就像男生女生的例子，最开始判断这人是男生女生都没关系，甚至随便猜都可以，不重要，真正重要的是迭代。

贝叶斯不是推理一次就完了，它是个反复的过程。每找到一个新信息，就进行一次推理，得到一个新判断。而下一个信息，要么进一步证实我们的判断，要么削弱我们的判断，就要对之前的判断进行调整。这样不断微调、不断微调，慢慢的，结果一定会和真实状况越来越接近。毫不夸张的说，贝叶斯最后一定会无穷逼近于真理。这其实也能给我们一个启示，人生输在起跑线上不要紧，要紧的是你能不能做时间的朋友，不断迭代自己的认知和思维模型。

第二，信息越充分，结果越可靠。尽可能丰富的信息，是贝叶斯走向准确的最大保障。

拿机器学习来说吧，它的底层理论就是贝叶斯。为什么谷歌训练人工智能识别猫和狗时，要给它看成千上万张照片？为什么特斯拉的自动驾驶汽车要进行各种路测，千方百计收集用户开车的数据？就是因为数据越多，供它调整的机会越多，它的计算结果就会越精确，越逼近真相。现在，人工智能识别猫和狗的准确率已经可以达到 99%。

其实，手机的面部识别功能也一样。手机扫描我们的面部，比如说捕捉到 40 个位点的生物特征，它会记住这些特征。如果下一次一扫瞄，有 38 个特征都符合，很充分，八成是一个人，手机就会判断这人是手机主人，自动开锁。但如果只有 3 个特征吻合呢？这人是手机主人的概率太低了，手机就会拒绝开机。

生活里，为什么我们总是寻找新信息，争取信息完备？其实就是为了运用尽可能多的信息，提高自己判断的准确率，本质上还是贝叶斯推理。这其实是一种非常高级的思维模式。起点不重要，迭代很重要，就需要保持充分的开放和积累；而信息越充分，结果越可靠，又要求随时调整、不断逼近真相。这样每次精进一点，每次精进一点，这样的人可不就越活越通透，越活越聪明吗？

### 黑板墙

思考题：日常生活里，有些人看到喜鹊就开心，看到乌鸦就难受；还有些人相信「左眼跳财，右眼跳灾」。你能用这一讲说的贝叶斯推理解释一下这样的行为吗？

下节预告：贝叶斯推理的逻辑很简单，就是根据新信息调整概率判断。但这只是模糊的描述，具体要怎么调整？怎么做到定量呢？这就要用到贝叶斯公式去计算了。这个我们放在下一讲说。

作者回复：几何图形法是理解条件概率和贝叶斯最简单的方法。

#### 01

在自然界中，乌鸦的嗅觉非常敏锐，能感受到腐败死亡的气息，因此乌鸦出现的地方，经常会有已经死亡或者将死的动物，也就常常被人们认为是不详的征召。而喜喜晴，天气好的时候就会出来活动，而天气好的时候，通常人们的心情会相对好一些，也会经常走亲访友，因此很多人都喜欢看到喜鹊。这其实就是贝叶斯定理在生活中的一种应用，通过已有的经验和信息，来推导好事或者坏事发生的概率。

而所谓的「左眼跳财、右眼跳灾」，在现实生活中可能确实有少数的时候得到应验，不过这只是小概率事件。从科学的角度讲，眼睛的跳动与「福祸」无关，主要是人的眼睑部位肌肉的异常痉挛造成的；而引起这种现象的是，可能是人的精神过度紧张以及劳累过度等等。所以，「左眼跳财、右眼跳灾」，就是由少量的信息推导出结论，而缺少了通过收集新信息、运用贝叶斯定理进行迭代和调整。

作者回复：非常好，这道思考题并不是单纯说这个判断迷信或是什么。而是做出这个判断的数据从哪里来的。从乌鸦的习性中来的，然后慢慢错误的运用到其它的生活场景中而已。

#### 02

贝叶斯推理含着一个推理思路，那就是「虽然存在牵强之处，但至少比无头绪要强多了」。贝叶斯推理之所以显得有些「强」，主要是因为其中的先验概率。所谓先验概率，是指「在没有任何信息的情况下，暂且把所有可能性的概率设定为对等的」，或者「从主观上进行设定」等，因而会令人感到「牵强」。但反过来说，正是由于设定了这样的先验概率，贝叶斯推理从而具备了「即使只有少量信息（数据），也能够进行推理」的优点。

回到这个例子，人们喜欢看到喜，相信「左眼跳财，右眼跳灾」，是因为先验概率设定上出了问题。喜鹊代表着喜事，左眼跳意味着好事，这些都是「祖训」，也就是人们一直以来不断被「灌输」的一个说法，所以当一个人看到喜鹊的时候，他心里的先验概率可能已经是，今天要发生好事 80%，今天要发生坏事 20%。而人的一天会经历所谓的「好事」和「坏事」的概率其实是随机的，但是有了一开始不公平」的先验概率，人们就会继续增原来 80% 好事在自己心中的权重。

作者回复：先验概率的主观性，恰恰体现了认知的差异。每一次计算，你所得到的后验概率又会成为下一次的先验概率。这就是认知的升级这也就是我们常说的经验。

#### 03

乌鸦属于食腐动物，凡是有死亡动物就会出现，而且乌鸦声音难听。不喜欢乌鸦在情理之中。贝叶斯思维最后一定会无穷逼近于真理。让我相信自己可以慢慢掌握反身性理论，人要在动态和反馈中不断调整，这个理论看了很多遍感觉吸收不了，今天这讲让我有信心了。问老师一个问题，计算机不是按照程序走，对于数据背后原因不是应该人判断么？一直没想通透这个问题。

作者回复：但计算机可以通过统计学发现某个事 A 和某个事儿 B 总是一起出现，那么这就是条件概率。所以，反过来看到 A 出现了，我们对 B 出现的信心提升了。这就是贝叶斯。

#### 04

感悟：《贝叶斯方法 一一 概率编程与贝叶斯推断》，这本书比较适合于 IT 部门的程序员迅速的掌握贝叶斯统计的基本思路并投入运营。《统计決策理论和贝叶斯分析》，这本书适合于想专门在这个领域搞点东西的研究生阅读。《贝叶斯数据分析》，这本书篇幅很长，需要大量的时间阅读学习。《贝叶斯统计方法 R 和 BUGS 软件数据分析示例》，在所有适合作为教材的贝叶斯书籍之中，这本书的整体难度也许是最低的。《蒙特卡罗统计方法》，可以作为贝叶斯统计入门以后的高级参考书来读。

2『这基本书籍都要去下载电子版。（2021-02-14）』——未完成

#### 05

如如果我们来到一个陌生的地方，有一个人正在掷骰子，连续 10 次都掷出了六点，那么下ー次出六点的概率是多少？如果是在实验室环境，那么毫无疑问概率仍然是 1/6。但在陌生的环境之中，我们就要反问一下自己：骰子是不是被动过手脚了？这其实就是一种贝叶斯推理的思路，运用贝叶斯推理来进行复盘；其中的价值，不仅在于评估自己的决策水平，还要评估环境因素对于概率的影响。比如说我们对陌生环境中骰子的情况一无所知，就不能凭主观想象来进行推测。而贝叶斯推理的强大之处就在于，你可以先估计一个值，然后根据客观事实不断修正；用客观的新信息，来不断迭代、更新我们已有的信息，进而得到一个新的、改进了的推断。当你下一次作策的时候，就可以基于这个改进过的推断。可以说，贝叶斯定理为我们提供了一个思路，每一条新信息都会影响你原来的概率假设，你需要根据现有的信息来重新计算概率、调整決策思路。所以，厉害的決策者，都是一个贝叶斯高手；他开始的时候未必比其他人高明多少，但却可以通过不断更新、迭代自己的思维模型決策系统，让自己通向成功的概率变得越来越高。

#### 06

根据贝叶斯推理的优势：起点不重要，迭代很重要。假设有个人先编出「左眼跳财，右眼跳灾」的俗语，然后告诉给其他人，假如下一次这些人眼皮跳的时候，有 50% 应验了，那他们就会相信，并把这个顺口溜传给其他人对于没有应验的人，可能下一次又会有一半的人应验，那他们可能也会相信，于使继续传下去，相信的人也就越来越多。

最后心理学也起到作用，左眼跳了，就在心里暗示自己，一定会有好运，自己也会更加努力、抓住机会；右眼跳了，就暗示自己，今天运气不好，努力了，越不努力，可能运气会更差。（好像有心里学的例子就是班的学生智力水平都差不多，然后随机选择一半的学生，告诉他们很有天分；再告诉另半的学生他们很差劲。多年以后，发现被告知自己有天分的学生中，成功的人数要比另一半学生多得多，这就是心里自我暗示带来的影响。）

作者回复：自己对自己的信心，并不是只有成果进行反馈的，还有很多其他心理因素。这都是数据。所以，邓林克努格效应，你可以理解，是贝叶斯计算中你知道的信息知识越多你越客观的认识自己。而啥都不知道的反而不能清楚认识自己的位置。所谓智者充满忧虑，而其他人盲目自信。

#### 07

我有一点疑惑，虽然全国各地每年都搞很多消防培训工作，但是每年的事故数量并没有减少，事故发生的概率也没有降低，是我们努力的方向错误了吗？是我们没有真正找到影响事故发生的決定因素吗？

作者回复：很多事情是真的随机，抛硬币再努力也不能提高正面的概率。而现实中很多问题把握住所有环节也未必能够完全避免火灾。而且把握这些环节付出的代价太高。这要用数学期望去判断。虽然这样说很残酷，但事实就是所有的事情发生都有概率，我们在设定一个合理的概率的底线的前提下评估成本收益的数学期望最高。

#### 08

薛定谔的猫是死是活，这是一个关于相信程度的问题吗？是逆概率问题？如何理解我们的观测会改变事实呢？量子事件的概率，什么时候是正向概率什么时候是逆向概率呢？态函数给出的概率是哪种概率呢？

作者回复：首先叠加态是基于統计测度下的真实概率。而这也是我们物理学对加态的「信任」程度下的概率。

#### 09

真不知道，除了贝叶斯定理之外，还需要别的理论吗。

作者回复：最基本的就是条件概率，然后条件概率变形成为贝叶斯公式，然后对贝叶斯公式的调整因子的计算和假设，形成了一堆方法，比如机器学习中的朴素贝叶斯。

## 0403. 贝叶斯计算：定量解决逆概率问题

上一讲，我们详细讲了贝叶斯推理。它的思路非常简单，就是根据新信息调整概率。但具体怎么调整呢？调整多少呢？这就要说到贝叶斯计算了。很多人认为贝叶斯计算特别难懂，把它当作贝叶斯的深水区。但其实在数学家看来，这个想法根本不成立，因为贝叶斯计算并不难。

如果我现在告诉你，贝叶斯公式里就四个数，一个是我们要求的，一个是可以自己设定的，还有两个是要查资料获得的，然后简单的加减乘除计算一下就行，你还觉得它难吗？所以，贝叶斯计算真正重要的是计算吗？不是的。比计算更重要的，是理解公式背后的原理和思路。这一讲，我就带你一次性学会贝叶斯计算。

### 3.1 贝叶斯公式是正确无疑的

既然是说计算，我就可以直接说贝叶斯公式了。贝叶斯公式的数学表达是 ——

```
P(A|B) = P(A)x[P(B|A)/P(B)]
```

翻译过来就是，现象 B 出现的情况下事件 A 发生的概率，等于事件 A 发生时现象 B 出现的概率，乘以事件 A 发生的概率，再除以现象 B 出现的概率。

公式记不住不要紧，推荐你做个小卡片放在兜里，需要时随时拿出来看看。用小卡片帮助记忆这件事，一点儿不丢人。爱因斯坦就记不住水银密度的数值，被中学生问到时当场说自己不记得；美国的实习医生也都是随手拿着平板电脑，随时查阅。

总之，一共四个数，计算过程就是用右边三个概率数求左边的概率。非常简单，要不怎么说是小学四年级的数学水平呢？但是到这里，我们要先解决一个问题：为什么需要三个概率值才能计算呢？看起来这么奇怪的公式到底是怎么得来的呢？

这说起来就有意思了。贝叶斯公式是由一个叫贝叶斯的老先生提出来的。这位老先生主业是牧师，副业才是搞数学。结果在数学上搞出了名堂，提出了贝叶斯公式。当然，你别误会，这公式也不是贝叶斯凭空创造的。还记得前面讲过的条件概率公式吗？贝叶斯老先生就是挑灯夜战，长期凝视条件概率公式后，突然灵机一动，对条件概率公式做了个变形，结果就整出来了这么个东西。

条件概率公式为 `P(B|A) = P(AB)/P(A)`，所以 `P(AB) = P(B|A)xP(A)`。改变 A 和 B 的顺序得到，`P(BA) = P(A|B)xP(B)`。

P(AB) 是 AB 同时发生的概率，和 P(BA) 是一样的，带入条件概率公式，就得到了著名的贝叶斯公式：

```
P(A|B) = P(A)x[P(B|A)/P(B)]
```

刚提出来的时候，贝叶斯公式并没有引起太大的轰动；反而是等贝叶斯去世了之后，人们才发现这个公式越来越好用。原因很简单，它能解决上一讲说的逆概率问题。逆概率问题那么多，总得能计算吧？就像计算三角形面积一样，总得有个公式吧？贝叶斯公式就是干这个的。贝叶斯公式的伟大意义就在于，对于逆概率这种难搞的概率问题，我们从此有了简洁的计算公式。

总之，记住一句话 —— 从数学上，贝叶斯老先生并没有发明任何东西，他只是对条件概率公式做了简单变形。如果你相信条件概率公式，就得坚信贝叶斯公式也一定正确。

2『贝叶斯公式做一张主题卡片。（2021-02-14）』——已完成

### 3.2 先验概率可以任性设置

解决了贝叶斯的正确性问题和目的性问题之后，现在我们来解决操作性问题。要想真正理解它，我们就得对它做个拆解，知道它每一部分都代表什么。就拿酒驾这件事来说吧。我们都知道，酒驾是很危险的，那一个人酒驾时出事故的概率到底是多少呢？现在，我们回顾一下贝叶斯公式。再回顾一下贝叶斯推理的过程，根据看到的新现象或信息调整随机事件的概率。两相对照，你就明白公式里每一部分都代表什么意思了。

这里的 B，就是看到的新现象或者新信息，也就是「酒驾」；而 A，就是和现象 B 相关的随机事件，也就是「出现交通事故」。自然的，公式的左边 P(A|B)，就是在酒驾的情况下发生交通事故的概率。这是我们要求的，不多说。

公式的右边呢？P(A)，就是发生随机事件 A 的概率，也就是出现交通事故的概率。这个概率，又叫作「先验概率」。「先验」就是先于经验，「先验概率」就是在看到新现象、重新计算之前，基于经验甚至主观猜测得到的概率。既然是基于经验和主观猜测，所以先验概率的设置当然就可以任性。就像前面提到的，判断迎面而来的人是男是女，最开始，这个概率的设置不重要，50%、60%，或者是 70%，都可以。毕竟，贝叶斯是一个反复的过程，后面总能通过一次次调整，一步步逼近真相。

不过话说回来了，虽然先验概率的设置可以任性，但如果和真实情况相差太远，肯定要经过更长的计算过程才能获得相对靠谱的结果，事倍功半。所以，先验概率的设置还是越贴近现实越好。可以遵循三点 —— 1）相信历史数据。比如判断一支球队比赛获胜的概率，最好去看它和这个对手的历史交手记录；没有这个数据，就去看它最近和别的对手比赛的数据。2）参考专家意见。如果很难找到历史数据，那就去寻找专家的意见。3）平均设置概率。如果既找不到数据，又找不到专家，就可以平均划分概率，总不至于偏得离谱。

### 3.3 调整因子必须客观

说完了 P(A) 这个先验概率，我们再看公式右边的 `P(B|A)/P(B)`。这两个数叫作「调整因子」。还是拿刚才酒驾的例子来说吧 —— 酒驾时出交通事故的概率，就是已知是酒驾，问出交通事故的概率。这里，酒驾就是现象 B，出交通事故就是随机事件 A，所以 P(B) 就是人们酒驾的概率，而 P(B|A) 就是在出现的交通事故中司机酒驾的概率。比如每 10 起交通事故，平均有 3 起司机是酒驾的，那 P(B|A) 就是 30%。

1『这里对自己特别有用的信息是把 `P(B|A)/P(B)` 单独领出来，作为一个「调整因子」，一下子豁然开朗。（2021-02-14）』

这里一定要注意，P(B|A) 和 P(B) 这两个数一定是客观的，必须找到具体的客观值，而不能拍脑袋随便设定。有多少人上路行驶，有多少人是酒后驾驶，又有多少交通事故里司机是酒驾的，这些数据我们都不清楚。不清楚就要去查，去交通部门、国家统计局这样的权威部门查统计资料。只有查完了，才能客观地确定调整因子的大小。

像交通事故中有多少司机是酒驾的，这很好找，拉出交通事故的数据一查就知道了。开车上路的平均事故率，也不难找，交通部门都会统计。

真正困难的，是确定酒驾的概率。因为酒驾有人被查到了，有人没被查到，这怎么算呢？其实，有一个替代数据可以参考，就是交警经常组织的酒驾检查。你可以把它想象成随机抽样，用检查到的酒驾司机的数量除以检查车辆的总数，大致就是酒驾的概率。贝叶斯计算难度不是在计算本身，而是寻找调整因子的客观数据。

有些数据虽然找起来费劲，但只要下功夫，就肯定能找到。但有些事儿，我们完全就找不到这些数据。比如说表白这件事，如果你问我，「刘老师，我如果对一个女孩表白，期间女孩一直深情的盯着我，请问我这次表白成功的概率是多少呢？你不是说贝叶斯很万能吗？能不能帮我算算？」不好意思，没法算。

在这个例子里，现象 B 是女孩一直盯着自己，随机事件 A 是表白成功。我们要求的，是看到表白过程中女孩一直盯着自己的现象后，问表白成功的概率。P(B)，就是女孩盯着男孩的概率，而 P(B|A) 是在所有表白成功的案例里，女孩盯着男孩的概率。很明显，这些根本没有人统计过，压根找不到数据，自然就没法算。在处理类似问题的时候，就不能生搬硬套使用贝叶斯公式，算也是瞎算，可能越算越错。也因为目前不能准确计算，只能靠经验评估，所以一些所谓的「情感专家」「恋爱高手」才那么有市场。

不过对于这些问题，数学家也有办法，就是机器学习。它的思路是反着来的。拿让机器识别猫和狗来说吧，我们给机器看成千上万张照片，告诉机器「这只是猫」「那只是狗」。注意，一定要告诉机器结果。只有这样，机器才会根据结果反过来改变调整因子，最终让调整因子逼近现实，从而得到越来越靠谱的判断。这个不断看照片的学习过程，就叫「大数据训练」，或者叫「大数据喂养」。

1『看到这里的信息，个人对机器学习的理解又加深了。这里提到的对应于「监督式学习」，训练的时候直接告诉结果，通过结果反向去获取贝叶斯公式里的「调整因子」。（2021-02-14）』

而对于一些更极端的概率问题，比如疫情什么时候结束？第三次世界大战什么时候爆发？下一次金融危机什么时候出现…… 这时候，连基本的数据都没有，我们该怎么办呢？老实说，没有太好的方法。不过雷·达里奥在《原则》这本书里提到的一个决策方法可以借鉴，就是赋予每个人决策的权利，然后给每个人的判断赋予不同的权重，专家的权重高一些，普通人的权重低一些，然后把所有人的判断结果加权求平均。这个方法或许不能保证正确，但一般不会错得很离谱。

总之，贝叶斯公式一共四个数，左边就是我们要求的，右边一个是可以随意设定的先验概率，另外两个是必须客观的调整因子。查资料确定调整因子是计算的关键，如果瞎猜或者查得不对，很可能越算越错。

### 黑板墙

思考题：大家都知道，乳腺癌是一种很常见的疾病，假设发病率是 25% 左右。如果老张的妻子在医院检查，发现自己是阳性的。我们知道，检查结果会有误差，已知乳腺癌检查的准确度是 90%。那么请问，现在老张妻子患乳腺癌的概率是多少呢？请用咱们这一讲说的贝叶斯公式计算一下。注意，这里的关键是正确的计算 P(B)，计算时要考虑全面哦。

下节预告：虽然贝叶斯公式是一个客观的、正确的数学公式，但公式里 P(A) 这个先验概率是可以随意设定的，这不就相当于在客观的数学公式里引入了主观因素吗？这一点也让贝叶斯方法一直被频率学派所诟病。但真的是这样吗？主管和客观的界限到底在哪儿呢？这个问题我们下一讲详细讨论。

#### 01

假设有 1000 人，发病率 25%，所以人群中有 250 人患乳腺癌，750 人不患病。患病的 250 人去检查，有 90% 正确率，因此共 225 人被告知患病，25 人告知不得病。同样，未患病的 750 人去检查时，有 675 人被告知无病，75 人告知有病。所以，000 人中被告知有病的人数为 225+75=300 人。现在你被告知有病，因此是 300 人中的一个。但这 300 人中，真正患病的人 数为 225 人，因此真正的患病概率为 225/300=75%。

1『把概率转化为频次的方法真好。直接套公式，自己手算了下，关键是算检测出阳性的概率 P(B)，这里检测出来阳性的共 300 人，其中 225 人是真阳性，75 人是假阳性，P(B) 为 300/1000 = 0.3，那么「调整因子」为 0.9/0.3 = 3 倍，所求概率为 0.25x0.3 = 0.75。（2021-02-14）』

作者回复：是的，想想什么时候检查结果阳性，会让我们大幅度相信我们真的生病了？其实就是调整因子的那个比例要大，比例是分子除以分母，也就是要么分子更大，要么分母更小。分子更大的意思是，检查阳性是得病的人常见的结果，这就是检查方式的准确率越高越值得信任。分母更小的意思是，检查阳性在全部人群中出现的概率很小，要么病很罕见，要么检查出错率很低。这就是事出蹊跷必有妖的逻辑。也就是，根据信息调整概率，本质上来源于数学公式的简单逻辑。

1『这里通过刘嘉的解读（分子增大代表什么，分母减少代表什么），对「贝叶斯通过不断迭代逼近真值」的认识越来越有感觉了。（2021-02-14）』

#### 02

我们需要注意的是，对于检查结果为阳性的情况有两种，要分别考虑患病和没患病两种情况。总体来说，只要检查结果为阳性，最后实际患病的几率还是非常高的，这就体现出贝叶斯公式对调整因子的敏感性。也就是说，即使先验概率小，只要后期反馈的信息是相对准确的，就能改变人们原先的判断。这里需要说明的是，面对数字，我们不要在主观上判断它的可能性是大还是小，我们要对趋势敏感，我们要比较数与数之间的关系。比如，恶性疾病的发生率虽然不高，但是不良的生活习惯，诸如抽烟、酗酒、不规律作息，能极大的提高患病率，这就应该引起我们足够的重视。再比如，空难的发生率并不高，但是一个安全的机型，和一个拥有良好飞行记录的航空公司，依然能很好的规避风险，我们出行时都要关注到。

作者回复：根据信息调整概率，那什么信息会「大幅度」改变原来的判断呢？在不计算的情况下，贝叶斯思维，或者贝叶斯直觉的训练，一般有两个原则：1）众人拾柴火焰高。2）事出蹊跷必有妖。贝叶斯公式，就是先验概率乘以调整因子，调整因子是一个分数，`P(B|A)/P(B)`，如果新证据或者信息对概率发生重大改变，也就是调整因子要变大。好，调整因子怎么才能数值很大，要么分子很大，要么分母很小。

分子大的意思，是事件 A 出现的时候，事件 B，也就是这个信息出现的概率很大。也就是这种事情在这个群体中非常常见，比如识别渣男，什么证据最应该引起你的重视？就是渣男经常做的事儿，比如，微信撩骚，中央空调、各种嘴炮善于甩锅，这就是你要对这个信息最常适用于哪个群体，反过来，哪个群体有什么特征，要了解，这就是知识积累。这不贴切的我叫众人柴火焰高。

分母小的意思，是事件 B 出现的概率很小，也就是这个信息出现的情况很罕见，越罕见的信息，越要大幅度提高对这个信息判断的权重，比如，太阳突然不从东边升起了，那就要大幅度调整太阳从东边升起的概率，很明显，流浪地球了。如果，突然检査出癌症阳性，虽然各种贝叶斯计算都表示得病的概率就百分之十几，但从万分之一的得病概率，上升到百分之十几，也是几十倍几百倍的提升了，比如，你老公一直稳重老实，突然有些奇怪的举动，一定要深入了解背后的原因，这就叫事出蹊跷必有妖。

#### 03

另外有个疑问，课程中，刘老师讲的那个酒驾的例子，由于一般交警多会在饭点后查酒驾，所以 P（酒驾）会偏大，应该会导致算出来的酒驾时发生交通事故的概率偏小。

作者回复：嗯啊，严格意义上的满足很难，所以只是替代。你见过酒驾事故率的数据吗？是不是好像没有？因为绝对数值很低公布出来反而让大家觉得没啥。有些研究计算出，酒驾比正常驾驶事故率高 16 倍。正常驾驶假设是万分之一的事故概率，酒驾是干分之 16。但其实，这些数据都不是你想象中最「客观」的数据，因为你并不知道，如果大家都喝酒开车事故率会变成啥样，也许是 5% 了，因为这也许是相互关联，非独立的。在我们心中大都有一个确定的客观存在，认为酒驾一定有个客观事实存在，就是喝酒开车事故率上帝是知道的。但在贝叶斯的世界里，这个事故率从来都不是固定的，它本身就是化的。另外，现在比酒驾更危险的事是玩手机开车。

#### 04

为什么先验概率必须是 P(A)，而不能是 P(B) 呢（不能是 P(B|A）好理解）？反过来调整因子为什么包含 P(B) 而不能换做 P(A) 呢？为什么是「一个先验概率，两个调整因子」，而不是「两个先验概率，一个调整因子」呢？

作者回复：左边求的是 P(A|B) 意思是 B 条件下的 A，很明显，我们的先验是没有 B 条件的 A 原来是啥样的。翠花昨天看了我笑了ー下，我想知道在这个信息来临之下，她看上我的概率，我得先知道，正常情況下她看上我的概率，然后再算笑一下表示喜欢我的调整因子。

#### 05

贝叶斯公式在生活中很多领域其实都有应用。最常见的是医学化验方面，比如说针对某种疾病进行化验，患病的人中有 90% 呈阳性反应，未患病的人中也有 5% 呈阳性反应，而人群中有千分之一，即 0.01% 的人患有这种病。现在有人化验的结果呈阳性反应，则他患这种疾病的概率是多少？一看上去，化验的结果显示这个人患病的可能性很高；现实生活中，我们很多人也都是这样认为的。但是，只要我们仔细分析ー下，运用贝叶斯公式做一下简单的计算，情况就大不一样了。（跟练习题差不多，此处省略计算过程）也就是说，即使化验结果呈阳性反应，患病的概率也不到 2%（1.77%），这就和我们大多数人想象的结果，完全不同了。

作者回复：这个数据会让人觉得检查不靠谱但其实检查结果阳性，已经将患病概率从千分之一上升到百分之二，这是对先验概率二十倍的调整（自己算出的精准数据是提升了 17.7 倍）。检查结果是一个重要的改变先验概率的证据。

#### 06

在生活中涉及到预测的事情，用贝叶斯的思维可以提高预测的概率。我们可以分 3 个步骤来预测：1）解问题。简单来说就像小学生做应用题的感觉，先列出要解決的问题是什么？已知条件有哪些？2）给出主观判断。不是瞎猜，而是根据自己的经历和学识来给出一个主观判断。3）搜集新的信息，优化主观判断持续关于我们要解決问题相关信息的最新动态，然后用获取到的新信息来不断调整第 2 步的主观判断。如果新信息符合这个主观判断，我们就提高主观判断的可信度，如果不符合，我们就降低主观判断的可信度。

#### 07

其实我建议老师把这个题目改改，因为题目严重偏离实际了吧，没有感觉了，更好的的题目应该是，发病率为万分之一（国内），误诊率为千分之一（实际更差），那么这道题的答案就更有意思了，答案大概 9%，同时也就解释了我们为什么检测出阳性之后，经常会多去几家医院检查几次，就是为了提高准确率，甚至我们还可以计算，检查两次，三次之后的真阳性概率。

作者回复：出这个数据的意思是，不要被贝叶斯常用的那种反直觉的例子害了。让我们以为检查结果没啥用。其实，检查结果是把得病概率，从万分之一上升到十分之ー，这已经是千百倍的提升，这说明检查结果是阳性是至关重要的关键证据。更何况，你是因为有症状才去的医院，医生初步询问之后，才让你去做检查，检查率理论上远大于发病率。当然，出现诊断，第一件事不是觉得完蛋了，也不是觉得没问题。而是去检查第二次，这是最重要的手段和措施。

#### 08

在企业中经常会遇到对一个市场方向目标的判断，到底是 1 亿还是 20 亿，往往成为最核心的焦点，前面刘润老师曾提到过一种预测办法叫「德尔菲预测法」，就是「把专家的独立观点不断收敛」的预测法。我感觉这也是一种「贝叶斯思维」，只是参数的喂养变成了专家的相互交流和修订。在企业里面没有专家也可以找最了解这块市场的人，但是组织这样的研讨耗时耗力，这种贝叶斯贝推理的公示可能是什么样呢，或老师有没有建议的方向。

作者回复：这公式都是一样的，但，简单地基本逻辑是，即便每个专家的能力都是一样的，也不是简单的按照两边专家的数量相加。而是在不断的跟专家沟通交流中，当专家意见一致的时候，下一个一致的专家的权重就越来小，而突然的一个反面的意见将会占据更大的权重。所谓，事出蹊跷必有妖。

## 0401. 主观与客观：不同的概率学派在争什么？

前两讲，我们分别讲了贝叶斯推理和计算。我知道，在了解了贝叶斯公式的简洁，以及贝叶斯那么广泛的应用之后，你心里肯定会有一丝丝的不安全感。先验概率竟然可以随意设置，这靠谱吗？而且概率竟然没有一个确定的值，一直变来变去的，这也太随意了吧？怎么一点儿确定性都没有呢？

其实不光你有这个疑惑，数学家们也一直有这样的争论。频率学派就经常诟病贝叶斯学派。「这么主观，你还是数学吗？你看我们频率法，用的是客观试验的数据，又有大数定律和中心极限定理这两个黄金定理的加持，这才是数学嘛。」现在问题来了，贝叶斯真的不靠谱吗？频率法真的比贝叶斯更客观、更科学吗？这一讲，我们就探究一下这个问题。

### 4.1 两个方法都完全正确

为了说清楚这个问题，我们先看一个很好玩的游戏 —— 三门问题。

三门问题，源于美国一个现场游戏的电视节目。游戏是这样的，你前面有 ABC 三扇门，其中一扇门后面停着一辆轿车。你需要在这三扇门中任选一扇。如果打开门，后面有轿车，那轿车就归你所有。

这我们都知道，三个选一个，中奖概率是 1/3 嘛。不过，这个游戏有个有意思的环节：在你做出选择之后，主持人会从剩下的两扇门中选一扇门打开。注意，打开的这扇门背后一定没有汽车。所以，相当于为你排除一个错误选项。现在问你，要不要改变主意？是坚持最初的选择，还是换一扇门打开？

一定要换。因为如果不换，你中奖的概率还是 1/3；而如果换了，中奖的概率就变成了 2/3。

对于这个问题，最简单的解释就是：假设有 10000 张彩票，你先选 1 张。然后，主持人在剩下的 9999 张中，选 1 张留下，剩下的全部销毁，并且告诉你，撕碎的彩票里没有中奖的。这时候，你应该改选主持人留下的那一张，还是坚持自己最初选的那张呢？肯定要换。这就相当于有两个袋子，一个袋子里装了 1 张彩票，另一个袋子装了剩下的 9999 张彩票，不管那个 9999 张的袋子怎么处理，当然都是换了中奖概率更大。

1『这么解释三门问题就很清楚了，很明白这个 2/3 是怎么来的了。（2021-02-14）』

这个问题，刘润老师、吴军老师都讨论过，详细的你可以去看他们的课，我们更关注频率法和贝叶斯分别是如何解决它的。

频率法会怎么做？当然是大量试验，模拟一万次这种情况，看看换门和不换门各自中奖多少次。当然，这个试验不用你做了，我已经写好程序替你模拟完了。最后的结果是，不换门中奖的概率确实仍然是 1/3，而换门后中奖的概率上升到了 2/3。

贝叶斯方法呢？当然是用贝叶斯公式计算一下。事件 A 是 A 门有汽车，所以先验概率 P(A) 就是汽车在 A 门的概率，很明显，等于 1/3。现象 B 是额外增加的信息，就是「主持人打开 B 门」。P(B) 就是主持人打开 B 门的概率。这个计算起来略有点麻烦，得分三种情况考虑 —— 1）如果 A 门有汽车，主持人打开 B 门的概率是 1/2；2）如果 B 门有汽车，主持人不会打开 B 门，所以这时候打开 B 门的概率是 0；3）如果 C 门有汽车，主持人只能打开 B 门，所以这时候打开 B 门的概率是 1。三种情况各占 1/3，所以 P(B) 就是 `(1/2+0+1)/3 = 1/2`。

而 P(B|A) 就是「如果汽车在 A 门，主持人打开 B 门的概率」。因为汽车在 A 门，主持人只有 B 门和 C 门两个选择，所以 P(B|A) 就是 1/2。

因此，调整因子 `P(B|A)/P(B)` 就等于 1/2 除以 1/2，结果是 1。则 `P(A|B) = P(A)xP(B|A)/P(B)`，就等于 1/3 乘以 1，结果还是 1/3。也就是说，不换门（仍然选择 A 门）中奖的概率是 1/3，换门（改选 C 门）中奖的概率是 2/3。你看，贝叶斯计算的答案和频率法是一样的。这就说明，起码在正确性上，两个方法并不是势同水火的关系，而都是完全正确、完全有效的，没有什么本质的区别。

### 4.2 贝叶斯和频率法的区别

既然都是正确的，频率学派和贝叶斯学派到底在争什么呢？两个方法的区别到底在哪里呢？其实，频率法和贝叶斯最大的差异就是两个方法的假设不一样。

我们先举一个小学生的数学题：树上有 7 只鸟，你开枪打中 1 只，问现在树上还有几只鸟？我估计你大概率会说，0 只，这是一个脑筋急转弯的问题。而我女儿会回答，还有 6 只。因为对她来说，这就是一道简单的数学题。但是，答案真的只有这两个吗？

如果我告诉你，有两只鸟飞不起来，树上还有几只鸟？如果我再告诉你，还有一只鸟根本没有听觉，树上还有几只鸟？如果我再告诉你，其实有三只鸟被关在笼子里挂在树上，树上还有几只鸟？如果我继续告诉你，枪根本没有杀伤力，打中鸟，鸟一点儿反应都没有，那树上还有几只？

我当然不是跟你抬杠，而是想告诉你，前提假设不同，信息和条件不同，问题的结果就是完全不一样的。我们做数学题、物理题，都有基本的、约定俗成的假设，比如不考虑空气阻力，不考虑摩擦力，没有说的条件就不存在等。这和频率法的想法挺像的，认为一切信息是全知的，一定存在一个对所有人都正确的唯一答案。所以对于三门问题，频率法会坚定的认为，一定要换，换了中奖的概率最大。

但是，现实世界不是做题。回到三门问题，你就在游戏的现场，周围各种信息汹涌而来。在你选择了 A 门后，你敏锐地发现，主持人打开 B 门时有一瞬间的犹豫。这时候你就知道，如果 C 门后面有奖品，主持人会毫不犹豫地打开 B 门。他犹豫，其实是临时选择到底是打开 B 门还是打开 C 门。所以，这两个门后面一定都没有奖品，奖品就在自己选择的 A 门后，所以不要换。又或者，你在电视台工作的表弟告诉你，主持人怕被人看出犹豫，早就放弃了临时随机选择，而是上台前就确定了遇到什么情况立即打开哪个门。

面对上面各种各样的情况，我们还能用频率法吗？不能了。因为这些情况太多了，我们没法针对每一种情况都用计算机模拟 10000 次。这时候，我们只能用贝叶斯方法。随着新的条件和新的信息的加入，不断调整自己的判断。明白了吗？因为对信息的预设不同，频率法和贝叶斯解决的就不是一类问题。

频率法，更像是做题，必须有明确的、严格的前提约束，严格界定好所有的条件。它假设信息是全知的，每道题都有一个对所有人而言都正确的答案。所以会通过反复的试验，不断逼近最终那个客观概率。过程不重要，达到最终那个客观的结果才重要。而贝叶斯，是个动态的、反复的过程。每个新信息的加入都要重新进行一遍计算，获得一个新概率。贝叶斯没有什么限制条件，只是在这一次次获得新信息、重新计算的过程中迭代自己的判断。它甚至不认为现实的事儿都有正确答案，因为所谓答案，也是在不断变化的。

打个比方，频率法就像下围棋，对局双方都是完全信息的，每个人都能看到双方棋局的全貌。在某个时刻，一定存在一个最优解，而且对于下棋的双方都是一样的；而贝叶斯更像打麻将，只能看到自己的牌，而看不到别人的牌，参与者获得的是非完全信息。根据局势的不断变化，每个人都会针对自己获得的信息决定怎么打，也许有不一样的最优解和打法。

### 4.3 共同解决现实问题

明白了两个方法的联系与区别，我们再回到开头的问题：频率法就是客观概率，代表客观；贝叶斯就是主观概率，充满了主观性吗？

其实，哪有这么简单。确实，贝叶斯的先验概率可以随意设置，有一定的主观性。但它就完全是主观的吗？贝叶斯公式是根据条件概率公式变形来的，是经过严密的数学推导，是绝对客观、正确无疑的。难道这还不够客观吗？而同时，虽然频率法一直强调自己是客观的，但刚才说了，它的前提假设是一切信息全知，甚至约减了一切看起来不那么重要的条件。但是，信息全知这个假设是谁告诉我们的？不是我们主观认为的吗？这难道不是一种很强的主观性吗？

确切的说，频率法和贝叶斯这两种方法都是基于严格的数学证明和推导，都是客观的，但在使用的过程中，都会或多或少的产生主观性。说实话，主观、客观属于哲学讨论的范畴，是认识论的基本问题。在现在的数学领域，应用数学家基本是不太讨论这些问题的，而是两者都用，哪个好用用哪个。

不管是过去，还是在大数据技术非常火的现在，频率法都非常有用，甚至在很多领域可能都是最好的方法。它特别适合解决那些普遍的、通用的、群体性的问题，比如抛硬币、玩德州扑克，或者计算生育率、患病概率、飞机失事率等。毕竟对于这类问题，得到最终那个普适的概率值就好了嘛。而贝叶斯更适合解决变化的、个体的、无法重复的概率问题，比如明天比赛某球队获胜的概率、发生金融危机的概率，以及人工智能这些技术等。毕竟它衡量的就是信心，而且本身就是通过搜集不同的信息，不断调整、不断迭代的。

而在更多的时候，两个方法并不是泾渭分明，而是混合着使用的。通常，我们会先用频率法获得先验概率，再用贝叶斯计算某个证据的权重。这时候，频率法就是贝叶斯方法的前提，提供相对靠谱的先验概率。而有些问题，贝叶斯方法又能为频率法提供原始的估算，方便频率法在茫茫的噪音中快速定位问题。这时候，贝叶斯又为频率法提供了支撑。也许很多年以后，数学家能做出突破，将频率法和贝叶斯融合为一个统一的理论。但现在，用好它就行了。频率法和贝叶斯就像概率论的两个儿子，虽然两个儿子性格不同，但它们常常合作解决现实问题。这就叫「兄弟同心，其利断金」。

### 黑板墙

思考题：在你的认知里，还有没有什么既存在明显的差异，又可以融合去解决问题的方法呢？

下节预告：下一讲，就是我们课程的最后一讲，我们一起看看生活里如何提高自己的概率思维。

#### 01

在学习概率统计方面有两个小问题，想咨询老师，希望能够得到您的指导。

1、随机性与不确定性的关系。老师的观点是随机性是状态或事件已知，但是状态或事件的可能性是不确定的，是随机的。而不确定性是状态或事件未知的。在科技领域一直有不确定性分析的研究，其本质都是研究在状态或事件已知的条件下，研究不同结果的可能性问题。那么老师的观点是否与这种不确定性研究相矛盾。还是说在不同的领域，关于随机性和不确定性的定义和关系是不同的？

2、相对于描述离散随机变量可能性分布的概率质量函数而言，连续随机变量的概率密度函数有一点迷惑。连续性随机变量在每一个具体的点的概率是零，但是在一个区间内就有概率，即使是很小。并且概率密度函数的积分是 1。这个请问老师，这个从数学上是什么原理，有没有比较形象的类比解释。

作者回复：解问题首先是把不确定性转化为随机性，本质上是完善随机性的样本空间，知道可能的结果，而这就是科学研究的主要内容。

课程中主要面对的是离散的问题，连续概率分布本质上和离散是统一和相通的。0-2 直接，可以只有 3 个值，0、1、2 这是离散的整数，但也可以有无限个值，这叫有理数，我们需要研究无限个值，对抗无限数学的方法就是有限化，把一维变成二维，把长度変成面积，这就把无限变成有限了。积分就是为了对抗无限细分而产生的。更确切地说，无限、连续都是数学完美模拟现实的理想状态。现实是连续的，但是一切测量都是有限的离散的。而连接有限和无限，离散和连续，部分和整体，我们手上能用的就只有数学工具。

#### 02

如果 A 门有汽车，主持人打开 B 门的概率是 1/2，理论上概率都是 1/2，但是人都不是真随机制造者，所以概率会发生变化。在真实世界因素更多，分真假随机太难以及概率难以确定，所以用贝叶斯迭代，在变化因素这类中更好用。

作者回复：如果在 A 门有车的情况下，主持人选 B 和 C 门的概率不是 1/2。而是 100% 选 B。那么用贝叶斯算出来，A 门和 C 门的概率就都是 1/2。换不换无所谓了。然后你可以再写程序验证，发现真是这么回事。所以，回答 1/2 真的没问题，前提条件是，主持人事先想好了怎么选。

#### 03

接近尾声，这节课的内容可以结合《模型思维》里的知识来看，与其指望一把锤子，还不如工具箱里多放一些好用趁手的工具。对工具熟练掌握，认真了解后，在现实情况中可以更好调用，而不必刻意厚此薄彼。

作者回复：概率与統计的目标就是把你口袋的模型箱装满，然你面对现实任何问题都能找到一个或几个趁手的工具。

#### 04

精彩，用到资本市场，再合适不过了。首先频率法，确定事件的客观大致概率。然后用贝叶斯脑，思考不断加入的新条件对事件概率的景影响，推算出更加接近本质的概率。最后用凯利公式计算，该用多大的赌注去对事件做套利交易。之前一直应用的逻辑表达不出来，听了刘嘉老师最后的总结，很标准还非常清晰懂，豁然开朗了。

#### 05

说到既存在明显的差异，又可以融合去解決问题的方法，我首先想到的是代数和几何。代数是研究数字和文字的代数运算理论和方法，是数字的逻辑运算。而几何是研究空间结构及性质的一门学科，是图形的运算。而解析几何是通过建立点与实数对之间的一一对应关系，运用代数方法研究几何问题，或用几何方法研究代数问题，使形与数统一起来。在我看来，联系和融合始终是个大趋势，很多看似不同的学科，在高处都是交汇的。如果你研究的领域是完全孤立的，那很可能。你还没到那个高度。

#### 06

在经济学领域中，传统经济学理论可以用来分析市场运行的规律，行为经济学理论可以用来分析「理性人假设」无法解释的、市场参与者的非理性行为。当同时把两种理论运用在分析经济问题时，就能够既认知到市场竞争的客观现实，又不忽视市场参与者的主观能动性。

#### 07

既存在明显差异，又可以融合解決问题的方法，想到了润总在商业洞察力 30 讲里说到的增强回路和调节回路。增强回路，就是因增强果，果反过来又增强因，从而增强系统效用的因果回路。调节回路，就是因增强果，果反过来减弱因，从而抵抗系统变化的因果回路。我们可以拿小朋友的学习来举个例子。

第一种情况，妈妈鼓励小朋友说，你努力学习，考试得了全班第一名，就给你买个变形金刚做奖励，小朋友非常用功，果然获得了第一名，妈妈就给奖励了一个变形金刚，到了第二学期，妈妈又鼓励说，你继续用功，获得第一名，暑假就带你出去旅游，于是小朋友越努力，成绩越好，获得的奖励越多，这就是增强回路。

另外一个情况是调节回路，妈妈和小朋友说，你回家先把作业完成，才能玩，小朋友动作很快，20 分钟就做好作业了，妈妈心里想，这也太快了吧，于是第二天就另外多给布置了一些作业，小朋友用了 30 分钟才做完，到了第三天，妈妈又给多布置了一些，小朋友感觉到，越快完成作业，就会导致作业越来越多，于是小朋友开始对写作业表现的拖拖拉拉，作业越多，做的越慢。

其实大自然就是通过增强回路和调节回路共同作用来保证均衡。比如在一个树林里，昆虫多了，于是鸟儿的食物多了，自然鸟儿的数量也增加，形成增强回路，但是到了一个临界点，鸟儿继续增加，昆虫被大量捕食，导致昆虫数量开始下降，由于鸟儿的食物减少了，鸟ル的数量也减少，形成了调节回路，正是由于增强回路和调节回路的共同作用，大自然才能稳定平衡的发展，不同的生物才有各自的生态位。

#### 08

看过贝叶斯公式就发现这个公式特别简单，但在数学界地位却很高，尤其很多人在聊概率时比谈贝叶斯公式，这是为什么？这讲给出答案。数学、物理这样的学科，过往都是在理想模型下（比如无摩擦、无重力、无空气等）的分析推演，理论很自治，但总与现隔着一层玻璃。贝叶斯公式是用一个明确的数学公式包含了现实情况，相当于把理论与现实进行了打通。这是一种质的提升或拓展。这一层原因应该给科学界也提供了很多启发吧。

#### 09

频率法和贝叶斯方法区别：频率法需要全信息，冷静分析、客观的计算；贝叶斯方法在有限的信息条件下，做出有限条件下的最优解。贝叶斯方法就是在有限的信息中去接认识这个世界，再通过获得的信息加深认识这个世界，每个人获得的信息不ー致，产生的贝叶斯结果不一样，认识的世界也不一样。给我的启示：1）无论是频率法和贝叶斯方法，都需要获得信息，应该有自己获得信息的渠道，信息是认识世界的前提假设；2）用不同的方法验证同一件事儿，也是避免闹出「盲人摸象」的笑话。

改变我对数学的看法是成甲在《好好学习》中对「复利」的阐述，是一次数学公式转化为现实的解读，如果 A 能强化 B，而 B 反过来又能强化 A，最终会因相互强化频率增加，AB 增长速度会在达到某点后急速增强。我震撼于成甲对复利概念解读，更加深了「学就是要用」的想法。昨天的思考题显然我是做错了，但，并不能妨碍对公式之外现实的理解，也许在明天听完所有的 22 讲，我仍然不会用贝叶斯公式计算题目，至少我「得到」了「起点不重要，迭代才重要」的真理。

#### 10

如软件测试的白盒和黑盒测试：白盒测试在掌握源码的情況下，可以静态分析，动态调试发现问题。黑盒测试则可以通过大量的测试用例，覆盖各种输入，发现与期望不符的输出。两者结合以保证软件质量。

#### 11

在经济学领域，很多人会认为传统经济学和行为经济学是针锋相对的矛盾；事实上，传统经济学和行为经济学就像是一颗树上结出的两种不同的果实。传统经済学和行为经济学研究的问题是一样，即二者都是对市场运行规律的研究，但是研究问题的角度和方向却是不同的。

传统经济学研究的是，市场应该是什么样子，是对市场宏观趋势的把握；而行为经济学研究的是，真实市场实际是什么样子，是对市场微观运行的探索。也正是由于二者研究方向这一底层逻辑上的差异，致使它们分别长出了不同的果实一传统经济学指导我们如何去探索市场长期的价值规律；行为经济学要求我们更加关注一定时期内人的错误行为，以及如何利用这些错误行为在逆向操作。所以，很多时候，对于具体的经济学现象和问题，我们都需要传统经学和行为经济学的配合运用。

比如，对于个人投资这件事情，传统经济学是理论基础，学习传统经济学就好比熟读《孙子兵法》，能够从中找出内在的、长期的规律。但如果只懂纸上谈兵，无疑是不能指挥战斗的；因此，学习行为经济学，就是为了面向实战，通过了解他人的思想和行为，来制定自己的应对策略，所谓「知己知彼，百战不殆」也正是这道理。努力将传统经学和行为经济学融会贯通，我们对于真实世界中的各种经济行为的理解，就能提升到一个全新的维度。

#### 12

1、主观与客观。我们总是希望我们的评价能够客观，我们的认知能够客观，该客观的统统都要客观，但是说实话，真正的客观好像总是离我们很远。原本以为最客观的，最接近逻辑基底的数学，原来其实也是需要「主观」的介入的。当然，我知道其实我这么说并不严谨，但是，其实我想表达的是，但凡一件事情要进入「实用」的阶段，那几乎就一定是不完全客观的，因为所谓实用」本身，就是一个很主观的概念。

2、多元思维模型之我见。频率法和贝叶斯法都是我们工具箱中的一种工具，犹如一字螺丝刀和十字螺丝刀，哪个能更正确？在应用的时候，看清楚情况，想清楚道理，选对工具，用对工具，才能获得最接近「正确」的结果，这才是关键。至于会不会有一天有人能把一字螺丝刀和十字螺丝刀合为一？我不知道。但是我知道，只要这一天还没到，我们能做的，就是学好使用这两种工具的方法，同时，在我们的工具箱里保存更多的适用于更多场景的工具，帮助我们更加合理的解決更多我们在工作和生活中能够遇到的问题。这就是芒格老爷子所说的多元思维最根本的用法所在吧。
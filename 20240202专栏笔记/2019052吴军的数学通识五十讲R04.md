## 记忆时间

## 目录

0500 微积分：动态的世界观

0501 微分01：如何从宏观变化了解微观趋势？

0700 数学的基础作用于其他科学的关系

0600 概率、统计、博弈论：从确定到不确定

## 0501. 微分01：如何从宏观变化了解微观趋势？

我们在前面讲到，线性代数和微积分是高等数学中最重要的两门课，前者有很强的实用价值，后者能提高思维水平，虽然大家平时在工作中未必有机会直接使用它。就拿我来说，工作后用线性代数的机会可能是微积分的 100 倍。

但是，学没学过微积分，思维方式会不同，眼中的世界也会有差别。因此，作为数学通识课，我们还是有必要解释微积分的思想，但是我们也就是停留在它的思想方法上，而非细节上。

微积分有两位主要的发明人，牛顿和莱布尼茨。牛顿发明微积分的一个重要原因是，他需要一个数学工具解决力学问题，比如如何计算速度。可能有人会说，这还不容易，在小学我们就教了，就是距离除以时间。

没有错，我们从小学到中学都是这么教的，但这只是一段时间 Δt 的平均速度。如果我要问你，在某一时刻的瞬间速度是多少？你就不知道了，或者只能拿平均速度来近似瞬间速度。或者说，拿宏观的规律近似微观的。

但是在很多场合，我们要了解的是瞬间速度，而不是平均速度。比如一个警察抓超速，依据的就是驾驶者的瞬间速度，而不是他一路开过来的平均速度。对于瞬间速度，牛顿之前的科学家并没有太多的了解，当然也不会计算了。

那么牛顿是怎么解决这个问题的呢？他采用了无限逼近的方法。具体的想法是这样的：

首先我们回到速度的定义，就是一段时间里的位移量 ΔS 除以相应的时间 Δt，我们可以写成速度 v=ΔS/Δt。我把这种关系用一个示意图表示出来：

在左边的图中，横轴是时间轴，纵轴是位移，那条曲线是位移随着时间变化的函数 S(t)。我在图中标记了从 t0 开始的一段时间 Δt，以及相应的位移量 ΔS，它们构成一个直角三角形的两条直角边。位移量除以时间，就是斜边的斜率。

当时间间隔 Δt 逐渐变小时，这个比值会变化，会越来越反映出在 t0 点附近的速度。我们在前面介绍了极限的概念，当 Δt 趋近于 0 时，那条反映速度的斜线，就是曲线在 t0 点的切线，牛顿就把那个切线的斜率，定义为在 t0 点的瞬间速度。我们不妨这么写，v(t0)=ΔS/Δt，当 Δt→0（趋近于 0）时。

通过上述方式，牛顿就从平均速度出发，定义了瞬间速度，也就是说，某个时刻的瞬间速度，是这个时刻附近一个无穷小的时间内的平均速度。

如果我们用曲线来考察这种瞬间变化，那么瞬间速度就是距离函数曲线在某个点切线的斜率。由于在每一个时间点，切线的斜率是变化的，因此如果把各个点的切线斜率画出来，它也是一条函数曲线。

牛顿把这个由每个点切线斜率构成的函数，称为原来函数的流数，我们今天称之为导数。通常我们用 y=f(x) 表示原函数，用 y=f'(x) 表示它的导数。在上面的例子中，位移的变化函数 S (t) 是原函数，速度变化的函数 v (t) 则是原函数的导数，我们可以写成 v (t)=S'(t)。

正如同速度反映的是距离的变化速率，一个函数的导数所反映的也是原函数变化的速率，比如在上面的图中，我们可以看出原函数增长越来越慢，因此它的导数，也就是增速，是逐渐下降的。

现在我们回顾一下函数这个概念，它反映的是一个变量随着另一个变量的变化，而导数这个概念，则反映函数变化的快慢。比如抛物线函数 y=x²，它在 x=1 这个点，导数是 2，也就是说 x 增加一小份（无穷小），y 要增加两小份。

相比之下，直线 y=x 在同一个点的增速就要慢一点，它的导数是 1，也就是说 x 增加一小份，y 也增加一小份，因此我们说抛物线在 x=1 这个点的变化比直线更快。

对于同一根曲线，我们前后也能对比，比如抛物线在 x=2 这个点的导数是 4，因此我们说，它在 x=2 时，比 x=1 时，变化更快。

我们过去也会说，某个函数变化快，某个函数变化慢，但是这些都是宏观的描述，没有量化度量。导数解决了这个问题。我们还说，某个函数，越变越快，这也只是宏观的、定性的分析。

有了导数的概念之后，我们就可以准确地度量任意一个函数在某一个点的变化。因此导数的本质是对变化快慢的准确量化度量。

导数是微积分中最重要的概念之一，从导数出发我们稍微往前走一小步，就进入到微积分的微分了。

什么是微分呢？它其实就是在前面有关速度的例子中，Δt 趋近于零时，ΔS 的值。对此一般性的函数，我们用 dx 表示自变量趋于零的情况，用 dy 表示函数的微分。

如果我们对比一下导数的定义 f'(x) = Δy/Δx，其中 Δx 趋近于零，以及微分的定义 dy =f'(x) dx，就可以看出它们讲的其实是一回事，因为 Δx 和 Δy 趋近于零之后，就是 dx 和 dy。有时人们直接将导数写成 f'(x) =dy/dx。

如果我们孤立地看微分 dy，它是个无穷小，搞出这样一个新概念有什么必要呢？我们用一个具体的例子，也就是有关圆柱体积变化趋势的例子来说明。

我们知道，圆柱体的体积：V=πr²h，如果我要问，这个体积随半径变化快，还是随高度变化快？在没有微分这个概念时，一般人根据直觉，会觉得随半径变化快，因为是平方关系，而它随高度变化只是线性关系。

但真实情况是什么样呢？我们可以把体积函数分别对半径和高度各做一次微分，得到下面两个结果：

体积对半径 R 微分：dV/dR=2πRh

体积对高度 h 微分：dV/dh=πr²

大家不必关心细节，了解一下这样两个结论：

由于半径增加所带来的体积增量，和圆柱体当前的半径成正比，也和它的高度成正比。

由于高度增加所带来的体积增量，和圆柱体当前半径的平方成正比，但和它的高度无关。

这时，你如果对比一下两个微分函数就会发现，哪个变化的速率快，还真不好说。假如 R 等于 10，h 也等于 10，体积就随半径变化快。如果 R=10，h 只有 1，那就是随着高度变化快。

假如你是一个工程师，要建造一个巨大的储油罐，无论你增大半径，还是增加高度，都有相当的工程难度。现在你的研发经费有限，只能在一个维度，增大储油罐的体积，你应该怎么做呢？

如果你没有学过微积分，你可能会觉得该增加半径。但是听了今天的课程之后你就知道，在这个储油罐比较「扁平」时，应该增加高度。总的来讲，当高度没有达到半径的 1/2 时，都应该增加高度。

我们在工作和生活中，其实经常遇到这样的问题，一个函数取决于很多变量，这时我们不知道该在哪个方向改变，怎样才能以最快的速度进步。微分这个工具，其实给解决这一类的问题提供了很好的方法。它引出了一个梯度的概念，利用梯度，我们就能解决这个问题了。

梯度是微分的一个扩展。在上面的圆柱体问题中，对圆柱体函数，我们可以针对半径求微分 dV/dR，也可以针对高度求微分 dV/dh。如果我们把这两个微分的结果放到一起，就是梯度，也就是说圆柱体积函数的梯度是（2πRh，πr²）。

梯度的物理含义可以这样理解，如果你去登山，怎样沿着最陡的方向，最快地爬到山顶呢？梯度函数告诉你在任意一点，往不同方向走的上升速度是不一样的，因此你很容易找到前进的目标。在圆柱体函数中的梯度是上面那个式子，我们在前面得到的结论是，只要高度小于 1/2 的半径，就应该优先增加高度。

如果是一个长方体，情况又如何呢？我们先把体积函数写出来，体积等于长乘以宽乘以高度，即 V=LWH。接下来，我们可以用微分计算出它的梯度函数。

这里面过程我就省略了，我直接给出答案。这时体积的梯度为 （宽度乘以高度，长度乘以高度，长度乘以宽度），一共三个分量。这时你会发现，长宽高，哪个最小，就应该优先增加哪一个。

比如说，长为 10，宽和高分别是 4 和 6，这时梯度函数为（24，60，40），你应该增加宽度。这其实和我们的直觉是一致的，如果我们这样不断优化，最后的结果是长方体变成立方体时，体积达到最大。

不只是数学问题，其实很多时候，我们都面临在限制要素中作选择的问题。很多时候，我们总想全方位改进自己，但是人的精力和资源有限，因此在某一时刻，可能只能向一个方向努力。

希望梯度这个概念在你选择方向时能够给你启发。很多人从直觉出发，觉得该补短板，另一些人则觉得，该把长板变得更长。第一类人会和你讲木桶理论，第二类人会和你讲长板理论，每一类都有很多成功的例子，也有很多失败的教训。

于是很多人就不知道该用哪一个理论了。事实上你今天学了梯度理论后，就很容易作决断了，那就是在任何时刻算出梯度，然后沿着最陡，但是收益最大的路径前进就好。

在增加长方体体积时，显然是在采用补短板的策略，但是在增加圆柱体体积时，就看情况而定了，如果高度太低，它是严重的短板，需要弥补，但是只要它超过圆柱体半径的一半时，就要增加长板（半径）的优势了。

如果说你有一个目标函数，它可能受到多个变量的影响，那是你长期进步的趋势，但是在每一个时刻，你需要计算一下那个函数针对各个变量的微分，也就是梯度函数，找到进步最显著的方向去努力。这就是通过宏观趋势把握微观变化。

要点总结：

我们从导数出发，介绍了微分的概念，它是我们从函数的宏观趋势，把握每一个点细节变化的工具。然后我们介绍了多变量函数的微分，也就是梯度的概念，并且说明了如何在有大量不确定性，或者说大量的变量中找到前进方向的方法，具体讲就是往坡度最高的方向努力。

因此，微积分给我们的第一个思维提升就是练习从宏观趋势中把握微观变化的趋势，让我们认清每一步的方向。

下一讲，我们还讲微积分，透过微积分讨论企业增长里的奇点和连续性。我们下一讲再见。








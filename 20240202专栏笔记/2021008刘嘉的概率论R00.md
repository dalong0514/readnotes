## 记忆时间

2021-02-10

## 卡片

### 0101. 主题卡 —— 概率论将局部的随机性转变为整体的确定性

上面虽然是我虚构的故事，但它却从本质上揭示了概率论解决问题的思维框架。澳网决赛第四局谁会赢我不知道，最后谁都有可能拿冠军。这些事情就像，抛硬币我不知道下一把是正面还是反面，掷骰子我不知道下一把是什么数字，我不知道明天的股票会涨还是会跌，也不知道买的彩票会不会中奖一样。这些事情的结果都是随机的，是不可预测的，但在停电的这个当下，我们如何分这 200 块钱，却是确定无疑的。

概率论解决随机问题的本质，就是把局部的随机性转变为整体上的确定性。概率论的产生，让我们能对未来发生的随机的事情，做出数学上确定性的判断。这不仅是概率论的思想基石，也是概率论作为一种数学工具的基本思路。

2『局部的随机性转变为整体的确定性，做一张主题卡片。（2021-02-10）』——已完成

正是基于这种整体的、全局性的思考框架，概率论才成为众多学科的基础。同样的，对很多生活中随机的事情，概率论也能帮我们做出确定性的判断。

在量子力学中，我们都知道那只和 Hello Kitty 齐名的薛定谔的猫，虽然我们不知道那只猫下一秒是生还是死，但它生死可能性的叠加态是确定的；对冲基金中，我们不知道明天会涨还是会跌，但在基金公司的模型里，套利收益的预期是确定的；买彩票时，我们不知道明天开奖的数字是什么，但彩票公司这期彩票的收益率是确定的。或者一座城市，哪些家庭今天会要孩子、婴儿会在哪一刻诞生，这些都是随机的，但是从整体上来看，这座城市的出生率、每年新生儿的数量，却是大致确定的。

这就是概率论的全貌。可能会让你感到意外，概率论不是帮你预测下一秒会发生什么，而是为你刻画世界的整体确定性。某一次结果的随机，是低层次的事；而概率论，是高层次的、确定性的认知。

黑板墙里的信息补充：

如何用上帝视角来看待概率论这门课呢？概率论这门课到底在研究什么？很多人可能会说是随机现象。这个没错，随机现象是概率论的研究对象。那么这门课的主线是什么呢？刘嘉老师提出了一个新颖的观点，概率论解随机问题的本质，就是把局部的随机性转变为整体上的确定性。

这是一个很具有哲学意味的解释，值得好好揣摩。比方，抛硬币，某一次抛硬币的结果可能是正面也可能是反面，是随机的。但是当你抛的次数足够多，出现正面或反面的概率总是 1/2，这是随机事件的不确定性和概率的确定性。比方，掷骰子，某一次掷骰子的点数是随机的，但可能的点数总是在 1-6 之间，这是确定的。这就是随机事件的不确定性和样本空间的确定性。再比方，某班上同学的成绩，随便挑一个同学的分数是随机的，可能是 0-100 之间的任何值，但整个班上的平均成绩，又是确定的。买彩票时，开奖的数字是随机的，但这期彩票的总收益是确定的。这就是随机变量的不确定性和数学期望的确定性。

局部来看是随机的，但是整体来看又是确定的。短期来看是随机的，长期来看又是确定的。随机事件的发生、随机变量的取值是随机的，但样本空间、概率、数学期望这些概念又是确定的。不确定的随机事件或者随机变量我们不好研究，但是确定性的样本空间、概率、数学期望这些概念是容易研究的。

这就是概率论的主线，随机性和确定性，看似一对矛盾，实则相辅相成。搞清楚这一点，也就搞清楚了概率论解決问题的思维方式。

2『上面的一些信息补充进主题卡「概率论将局部的随机性转变为整体的确定性」。（2021-02-10）』——已完成

### 0102. 主题卡 —— 概率是随机事件发生可能性大小的定量描述

「概率」的定义有很多，最经典的就是，柯尔莫哥洛夫于 1933 年给出的公理化定义。柯老师是现代概率论的奠基人之一，他的定义如下：设 E 是随机试验，S 是它的样本空间。对于 E 的每一事件 A 赋予一个实数，记为 P(A)，称为事件 A 的概率……

1-2-3『柯尔莫哥洛夫，这个大牛有印象的，在《女士品茶》里见过，俄罗斯人，统计学里功力可与费歇尔比肩的大牛。才知道原来是他给「概率」下了一个明确的定义。概率是随机事件发生可能性大小的定量描述，做一张主题卡片。（2021-02-10）』已完成

打住，我知道你已经懵了。不过，我不打算用抽象的数学定义给你讲概率，这一讲不会，整门课也不会。形式化定义和公式是数学家的交流语言，可以准确、方便地传递复杂内容，甚至在我看来极具美感。但是，当你对这种语言不熟悉的时候，就很难理解它。数学不是抽象游戏，而是要解决现实问题。对现实世界的理解和其中孕育的思想，才是数学真正的魅力。所以我给你个方便理解的定义 —— 概率是随机事件发生可能性大小的定量描述。

这个定义有两个关键词，第一个是「随机事件」，第二个是「可能性大小的定量描述」。

先说「可能性大小的定量描述」，什么意思呢？生活里我们说，网坛名将费德勒很厉害，夺冠的概率很大。这肯定没错，但是不精确，很大是多大呢？哎，概率就是用一个数字来描述这个可能性的大小。比如，这一场费德勒赢的概率是 80%。这就是一种定量的描述，就能和其他人比大小，我们也就知道谁最可能夺冠了。

回过头，再看刚才说的第一个词 —— 随机事件，在概率论中也简称「事件」。别被它的名字搞混了。虽然都叫「事件」，但它是个概率论的概念，和我们生活里说的「xx 事件」，意义完全不一样。生活里，日本偷袭珍珠港、抗日战争爆发…… 都叫「事件」，是指一个已经发生的事情。而概率论中说的随机事件是什么呢？咱们看几个例子：

我们问「这一场费德勒赢的概率是多少」，那「这一场费德勒赢球」就是一个随机事件；我们问「下一次掷骰子出现 6 的概率是多少」，那「下一次掷骰子出现 6」就是一个随机事件；我们问「今年村上春树得诺贝尔文学奖的概率是多少」，那「今年村上春树得诺贝尔文学奖」就是一个随机事件。

本质上，随机事件是概率论的一种表述方式。只有符合这种表述方式，我们才能度量它的概率。这是一种怎样的表述方式呢？任何你关心的事情，只要设定一个条件，从可能性的角度出发，对某一个发生结果进行陈述，就可以转化成随机事件，然后度量概率。这句话很长，限定条件很多，我一一解释。

第一点限定，设定一个条件。前面的例子，这一场费德勒赢球的「这一场」，下一次掷骰子掷出 6 的「下一次」，今年村上春树得诺贝尔文学奖的「今年」，都是限定条件。这些是必须的。你不能不加限定地说「人类登上火星的概率」，这就没法计算，而「人类在 2050 年登上火星的概率」，加上时间设定「2050 年」，就可以计算概率了。

第二点限定，从可能性的视角出发。要么，是这事儿还没发生，比如「明天下雨的概率是多少」，明天还没到，我们只能从可能性的角度提问。要么，是这件事已经发生了，但我还不知道，比如「现在我家地底下有石油的概率」，现在我家地底下有没有石油，这是个客观事实，只是我不知道，也可以预测概率。你看，不管是这件事还没发生，还是单纯的我不知道，只要是我还不确定结果，就可以从可能性的视角提出问题，度量它的概率。

第三个设定，对某个发生结果的陈述。也就是说，陈述的必须是一个随机结果，而不是不确定性。上一讲说了，随机不等于不确定，概率论能解决随机问题，但不能解决不确定的问题。

只要按照上面三个设定表达 —— 第一，限定一个条件；第二，从可能性的视角出发；第三，对某个发生结果进行陈述，任何事情都可以变成随机事件。再结合刚才「发生可能性大小的定量描述」，我们就明白了概率的第一层意义 —— 概率，是对随机事件发生可能性大小的定量描述。

知道了「概率是对随机事件发生可能性的定量描述」，我们就会面临一个新问题 —— 这种定量描述是怎么来的？你可能会说，就是那些让人头大的复杂计算呗。没错。但我要告诉你，计算虽然复杂，但它们背后的思路却是一致的，就是计算随机事件在样本空间的比率。这里又有了一个新概念 —— 样本空间。其实很简单。一件事儿可能发生的所有结果，就是这件事儿的样本空间。在数学上，常常用集合来表示，所以叫「空间」。

比如抛硬币，结果不是正面就是反面，那么「结果是正面」和「结果是反面」就构成了抛硬币这件事的样本空间。再比如，每届世界杯有 32 支球队参赛，虽然我们不知道谁会夺冠，但夺冠的队伍无外乎就这 32 支，这 32 个结果就构成了世界杯冠军这件事的样本空间。是不是很简单？

在集合的定义下，随机事件是样本空间的一个子集，属于样本空间的一部分。拿掷骰子来说，每次掷骰子可能的结果有几个呢？6 个嘛，就是 1 点、2 点、3 点、4 点、5 点、6 点。这六个结果，就构成了掷骰子这件事的样本空间。不管是像「点数是 1」「点数是 2」这样单一的不能再分的结果，又称为「基本事件」，还是「点数是偶数」「点数是奇数」这样一组结果的集合，都是样本空间的一个子集，都是样本空间的一部分。换句话说，随机事件就是样本空间的一个子集；反过来也成立，样本空间里的每一个子集，也都是一个随机事件。现在你明白「随机事件」和「样本空间」的关系了吧？就是子集和全集的关系。

而子集和全集的比率，也就是随机事件占样本空间的比率，就是这个随机事件发生的概率。掷骰子，样本空间是 1-6，共六个结果，掷到 1 点的概率，就是 1 这个结果在总共六个结果中所占的比例，也就是 1/6。正因为是个比率，所以概率是没有单位的，就是一个数。

有了这层含义，我们就能推导出概率的三个性质 —— 1）概率永远在 0 和 1 之间，不可能是负数。2）样本空间里所有基本事件概率之和是 1。样本空间就是所有可能发生的结果的集，它们的概率加一块必然是 100%，也就是 1。一定不会出现样本空间里所有基本事件的概率之和小于 1 或者大于 1 的情况。3）某个随机事件不发生的概率，等于 1 减去这件事发生的概率。比如，世界杯巴西队夺冠的概率是 21%，那巴西队不夺冠的概率就是 `100%-21%=79%`。

当然，在数学定义中，概率有一个完整的公理体系，我这里就不一一说了，你了解这三个基本性质就可以了。

1『上面的信息补充进主题卡「概率」里去。（2021-02-10）』——已完成

### 0103. 主题卡 —— 精度误差和置信度

如果你认真听肯定会发现，我在说大数定律的时候，都会加一句限定 ——「重复的次数足够多、积累的数据足够多」。可问题是，「足够多」到底是多少呢？事实上，大数定律是一个数学上「无限」的概念，类似于「无穷大」「无穷小」，是永远也无法触达的。在现实中，无限，臣妾真的做不到啊。

所以，为了让这么有用的大数定律在现实中真正发挥作用，就必须做一些限制条件，让需要重复的次数，或者采集的数据量变成有限的。对于这个问题，数学家专门设置了两个概念：一个叫「精度误差」，另一个叫「置信度」。听着很高大上，但我一解释你就能明白。

大数定律告诉我们，数据或者试验越多，频率就会越接近概率。当然，只是接近，在真实概率上下浮动。这种浮动的范围就是「精度误差」。比如，前面那些数学家们抛硬币的结果，并不是刚好等于理想的 50%，这个和理想值之间的差距，就是精度误差。假如你抛出正面朝上的频率是在 47-53% 之间，那么精度误差就是 +-3%。针对这 +-3% 的误差率，我做 100 组试验，或者统计学上叫 100 组样本，如果有 95 组样本算出来的频率，正好在这个精度误差的范围之内，我们就称之为 95% 的「置信度」。

1『大赞啊，通过这里例子算是基本明白置信度的概念了，之前一直迷迷糊糊的。精度误差和置信度，做一张主题卡片。（2021-02-12）』——已完成

你现在不理解也没有关系，这两个都是统计学的概念。你只需要理解一点 —— 通过这两个限定，容忍一定错误的发生，我们在用频率度量概率时，可以大幅减少试验的次数或者采集的数据量。比如，99.9% 的置信度和 2% 的精度误差，就可以把重复的次数从无限降低到 7000 次左右；如果把置信度下降到 95%，重复次数可以降低到 2500 次左右；如果再放宽点标准，把精度误差从 2% 变成 3%，试验次数可以下降到 1000 次左右。

今天，95% 的置信度已经成为许多学科，比如经济学和医学的实际参考标准。民意调查也常常将 95% 的置信度和 3% 的精度误差结合在一起，选择调查人数。本质原因就是我们刚才说的，在保证实用性，也就是概率相对准确的情况下，大幅度降低试验或者样本采集的数量。

你看，当我们试图通过频率来测量概率的时候，数学上完全理想的效果是无法达到的。我们必须在保证概率的精度，和减少工作量之间进行取舍。现实中，几乎所有的数据调查和统计结果，一方面，都是基于用频率来测量概率这个底层逻辑；另一方面，也都要进行相应程度的妥协。

### 0104. 主题卡 —— 整体不需要对局部进行补充

这种整体对局部的约束作用，是怎么进行的呢？很多人会有一种朴素的想法，叫作「补偿思维」。举个例子，当硬币连续抛了 10 次都是正面朝上后，很多人就认为，下一次反面朝上的概率肯定得更高一些。因为只有这样才能补偿不平衡的状况，要不然怎么保证最终硬币正面朝上的概率还是 50% 呢？看起来很合理，但我要告诉你的是，这种思维是错的。整体不需要通过补偿来对局部产生作用，大数定律并不通过补偿来实现。

1『关键信息来了，整体不需要对局部进行补充，即大树定律并不通过补偿来实现。做一张主题卡片。（2021-02-12）』

还是刚才的例子，假如抛硬币前 10 次都是正面，那想让正面朝上的概率稳定在 50%，后面是不是得抛出更多的反面来补偿呢？不需要。比如，我们再抛 1000 次，假设 500 次正面，500 次反面，没有补偿吧？现在正面的频率是多少呢？510 除以 1010，下降成了 50.50% 了。抛 10000 次，假设 5000 次朝上，5000 次朝下，还是没有补偿，这时候正面朝上的频率，就变成了 50.05%，非常接近于 50% 了。

打个比方，把一勺糖放在一杯水里，你会觉得很甜，可是放到大海里呢？海水的味道几乎不会有任何改变。我们并没有把糖从大海里取出来，糖仍然在，只是大海里的水太多了，一勺糖对它的影响就被削弱，小到可以忽略不计了。就像网上被大家吐槽的，五块钱的玛莎拉蒂跑车的优惠券，优惠五块钱，对买玛莎拉蒂跑车没影响呀。

明白了吧？大数定律不会对已经发生的情况进行补偿，而是利用大量的正常数据，削弱那部分异常数据的影响。正常数据越多，异常数据的影响就越小，直到小到可以忽略不计。

可问题是，我们怎么保证未来一定有大量的正常数据呢？换句话说，整体的确定性到底是如何保证的呢？这就要涉及到另一个词 —— 均值回归。

均值回归的意思是说，如果一个数据和它的正常状态偏差很大，那么它向正常状态回归的概率就会变大。现实中，均值回归的例子很多。比如，身高特别高的人，孩子往往不如他高；连续几年超高收益率的基金经理，后几年往往神奇不在…… 怎么理解这种现象呢？

其实，均值回归更准确的叫法应该是「趋均值回归」，趋向均值的方向回归。所以它产生作用的对象，是那些特殊的、异常的、极端的数据。这些异常的状态是没法长期持续的，所以回归正常值的概率会变大。不过，至于是比正常值稍微高一些，还是稍微低一些，都有可能，完全是随机的。

比如，一个同学正常的数学水平是 80 分，这次超水平发挥考了 100 分，下一场考试，他大概率考不到 100 分，但可能考 90 分，可能考 80 分，也可能考 70 分。这些都比 100 分正常，都更接近他的真实水平，所以都是均值回归。而不是说上次考 100 分，这次只能考 60 分、50 分来补偿上次的高分。

总之，大数定律不需要补偿，而是通过均值回归，通过产生大量的正常数据，削弱之前异常数据的影响。明白了这个道理，再去审视我们的生活，很多现象就好理解了。比如我们经常会说一些俗语，运气不好的时候，会说「三十年河东，三十年河西」；打牌或者玩游戏连着输的时候，会说「否极泰来」。怎么理解这些话呢？

严格地说，都有一定的道理，但又都不全对。为什么说有一定的道理呢？因为它们蕴含了朴素的概率思维，知道在大多数情况下，不正常的状态难以持续。正常情况下，谁的运气也不可能一直坏嘛。为什么说它们不全对呢？因为不管是「三十年河东，三十年河西」，还是「否极泰来」，背后都蕴含着刚才我们说的补偿思维，认为三十年河东后，之后三十年一定河西；「否极」后一定会「泰来」，一定有好运气。

而我们现在知道，大数定律不需要通过补偿来实现。极度的坏运气过后不一定就有好运气，而是通过均值回归，让运气回到不那么坏的正常状态。所以更准确的说法应该是，「否极」后，可能「泰来」，也可能是回到运气不好不坏的状态，都有可能。

### 0105. 主题卡 —— 中心极限定理

要说一个东西合法，就得有东西给它提供证明。对于一个政府来说，这个证明可能是宪法；对于一个人来说，这个证明可能是各种证件；而在数学领域，合法性来自于严格的数学证明。只有被证明了，数学家才会说这个东西是合法的。

正态分布有数学证明吗？有的。它就是我们标题里说的「中心极限定理」。中心极限定理的表达方式有好几种，但核心的数学性质只有一条 —— 大量独立的随机变量相加，无论各个随机变量的分布是怎样的，它们相加的结果必定会趋向于正态分布。换句话说，正态分布是必然产生的。而这个证明源于严格的数学推导，是一定正确的。所以我们可以说，正态分布的合法性，是 100% 正确的，是牢不可破的。

中心极限定理是怎么来的呢？是谁天才的证明了它呢？这得回到上一讲讲到的高斯用正态分发现谷神星的故事。1801 年 1 月，天文学家发现一颗从未见过的天体在天空中缓缓移动。6 个星期后，它又消失得无影无踪。现在我们知道它就是谷神星，但在当时，天文学家们是很懵的。仅仅依靠这六周的观测数据，根本没法锁定它的轨道。最直接的困难就是，观测数据太少了。6 周看起来很长，但只占谷神星公转周期的 2%，根本没法靠这 2% 的数据确定轨道。

不过这还是次要的。更重要的问题是，我们在观测的时候会有各种各样的误差，仪器有误差、肉眼有误差、数据记录有误差…… 如果不能找到误差的规律，这些误差叠加到一起，就可能会让预测偏差非常大。所以这件事的关键就变成了，寻找这些各种各样的误差中存在的规律。虽然科学家们知道，误差都有正常范围，同一种误差，特别大和特别小的概率都很低。但不同类型的误差叠加起来是什么样，科学家一直不清楚。大数学家拉普拉斯也是卡在了这个问题上。

高斯是怎么解决的呢？首先，他做了个大胆的猜测，假设误差分布的最大可能性就等于这些误差的平均值。然后，再想办法找满足这个假设的函数。结果意想不到的事情发生了，恰好满足这个假设的函数只有一个，就是我们现在看到的正态分布公式。高斯就是基于这个正态分布公式，算出了谷神星的位置，名声大震。

坦白地讲，高斯这个推导过程逻辑上是有些问题的。首先，他假设误差的最大可能性恰好等于平均值，推导出了正态分布公式；接下来，他又用正态分布公式计算出，误差的最大可能性恰好等于平均值，然后才有后面的计算。这多少有点循环论证的意思。所以很多科学家说，高斯是猜到了上帝的意图。注意，是「猜到了」。

而我们这一讲的主角 —— 数学家拉普拉斯，看到高斯的正态分布公式后豁然开朗，最终用严谨的数学推导出了中心极限定理。也就是说，不仅证明了正态分布产生的方式，还揭示了正态分布普遍存在的原因。换句话说，中心极限定理是因，正态分布是果。因为中心极限定理存在，所以正态分布才必然正确。

打个比方，高斯提出的正态分布公式像喜马拉雅山，而拉普拉斯的中心极限定理就像青藏高原。没有青藏高原这个坚实的基础，喜马拉雅山可能只是一条普通的山脉；有了青藏高原，它一跃成为全球最高耸的山脉。因为中心极限定理如此重要，所以它和大数定律一起，被称为概率论的两大「黄金定理」。

合法性，是神之为神的基础。中心极限定理就为正态分布提供了严格的合法性保证。由于这个保证来自于数学证明，所以说是无懈可击的。

2『中心极限定理，做一张主题卡片。（2021-02-14）』——已完成

### 0106. 主题卡 —— 泊松分布

首先，我们来定位一下这个问题。「五十年一遇」，转化为数学语言是指，长期来看，这样的大暴雨是平均 50 年发生一次。注意，这里的时空范围是「长期」。长期是多长？很长很长。我这不是玩文字游戏，而是提醒你注意 —— 对长期理解不到位，是概率问题的结果经常反直觉的关键。平均 50 年发生一次，会不会是每隔 50 年发生一次？有可能，但不一定。我们再设定一种情况，前 4 年每年都发生一次，之后的 196 年一次都没有，200 除以 4，还是 50 年一次，与「五十年一遇」并不冲突。

所以，真正的问题来了：当我们知道了五十年一遇这个长期的整体概率，注意是「长期的概率」，但我们想要知道的是，任何一段具体的、有限的时间内，比如 5 年之内，发生 1 次大暴雨的概率是多少？发生 2 次大暴雨的概率是多少？发生 3 次、4 次…… 任何你想知道的大暴雨的次数，它们的概率分别是多少，这时候这么办呢？

我们把问题再抽象一下，这一类问题其实是 —— 当我们知道了一个随机事件发生的整体概率，也知道这个随机事件发生的概率符合正态分布之后，那么在某一段时间或者空间间隔内，这个随机事件发生的次数的概率分布是什么呢？再说一遍，不是求解整体发生率，而是求发生次数的概率。

概率学家已经有了工具来对付这种问题，这个工具就是泊松分布。为什么是这个怪怪的名字呢？因为这个分布是大数学家泊松发现的，所以叫泊松分布。

我们先来看看泊松分布的公式 —— 

$$P(X=k) = \frac{λ^k}{k!}e^{-λ}$$

其中，e 为已知数学常量，k 为事件发生次数，λ 为单位时间内事件的平均发生次数。

对数学语言不熟悉的同学见到这个公式，会本能地心生厌恶，至少是拒绝的。其实，如果搞一个最美数学公式排行榜，泊松分布公式肯定能进前十名。当然，理解数学公式的美，和理解现代艺术的美一样，都需要一点背景知识。泊松分布的公式用语言表达就是：随机事件发生 k 次的概率，等于 lambda 的 k 次方除以 k 的阶乘，再乘以自然底数 e 的负 lambda 次方。

是不是已经晕了？不要着急，多看看上面的公式你就有感觉了。重点是要理解这个公式背后的思想。这里只有 3 个字母 —— 1）自然底数 e：这是数学常量，是已知的；2）k：就是随机事件发生的次数。在大暴雨的案例中，k 可以是 1 次大暴雨、2 次大暴雨、3 次大暴雨等等。3）lambda：是整体概率与要求解问题匹配之后对应的数值，这个数值是跟我们的问题联动变化的。在大暴雨的案例中，整体概率是 50 年 1 次，也就是 1/50。如果我们想知道接下来 50 年这个时间段暴雨次数的概率分布，那 lambda 就是 1。如果想知道 100 年，那 lambda 就是 1/50 乘以 100，相应的就变成了 2。要是想知道 5 年呢？1/50 乘以 5，这个数值就是 0.1。

就按「接下来 50 年」来计算吧，这时候 lambda 取值为 1。

K = 0，就是接下来的 50 年，1 次大暴雨都不发生的概率是多少？代入公式一算，答案是 37%。

K = 1，就是接下来的 50 年，发生 1 次大暴雨的概率是多少？代入公式一算，答案也是 37%。

K = 2，就是接下来的 50 年，发生 2 次大暴雨的概率。代入公式一算，答案是 18%。

其实，我们更关心的是，接下来 50 年发生 2 次和 2 次以上「五十年一遇」的大暴雨的概率是多少。就是用 1 减去发生 0 次的概率和发生 1 次的概率，1 减去 37%，再减去 37%，答案是 26%。也就是说，在「五十年一遇」的整体概率下，在接下来 50 年里发生 2 次或 2 次以上大暴雨的概率是 26%。所以在比较短的时间内发生 2 次这种「五十年一遇」的大暴雨，可能并不是什么小概率事件。仅仅用 2 次大暴雨就否认市政部门的解释，是证据不足的。

2『泊松分布，做一张术语卡片。（2021-02-14）』——已完成

通过大暴雨这个案例，我们可以了解泊松分布的两个重要的数学性质。

数学性质一：泊松分布是正态分布的一种微观视角，是正态分布的另一种面具。在大暴雨的案例中，如果我们不断地计算各种时间间隔和大暴雨不同发生次数的概率，把这些画在一起，你就会看到泊松分布的曲线越来越像正态分布。下面这张图清晰地展现了，泊松分布是如何通过参数变化一步一步演化为正态分布的。

数学性质二：泊松分布的间隔是无记忆性的。注意，不是说泊松分布是无记忆的，而是泊松分布的间隔无记忆。什么叫无记忆性呢？就是之前的情况对之后的情况没有影响。所以间隔的无记忆性就是指，前一间隔中随机事件是否发生对后一间隔中随机事件是否发生没有影响。

在城市大暴雨的案例中，如果去年发生了一次大暴雨，那今年发生大暴雨的概率会变成多少呢？按人类的直觉，大暴雨是平均 50 年发生一次，刚刚发生了一次，接下来一年就不会再发生大暴雨了，概率是 0。但是，这个看法是不对的。这又是概率反直觉的一个例子。今年发生了大暴雨与明年的大暴雨，相互没有影响，用概率论的术语就是「相互独立」。

像连续大暴雨这种小概率事件扎堆出现的现象，看起来很反直觉。但现在我们知道，由于泊松分布间隔的无记忆性，所以一定存在一些短间隔和长间隔，而且它们很难一长一短、一长一短这样有规律的出现，而是会混杂着出现，否则就不叫随机了。如果恰好连续遇到短间隔，我们就会感觉这事扎堆出现。你看，其实一点也不稀奇。

理解了泊松分布的数学性质，我们就可以开启另一个重要的话题了 —— 泊松分布开启了统计推断的大门。

统计推断是什么意思？我们回看一下对大暴雨问题的解决思路。我们要解决的问题是，连续 2 年大暴雨是不是正常的。正常的意思是说，这不是一个小概率事件。如果是正常的，那就不能说城市下水系统的建设有问题。这个问题的困难在哪儿呢？数据太少。我们没有 1000 年的降雨资料，即使有 1000 年的数据，在长期、无限面前也是个渣渣，还是太少。所以要解决这个问题，就得改一个思路。

同样的，比如物理学家要研究放射性物质的半衰期。可是，绝大多数物质衰变期极长，长到我们没法直接测量。比如铋 209 原子的半衰期是 1.9x10 的 19 次方年，如果你盯着一个铋原子，想看到它衰变，可能看到宇宙毁灭都够呛。这时候数据太少了，连一个完整的衰变周期都观测不到。怎么办呢？我们可以假设衰变是服从正态分布的吗？当然可以。但是，连一个完整的衰变周期都看不全，怎么去验证这个假设呢？

用泊松分布解决。找一堆铋 209 原子，统计一下在几个确定的时间间隔中，这堆原子有多少个发生了衰变。只要这个数字服从泊松分布，反过来就证明铋 209 原子的衰变服从正态分布，就可以用正态分布直接计算。利用同样的原理，科学家们成功完成了像 DNA 的突变次数、外太空某个区域内恒星的数量等一系列科学问题的计算，推动了物理学、生物学、天文学等科学领域的发展。

在这些问题的解决中，统计数据和概率论的概率分布就被连在了一起。通过这种连接，我们对这些事情做出了科学的推断。到这里，统计学完成了一次跨越 —— 在泊松分布之前，概率和统计是两个不同的学科。概率研究未发生的随机事件，统计描述已发生的现实。换句话说，那会儿只有描述统计，没有推断统计。泊松分布开启了推断统计的大门，第一次把概率和统计连接在一起，不仅让统计学变得更有力量，也促进了其他科学的发展。

### 0107. 主题卡 —— 贝叶斯公式

既然是说计算，我就可以直接说贝叶斯公式了。贝叶斯公式的数学表达是 ——

```
P(A|B) = P(B|A)xP(A)/P(B)
```

翻译过来就是，现象 B 出现的情况下事件 A 发生的概率，等于事件 A 发生时现象 B 出现的概率，乘以事件 A 发生的概率，再除以现象 B 出现的概率。

公式记不住不要紧，推荐你做个小卡片放在兜里，需要时随时拿出来看看。用小卡片帮助记忆这件事，一点儿不丢人。爱因斯坦就记不住水银密度的数值，被中学生问到时当场说自己不记得；美国的实习医生也都是随手拿着平板电脑，随时查阅。

总之，一共四个数，计算过程就是用右边三个概率数求左边的概率。非常简单，要不怎么说是小学四年级的数学水平呢？但是到这里，我们要先解决一个问题：为什么需要三个概率值才能计算呢？看起来这么奇怪的公式到底是怎么得来的呢？

这说起来就有意思了。贝叶斯公式是由一个叫贝叶斯的老先生提出来的。这位老先生主业是牧师，副业才是搞数学。结果在数学上搞出了名堂，提出了贝叶斯公式。当然，你别误会，这公式也不是贝叶斯凭空创造的。还记得前面讲过的条件概率公式吗？贝叶斯老先生就是挑灯夜战，长期凝视条件概率公式后，突然灵机一动，对条件概率公式做了个变形，结果就整出来了这么个东西。

条件概率公式为 `P(B|A) = P(AB)/P(A)`，所以 `P(AB) = P(B|A)xP(A)`。改变 A 和 B 的顺序得到，`P(BA) = P(A|B)xP(B)`。

P(AB) 是 AB 同时发生的概率，和 P(BA) 是一样的，带入条件概率公式，就得到了著名的贝叶斯公式：

```
P(A|B) = P(B|A)xP(A)/P(B)
```

刚提出来的时候，贝叶斯公式并没有引起太大的轰动；反而是等贝叶斯去世了之后，人们才发现这个公式越来越好用。原因很简单，它能解决上一讲说的逆概率问题。逆概率问题那么多，总得能计算吧？就像计算三角形面积一样，总得有个公式吧？贝叶斯公式就是干这个的。贝叶斯公式的伟大意义就在于，对于逆概率这种难搞的概率问题，我们从此有了简洁的计算公式。

总之，记住一句话 —— 从数学上，贝叶斯老先生并没有发明任何东西，他只是对条件概率公式做了简单变形。如果你相信条件概率公式，就得坚信贝叶斯公式也一定正确。

2『贝叶斯公式做一张主题卡片。（2021-02-14）』——已完成

解决了贝叶斯的正确性问题和目的性问题之后，现在我们来解决操作性问题。要想真正理解它，我们就得对它做个拆解，知道它每一部分都代表什么。就拿酒驾这件事来说吧。我们都知道，酒驾是很危险的，那一个人酒驾时出事故的概率到底是多少呢？现在，我们回顾一下贝叶斯公式。再回顾一下贝叶斯推理的过程，根据看到的新现象或信息调整随机事件的概率。两相对照，你就明白公式里每一部分都代表什么意思了。

这里的 B，就是看到的新现象或者新信息，也就是「酒驾」；而 A，就是和现象 B 相关的随机事件，也就是「出现交通事故」。自然的，公式的左边 P(A|B)，就是在酒驾的情况下发生交通事故的概率。这是我们要求的，不多说。

公式的右边呢？P(A)，就是发生随机事件 A 的概率，也就是出现交通事故的概率。这个概率，又叫作「先验概率」。「先验」就是先于经验，「先验概率」就是在看到新现象、重新计算之前，基于经验甚至主观猜测得到的概率。既然是基于经验和主观猜测，所以先验概率的设置当然就可以任性。就像前面提到的，判断迎面而来的人是男是女，最开始，这个概率的设置不重要，50%、60%，或者是 70%，都可以。毕竟，贝叶斯是一个反复的过程，后面总能通过一次次调整，一步步逼近真相。

不过话说回来了，虽然先验概率的设置可以任性，但如果和真实情况相差太远，肯定要经过更长的计算过程才能获得相对靠谱的结果，事倍功半。所以，先验概率的设置还是越贴近现实越好。可以遵循三点 —— 1）相信历史数据。比如判断一支球队比赛获胜的概率，最好去看它和这个对手的历史交手记录；没有这个数据，就去看它最近和别的对手比赛的数据。2）参考专家意见。如果很难找到历史数据，那就去寻找专家的意见。3）平均设置概率。如果既找不到数据，又找不到专家，就可以平均划分概率，总不至于偏得离谱。

说完了 P(A) 这个先验概率，我们再看公式右边的 `P(B|A)/P(B)`。这两个数叫作「调整因子」。还是拿刚才酒驾的例子来说吧 —— 酒驾时出交通事故的概率，就是已知是酒驾，问出交通事故的概率。这里，酒驾就是现象 B，出交通事故就是随机事件 A，所以 P(B) 就是人们酒驾的概率，而 P(B|A) 就是在出现的交通事故中司机酒驾的概率。比如每 10 起交通事故，平均有 3 起司机是酒驾的，那 P(B|A) 就是 30%。

1『这里对自己特别有用的信息是把 `P(B|A)/P(B)` 单独领出来，作为一个「调整因子」，一下子豁然开朗。（2021-02-14）』

这里一定要注意，P(B|A) 和 P(B) 这两个数一定是客观的，必须找到具体的客观值，而不能拍脑袋随便设定。有多少人上路行驶，有多少人是酒后驾驶，又有多少交通事故里司机是酒驾的，这些数据我们都不清楚。不清楚就要去查，去交通部门、国家统计局这样的权威部门查统计资料。只有查完了，才能客观地确定调整因子的大小。

像交通事故中有多少司机是酒驾的，这很好找，拉出交通事故的数据一查就知道了。开车上路的平均事故率，也不难找，交通部门都会统计。

真正困难的，是确定酒驾的概率。因为酒驾有人被查到了，有人没被查到，这怎么算呢？其实，有一个替代数据可以参考，就是交警经常组织的酒驾检查。你可以把它想象成随机抽样，用检查到的酒驾司机的数量除以检查车辆的总数，大致就是酒驾的概率。贝叶斯计算难度不是在计算本身，而是寻找调整因子的客观数据。

有些数据虽然找起来费劲，但只要下功夫，就肯定能找到。但有些事儿，我们完全就找不到这些数据。比如说表白这件事，如果你问我，「刘老师，我如果对一个女孩表白，期间女孩一直深情的盯着我，请问我这次表白成功的概率是多少呢？你不是说贝叶斯很万能吗？能不能帮我算算？」不好意思，没法算。

在这个例子里，现象 B 是女孩一直盯着自己，随机事件 A 是表白成功。我们要求的，是看到表白过程中女孩一直盯着自己的现象后，问表白成功的概率。P(B)，就是女孩盯着男孩的概率，而 P(B|A) 是在所有表白成功的案例里，女孩盯着男孩的概率。很明显，这些根本没有人统计过，压根找不到数据，自然就没法算。在处理类似问题的时候，就不能生搬硬套使用贝叶斯公式，算也是瞎算，可能越算越错。也因为目前不能准确计算，只能靠经验评估，所以一些所谓的「情感专家」「恋爱高手」才那么有市场。

不过对于这些问题，数学家也有办法，就是机器学习。它的思路是反着来的。拿让机器识别猫和狗来说吧，我们给机器看成千上万张照片，告诉机器「这只是猫」「那只是狗」。注意，一定要告诉机器结果。只有这样，机器才会根据结果反过来改变调整因子，最终让调整因子逼近现实，从而得到越来越靠谱的判断。这个不断看照片的学习过程，就叫「大数据训练」，或者叫「大数据喂养」。

1『看到这里的信息，个人对机器学习的理解又加深了。这里提到的对应于「监督式学习」，训练的时候直接告诉结果，通过结果反向去获取贝叶斯公式里的「调整因子」。（2021-02-14）』

而对于一些更极端的概率问题，比如疫情什么时候结束？第三次世界大战什么时候爆发？下一次金融危机什么时候出现…… 这时候，连基本的数据都没有，我们该怎么办呢？老实说，没有太好的方法。不过雷·达里奥在《原则》这本书里提到的一个决策方法可以借鉴，就是赋予每个人决策的权利，然后给每个人的判断赋予不同的权重，专家的权重高一些，普通人的权重低一些，然后把所有人的判断结果加权求平均。这个方法或许不能保证正确，但一般不会错得很离谱。

总之，贝叶斯公式一共四个数，左边就是我们要求的，右边一个是可以随意设定的先验概率，另外两个是必须客观的调整因子。查资料确定调整因子是计算的关键，如果瞎猜或者查得不对，很可能越算越错。

### 0201. 术语卡 —— 随机

印象：随机指不可预测性，且随机不等于不确定性，两个概念。

生活里，你肯定经常用到「随机」这个词。听歌选择随机播放时，你的意思是说，我不想知道接下来播放哪一首歌，机器帮我挑一首就行。逛街被拦下填写问卷时，对方会告诉你，他们是随机选择的，事先并不知道会选中你。打篮球投篮时，我们说这次投篮是否命中是随机的，无法预测……

我们常常用到随机这个词，但你说，到底什么是随机呢？发现了吧？我们似乎模模糊糊知道随机是什么，可是真要解释一下，好像又不太能说得明白。其实不光你说不明白，数学家们争论了这么多年，也没法给出个统一的定义。他们能达成的唯一共识就是 —— 随机就是不可预测。我们说一个事情是随机的，指的就是它发生的结果不能被预测。

2『随机，做一张术语卡片。（2021-02-10）』

很多人，包括大部分书籍文章，都会告诉我们：随机是不可预测，而不可预测就是不确定，所以随机性和不确定性是一回事。但事实上，这两个概念并不相同。随机性和不确定性最大的差别就在于，这个事件可能出现的结果是否可知。简单地讲，随机性是这个事件可能出现的结果我都知道，只是不知道下一次会出现哪个结果。随机播放音乐，虽然不知道接下来会播放哪一首，但歌单里总共 10 首歌，下一首肯定是这 10 首里的一首。在街上被拦下，对方不知道被选中的一定是你，但是「每走过 10 个人就拦下一个」的规则是提前设计好的，被选中的一定在这路过的 10 个人里。打篮球时虽然不知道下一次投篮会不会命中，但只有投中和投丢两种可能的结果。你看，可能的结果都是可知的。

而不确定性，是我连可能出现结果的选项都不知道。比如，我今天出门会发生什么事情，这就是不确定性，而不是随机性。因为可能发生的事太多了，堵车、下雨、碰到熟人、捡到钱…… 都可能发生，根本没法穷尽所有可能的结果。而只有知道了全部可能的结果，才能分析它们的概率；不知道可能的结果，就没法深入研究。所以说，概率论面对和处理的是随机性，而不是不确定性。随机事件结果选项可知的特性，是概率论发挥作用的基础。

本质上，不确定性包含随机性，随机性是不确定性的一种类型。拿我们熟悉的黑天鹅和灰犀牛这两个概念来说。作为无法预知的意外事件，黑天鹅就是不确定性。因为新风险的类型无法知晓，这种事情没法用概率描述。而作为可以预见的潜在风险，灰犀牛就是随机性。因为灰犀牛是已知的，你知道它很可能发生，只是不知道什么时候发生，这就是随机性。所以说，黑天鹅不是概率论讨论的内容，而灰犀牛却属于概率论研究的范畴。

1『这里才算明白之前听过的灰犀牛的概念，黑天鹅指代不确定性，而灰犀牛指代随机性。（2021-02-10）』

当然，很多不确定性是可以转变成随机性的。比如「我今天出门会发生什么事」这个问题，可能的结果没法穷尽，是个不确定性的问题。但如果把问题修改一下，「今天出门遇到的第一个人，是我认识的还是不认识的呢」，就把不确定性的问题变成了随机性的问题，变成了可能遇到认识的人和不认识的人的概率问题了。尽量把不确定的问题，转变为随机的问题，用概率去研究，就是对付它们的科学方法。

### 0202. 术语卡 —— 无标度

幂律分布，你可能不太了解，但你肯定听过一个词，叫「二八法则」。比如全社会 80% 的财富集中在 20% 的人手里，一个行业 80% 的市场被 20% 的头部公司占据，一家公司 80% 的生意来自 20% 的重点客户…… 二八法则，其实就是幂律分布最直观的表现。

下面就是一张幂律分布的图 —— 图里横坐标，代表随机变量的取值；纵坐标，代表发生的概率。而幂律分布就是一条向下的曲线，拖着一个长长的尾巴。它的含义也非常明确 —— 在随机变量中，越小的数值，出现的概率越大；越大的数值，出现的概率则越小。虽然幂律分布无处不在，但它的数学特征只有一个，就是无标度，也叫「无尺度」「尺度无关」。不管怎么叫，意思是一致的 —— 在任何观测尺度下，幂律分布都呈现同样的分布特征。

1-2『无标度跟「分形」很相似啊，此时才算理解了什么是无标度，网络科学里看到过这个概念。无标度，做一张术语卡片。（2021-02-14）』

一般的分布都会有个尺度范围，在这个范围内服从这个分布，超过这个尺度可能就不服从这种分布了。而幂律分布没有尺度的限制，不管截取任何一个部分，都仍然呈现幂律分布的特征。比如，图书销量是服从幂律分布的，最畅销那本书的销量在前 10 名销量中占的比例，和前 10 名的销量在前 100 名的销量中占的比例，和前 100 名在前 1000 名的总销量中占的比例，大体都是相同的。这就是幂律分布唯一的数学特征 —— 无标度。

### 0203. 术语卡 —— 假设检验

为了方便你理解，咱们先从一个「女士品茶」的故事说起。话说一个夏天的午后，英国剑桥的几个大学老师和他们的妻子，一群人在喝下午茶。突然，有一位女士说：我有一种超能力，一杯奶茶放在这里，只要尝一口，就能分清它是先加的奶还是先加的茶。在场的先生们哈哈大笑，这一定是你的幻觉。把茶加到奶里和把奶加进茶里，能有什么区别呢？但是，女士特别坚持，我就是能分清，你们怎么不信呢？就这样，事情僵在这儿了。怎么办？

科学证明的可信度当然是最高的。这件事能不能用科学方法直接证明呢？这确实是个思路，但怎么实现呢？我们得先化验一下，看看把茶加到奶里和把奶加进茶里，两种液体的化学分子有没有区别吧？如果有区别，还得证明这位女士确实能感知这种区别吧？这一通证明做下来，代价太高了，根本犯不上。有没有其他简单的操作方法呢？也有。

我们可以先假设「这位女士不能品尝出区别，全靠猜」，然后给她奶茶让她喝，看她能不能分辨出区别。先给她喝一杯，结果这位女士说对了。这好像没什么，就一杯嘛，猜也有 50% 的概率猜对。我们不能相信她。再给她喝一杯，结果女士又说对了。如果靠纯猜，连着两杯都猜对的概率是 25%。好像还是挺大的，还是不能相信。只能再给她喝第三杯、第四杯…… 结果，连喝六杯，女士都说对了。这个概率是多大呢？50% 的 6 次方，约等于 1.6%。也就是说，如果纯靠猜，女士连着六杯都猜对的概率只有 1.6%。这个概率太小了。就像一个学生，考试考了 98.5 分，你能说他的答案全是瞎写的吗？显然不能。同样的，我们当然也没有理由再去质疑女士，而只能接受相反的结论，认为「她确实能分辨出差别」。

2『虽然看书籍「2019099 女士品茶」后已经理解了假设检验，但这里还是做一张术语卡片。（2021-02-14）』——已完成

简单来说，如果能证明一个结论发生的概率特别特别小，我们就可以推翻这个结论，接受和它相反的结论。这个推断的过程就叫「假设检验」。

假设检验，包含假设和检验两个部分。首先，我们先选择一个假设，随便选择一个就行，然后再去验证这个假设。怎么验证呢？就看它会导致什么结果。如果它导致了一个发生概率非常低、非常不合理的结果，那这个假设就不成立，我们就推翻这个假设，承认和它相反的结论；如果这个假设没有导致不合理的结果，那我们就不能推翻它。

比如女士品尝，先假设「女士不能品尝出差别，全靠猜」，然后再去验证它。结果女士连着六杯都说对了，这个概率非常小，只有 1.6%，可以说几乎不会发生。这时候，不相信她不行了，我们只能推翻原来的假设，认为「女士确实能分辨出差别」。而如果女士六杯说对了四杯、错了两杯呢？显然，即使纯瞎猜，这个结果也是很可能出现的。就像抛硬币，连抛六次，出现四次正面、两次反面，很正常嘛。所以这时候，我们就不能推翻原来的假设，也就不能相信这位女士。

先假设再检验，这就是假设检验的基本思路。到这里，还有一个问题没有解决：什么时候能推翻原来的假设，什么时候不能推翻，总得有个标准吧？

确实有标准。很多情况下，这个标准都是 5%，在女士品茶的故事里，我们用的也是这个标准。就是说，如果概率超过 5%，打死我我也不相信这位女士；但如果概率低于 5%，我就相信她。其实，只要女士连续五杯都说对，这个概率就是 1/32，小于 5% 了。但当时那帮绅士的英国科学家，非要让她六杯都对才行，看来这些人对这位女士的要求挺苛刻的。

有了假设检验，我们就拥有了一把利器，能够穿越复杂的现象，收获一个个相对靠谱的结论。比如去医院检查身体，医生会先假设这个人没病，然后通过一系列检查，看看能不能找到患病的症状。像新冠肺炎，只要核酸检测是阳性，这个人没被感染的概率就很低，基本上就确诊了。这时候，医生只能放弃「这个人没有病」的假设，转而认为「这人患病了，赶紧想办法治疗」。如果核酸检测是阴性呢？那这个人没有被感染的概率很大，就不能推翻原来的假设。你看，不也是同样的思路吗？

其实不止这些，假设检验一诞生就席卷了各个领域，几乎成为现代医学、心理学、经济学、社会学，乃至计算机科学等学科研究的底层方法之一。

### 0301. 人名卡 ——

根据这些证据和案例，找出源头和提出术语的人是谁——产生一张人名卡，并且分析他为什么牛，有哪些作品，生平经历是什么。

### 0401. 金句卡 ——

最后根据他写的非常震撼的话语——产生一张金句卡。

### 0501. 行动卡 ——

行动卡是能够指导自己的行动的卡。

### 0601. 数据信息卡 ——

### 0701. 任意卡 —— 正态分布就是所有已知均值和方差的分布中，信息熵最大的一种分布

当然，要成为神，只有合法性和正统性还是不够的，还得具备第三个性质 —— 主宰性，得有能力主宰世界。而在数学家们看来，正态分布确实是世界的主宰。为啥这么说呢？可以从三个层次来看。

第一，正态分布普遍存在。中心极限定理告诉我们，只要随机事件有很多独立的因素共同作用，无论每个因素本身是什么分布，这个随机事件最终都会形成正态分布。所以说，正态分布具有普遍的意义。

世界上为什么会有这么多正态分布？就是因为很多事情都是多个随机因素共同作用的结果。比如，影响人身高的因素很多，营养、遗传、环境、族裔、性别等都有影响，这些因素的综合效果就使人的身高服从正态分布。影响考试成绩的因素也很多，自身的能力、家庭教育、智商、专注力，甚至考前的情绪、身体状况等也都有影响，但当这些因素加在一起，考试成绩就服从正态分布。

第二，所有分布最终都会变成正态分布。因为任何分布叠加最终都会形成正态分布，所以无论是对数分布还是幂律分布，无论是指数分布还是其他任何分布，只要自身不断演化，不断自己叠加自己，最终也一样会变成正态分布。或许我们可以这么说，所有的分布，不是正态分布，就是在变成正态分布的路上。

当然，现实世界里，影响一个随机事件的各种因素，不可能完全是理想状态下的相互独立，而是相互交缠、互相影响的，所以一切都还在演化的路上，所以我们身边依然存在各种各样的其他分布。正态分布很普遍，所有的分布都会变成正态分布，这已经表明正态分布的主宰性了吧？不。更重要的理由是 ——

第三，正态分布是世界的宿命。在中心极限定理之后，信息论领域发现了「熵最大原理」。也就是说，在一个孤立系统中，熵总是在不断增大。而巧合的是，正态分布就是所有已知均值和方差的分布中，信息熵最大的一种分布。如果熵不断增长是孤立系统确定的演化方向，那熵的最大化，也就是正态分布，就是孤立系统演化的必然结果。也许，正态分布就是被上帝选择出来的，就像光选择最短的路径传播、引力场物体沿测地线运动一样，没有什么道理可言。按照正态分布的钟形曲线分布和演化，就是每个随机事件的必然宿命，好像冥冥中自有定数。

2『正态分布就是所有已知均值和方差的分布中，信息熵最大的一种分布。做一张任意卡片。（2021-02-14）』——已完成

这正是正态分布的奇妙之处。很多看似随机的事件，竟然都服从一个如此简单的分布；而任何复杂的分布，最终也都会变成正态分布。就像是上帝的有意安排，主宰着一切，让你在纷繁复杂的世界背后，看到隐隐的秩序和最终的未来。

## 0000. 发刊词 | 学一门让你抓住未来的学问

发刊词里，我们要关注真正的大问题。现在，有两个问题摆在你面前：第一，概率论你要不要学？第二，我的这门概率论课你要不要学？

你觉得哪个才是真正的大问题？当然是第二个嘛。只要打开了发刊词，第一个问题其实就已经解决了。你肯定知道，要想了解当今的前沿科技，不管是大数据、人工智能，还是生物医药、基因编辑，都绕不开概率论。你肯定也知道，在量子力学层面，虽然爱因斯坦说「上帝不掷骰子」，但事实证明他错了。微观粒子的行为就是由概率决定的。随机、概率，就是这个世界的常态，是这个世界的底色。

你肯定更知道，未来是不确定的，只要涉及到选择，涉及到决策，就一定会用到概率思维。不管是想知道明天会不会下雨，出门要不要带伞；还是判断股市未来会涨还是跌，应该加仓还是卖出；不管是想知道新冠疫情什么时候会过去，还是老板交给你几个提案，要你选择收益最大的方案执行…… 所有这些，都需要正确的判断概率。所以，不学概率论，就没法看懂前沿科技，没法理解现实世界，更没法预知和抓住未来。概率论，一定要学。

### 01

但我知道，你肯定觉得概率论特别难。数学课，全是看不懂的公式、复杂的计算，想想都让人头大。这课我肯定听不懂啊。接下来我就要解决你的这个困惑，告诉你我这门概率课有什么特别的地方，为什么它值得你学习。

首先，我要告诉你的第一点是 —— 别担心，学概率论拼的不是数学，而是语文能力。单纯的概率计算，其实是非常简单的。为什么这么说呢？举个简单的例子你就明白了：

老王家先后有两个孩子，已知老大是女孩，问另一个是男孩的概率是多少？这很简单，老大的性别已经确定了，所以老二要么是男孩，要么是女孩，概率就是 1/2 嘛。但是，只要改变条件里的一个词，把「老大是女孩」变成「其中一个是女孩」，就改了一个词哦，这时候概率就变了。两个孩子，其中一个是女孩，就有「女孩男孩、男孩女孩、女孩女孩」三种情况，有男孩的情况有两种，所以另一个是男孩的概率马上就变大了，从 1/2 变成了 2/3。是不是很神奇？

1『所以，算概率的时候一定要把可能的情况都列处理出来，最小白的办法就是数数量，符合条件的个数处于总数量即可。这里就关联上了之前脑子里已有的有关概率的知识「数频次」。（2021-02-10）』

我举这个例子，其实就是想告诉你，好多概率题拼的都是语文能力，看你能不能正确找到条件、理解题意。很多人不会做概率题，都不是因为不会计算，而是因为没有审好题，没有正确理解题意。真正打败他们的不是数学，而是语文。而现实中，用概率思维进行决策的第一步，就是要把现实问题，变成一个对的概率问题。

所以，如果你语文能力过关，学习概率论就是很有优势的。只要语文过关，会基本的加减乘除四则运算，并且也认真听我讲了，就肯定能听得懂。这是我对你做出的承诺。

### 02

我要说的第二点是，我们每个人其实都有概率意识，只是缺少系统化。

生活里，朋友运气不好、接连倒霉的时候，我们会安慰他说，「否极泰来，坏运气总会过去的」；早晨出门，看到远处天边的朝霞，我们就知道未来很可能会下雨；投资理财，看到所有人都开始蜂拥着买股票、投基金，我们就知道「风险越来越大，该撤就要撤」。你看，每个人都有这种碎片的概率思维。

网上有个很有意思的段子：

班里成绩倒数第一的学渣找到倒数第二的学渣，说，一会儿考试让我抄抄答案呗？倒数第二的学渣很高兴，我还不是最差的，比学霸比不上，比最后一名还是强的。结果考试成绩出来，倒数第二变成了倒数第一，而倒数第一变成了中等。为什么呢？倒数第一说，排除了咱俩的答案，果然选对的可能性提高了。

连学渣都有碎片的概率思维，我们当然更有。只是它们零散的存在于我们的头脑中，缺少系统化的整理。而我的这门课，就是要替你完成整理工作，帮你把这些碎片拼结成完整的武器，去应对不确定的世界。整个课程，我会通过四个模块展开 ——

第一个模块，为你讲解概率论的四大基石 —— 随机、概率、独立性以及概率计算，并且带你学习概率度量的三种方法。争取用最短的时间，带你理解概率论的全貌。如果上帝在掷骰子，我们就看看他是怎么掷的。

第二模块，为你讲解概率论中最经典的频率法，也就是用频率度量概率。把大数定律、数学期望、方差，这些概率论中最重要，也最有用的知识，掰开揉碎讲给你。我们一起偷看上帝的安排，学会量化每一个随机事件和每一个选择的价值。

第三模块，带你了解在概率论中，我们认识世界的模型，也就是概率分布。你可能听过的正态分布、幂律分布、泊松分布，其实就是一个个模型，代表一个个规律。如果说上帝在掷骰子，我就带你看看上帝总共有多少种不同的骰子。

第四模块，为你展现贝叶斯方法的魅力，助你练就从有限的信息里猜测上帝底牌的能力。有了这种能力，你也就可以最大可能的理解未来、预测未来，并抓住未来。

### 03

我要说的第三点是，我这个课更关注通识，不关注公式。很多人看不懂数学公式，这个我其实特别理解。有句语说得好，「人生有三大境界，看山是山，看山不是山，看山又是山」。如果就以看山这件事来说 —— 数学研究的是「山」本身，数学家要用公式，精准的描述山上的一草一木、一沟一壑。而文科生，更关注「怎么看这座山」「怎么理解这座山」，是更加通识的视角。所以我这门课，不会过多的给你讲复杂的公式，而是用通识的视角，为你展现概率论这座高山的全貌。让你用最短的时间，快速了解概率论这个最年轻、最基础，也最重要的数学分支。

作为南京大学的副教授，我本科学的就是数学，概率与数理统计正好是我教学和科研的专业方向。可以说，概率论就是我的老本行。而且这些年来，我一直是南京大学商学院 MBA、EDP 的特约教师。把抽象的数学讲得听得懂、有意思，还能有启发，这事儿我擅长。未来，我就是你通往概率论、培养概率思维的桥梁。

### 04

最后，我给你一个学习地图。我们这门概率课，其实是整个「得到」课程的一个中心节点 —— 学这门课的同时，你可以出门左拐，学习一下吴军老师的《阅读与写作》课。刚才说了，概率计算不难，很多概率题考的都不是数学，而是语文。学好语文很重要。想继续摸索概率的应用，推荐你出门右拐，了解一下老喻的《人生算法》课。他课里的很多决策方法，背后原理都是概率论。如果还嫌不够刺激，想进一步训练自己的思维，你可以出门直走，去卓克的《密码学》课那里烧烧脑。

当然，如果你觉得这些都太难了，推荐你去我大学同班同学 —— 刘润老师那里，听听他的《五分钟商学院》。只要五分钟，保证听得懂。总之，在这次学习概率论、抓住未来机会的旅程中，我会一路陪着你，带你游览沿途的风景，带你避开路上的坑，也希望你跟紧我，不要掉队。

## 0001. 全局：从局部随机性到整体确定性

课程的第一讲，我想带你俯瞰一下概率论的全貌，先从整体上初步了解一下这门学科。你大概知道，北京奥运会主场馆是钢架密集的网络化连接，看起来就像个鸟巢。广州塔造型修长，动线旋转，所以被称为「小蛮腰」。如果把概率论比作一座大厦，它的整体形态是什么样的呢？

### 01. 一个现实的概率论问题

在回答这个问题之前，我先给你讲个概率故事。比如，你和女朋友一起看澳网男单决赛，费德勒对阵纳达尔，两个人势均力敌，普遍预测比赛结果 55 开。

你喜欢费德勒，网坛传奇，王者归来。可是，你女朋友不这么觉得，怎么看费德勒都是一个大叔，长得一般，打球好像也没那么劲爆，还是纳达尔好。你说费德勒技术全面，她说纳达尔长得帅；你说费德勒打法极具观赏性，她说纳达尔长得帅；你说费德勒优雅内敛，这就是网球运动的内在精神，她说纳达尔长得帅…… 你们谁也说服不了谁，就吵起来了。

薛兆丰老师在「阿罗不可能定理」中说，用钞票投票才是最好的选择。所以你们就说好赌一把，每人出 100 块钱，合起来 200 块。费德勒赢了冠军，这 200 块就归你；纳达尔赢了冠军，这 200 块就归你女朋友。我们知道，网球决赛是五局三胜制，只要赢三局，就赢得了最终比赛。你们俩就一起看直播，打完第三局，费德勒 2:1 领先。结果这个时候，小区突然停电了。你们光顾着争论，手机也忘充电了。总之，没法知道比赛结果了。

现在问题来了：在这样的状况下，要想结束这个讨厌的赌局，这 200 块该怎么分呢？

各自拿走自己的 100 块吧？你不干，你的费德勒领先，赢面大。200 块都归你？你女朋友不干，费德勒领先就一定赢吗？纳达尔也有翻盘的可能呢。按说，费德勒 2:1 领先，最后赢的可能性更大一些，你应该多分一点。这一点上，你们达成了共识。可是多分多少呢？你们又吵了起来。

### 02. 概率论如何解决问题

如果我是你们的邻居，听到你们的争吵，我会过来劝架。你觉得我会怎么办？拿起小黑板，直接公式推演？那就想多了，学数学的不是你们想象的那样。

我当然会对你说：「让着你女朋友不就得了，要这么麻烦吗？200 块，又不是 200 万。」这时候你不干了：「让着我女朋友当然可以，但这不解决问题。如果不是网球比赛，而是你和合伙人清算公司、评估资产然后拆伙呢？是你和投资人计算投资份额和利益分配呢？是保险公司和再保险公司解决复杂的风险分担问题呢？这些说让就能让吗？当然要搞清楚、讲道理啊。」

好吧，那就讲道理。比赛没结束，什么可能都会发生，在这个当下，比赛结果是个不确定的事情。怎么算呢？概率论就是解决这样的问题的。我们来分析一下 ——

假设费德勒和纳达尔实力相当，每局都是 55 开，也就是说，两人每局获胜的可能性都是 50%。一共 5 局，已经打完了 3 局，那后面 2 局就跟抛硬币一样。如果费德勒赢是正面，纳达尔赢是反面，可能的结果就只有四种 —— 正正、正反、反正、反反。其中，前三种结果都是费德勒最终赢得比赛，只有连续出现两次反面，也就是纳达尔连扳两局的情况下，他才能逆转获胜。总之，后两局所有的四种可能中，有三种情况费德勒获胜，只有一种情况纳达尔获胜。所以，你应该分 200 元的 3/4，也就是 150 元；而你女朋友应该分 1/4，也就是 50 元。

我讲完了，你和你女朋友肯定都无话可说，这个争执算解决了。现在，如果我们把这个问题深入一下：还是五局三胜，还是小区停电，只不过是在费德勒 1:0 领先的情况下停电了，这 200 块该怎么分呢？

一样的，我们还是全局看问题。把 1:0 后所有可能的结果列一下，看看有多少种结果是费德勒胜利，有多少种结果是纳达尔胜利。我直接说结果 —— 还有 4 局比赛，一共有 16 种结果，在这 16 种结果中，费德勒 11 次获胜，纳达尔 5 次获胜。换句话说，你应该分 200 块的 11/16，也就是 68.75%。

除了用来分钱，这个百分比还可以代表什么呢？你肯定想到了，它就是费德勒 1:0 领先的时候，最终夺冠的概率。费德勒 1:0 领先的时候，最终夺冠的概率就是 11/16，也就是 68.75%；而 2:1 领先的时候，费德勒夺冠的概率是多少呢？刚才说了，3/4，也就是 75%。你看，随着局势不断变换，他最终夺冠的概率也不断变化。

### 03. 概率论解决问题的思维框架

上面虽然是我虚构的故事，但它却从本质上揭示了概率论解决问题的思维框架。澳网决赛第四局谁会赢我不知道，最后谁都有可能拿冠军。这些事情就像，抛硬币我不知道下一把是正面还是反面，掷骰子我不知道下一把是什么数字，我不知道明天的股票会涨还是会跌，也不知道买的彩票会不会中奖一样。这些事情的结果都是随机的，是不可预测的，但在停电的这个当下，我们如何分这 200 块钱，却是确定无疑的。

概率论解决随机问题的本质，就是把局部的随机性转变为整体上的确定性。概率论的产生，让我们能对未来发生的随机的事情，做出数学上确定性的判断。这不仅是概率论的思想基石，也是概率论作为一种数学工具的基本思路。

2『局部的随机性转变为整体的确定性，做一张主题卡片。（2021-02-10）』——已完成

正是基于这种整体的、全局性的思考框架，概率论才成为众多学科的基础。同样的，对很多生活中随机的事情，概率论也能帮我们做出确定性的判断。

在量子力学中，我们都知道那只和 Hello Kitty 齐名的薛定谔的猫，虽然我们不知道那只猫下一秒是生还是死，但它生死可能性的叠加态是确定的；对冲基金中，我们不知道明天会涨还是会跌，但在基金公司的模型里，套利收益的预期是确定的；买彩票时，我们不知道明天开奖的数字是什么，但彩票公司这期彩票的收益率是确定的。或者一座城市，哪些家庭今天会要孩子、婴儿会在哪一刻诞生，这些都是随机的，但是从整体上来看，这座城市的出生率、每年新生儿的数量，却是大致确定的。

这就是概率论的全貌。可能会让你感到意外，概率论不是帮你预测下一秒会发生什么，而是为你刻画世界的整体确定性。某一次结果的随机，是低层次的事；而概率论，是高层次的、确定性的认知。

### 彩蛋时刻

最后，送给你个彩蛋：跟别人聊天时，怎么让人知道你是概率论的行家呢？跟他说说概率论的起源。教你三个词 —— 帕斯卡、16540729 和赌金分配。

第一个词：帕斯卡。

每个行业都有自己的祖师爷。要论概率论的祖师爷，排第一位的一定是帕斯卡。他和「费马大定理」的费马，一起发现了概率论。帕斯卡是个神童。神到什么程度呢？他 16 岁写了一篇论文，证明了圆锥曲线内接六边形的三对边延长线的交点共线。记不住没关系，知道这个结论现在被称为「帕斯卡定理」就行了。19 岁时，帕斯卡发明了现在我们用的计算器的前身 —— 数字计算器。20 来岁，提出了真空的假设，测量了气压随海拔变化而变化的规律。现在的气压单位「帕」，就是为了纪念他的贡献。

第二个词：16540729。

这个数字，是很多人认为的概率论诞生的时间 ——1654 年 7 月 29 日。为什么是这个日子？因为就在那天，帕斯卡给费马写了一封信，讨论了一个关于赌博的现实问题。因为这个问题，两个人又一来二去通了很多封信。那个时候没有微信，否则他们应该能为科学做出更多贡献。至少费马会有地方写他那个「费马大定理」的证明过程，也不至于折腾世界上这么多聪明绝顶的数学家 300 多年了。其实在同一时期，几乎所有知名的科学家都不约而同都卷入了对概率问题的讨论。在那个时候，科学家不知道具体什么时候会产生概率论这样一门学科，但概率论作为一门新鲜的数学，确实是呼之欲出的。

第三个词：赌金分配。

帕斯卡和费马在信中讨论的是什么问题呢？就是「赌金分配」问题。也就是，如果赌博还在继续，双方该如何分钱呢？和我们今天说的，你和你女朋友看澳网打赌分钱的问题是一样的。在概率论的历史上，这是一个奠基性的问题，也是被最广泛传播的问题。正是因为它的提出和被解决，概率论这门学科才正式诞生。

### 黑板墙

思考题：生活里，你还能举出哪些把局部随机性转变为整体确定性的例子呢？

下节预告：从下一讲开始，我们正式进入概率论的内容，分别看看概率论的四大基石是什么。

#### 01

想请教刘老师，如何证明概率论在现实中也是对的呢？在数学定义上概率论完备，而真实世界中如何确定概率真是如此（或是逼近如此）？概率论是一种数学上正确，现实观察也不违背的正确吗？还是其他版本的正确呢？困许久的问题，还请刘老师能指点迷津，谢谢

作者回复

这是一个非常好的问题。

我们能感受一个存在，叫「可能性」，从可能性的概念中，提出了「概率」，然后概率被严格化、理想化、抽象化，変成了一个 #数学对象 #，而数学对象是基于严格的证明推导，一定是正确的。

而概率在现实中的使用，是一种 #数学建模 #。把现实的问题数学化，从而可以使用完全正确的数学对象。

这就好比圆周率，是一个数学对象，表示圆形周长和直径的比率，这是完全正确的。你的问题是，P 的值在现实中真的是对的嘛？去测量任何

窨井盖，然后计算 P，你发现有些情况下是 3.14, 有的情況下是 3.15, 还有 3.13, 好像没有一次你能测量出 3.14159265. 原因是你的测量有误差，窨井盖也许不是标准圆，因为这世界就没有标准圆和足够精确的尺子。

但这不妨碍你使用 P 这个数学对象指导你现实中的数学建模，给生活带来帮助。P 依旧是完全正确的。

概率是数学对象，统计是数学建模，目前看，统计的结果又验证了概率对这个完全正确的数学对象对现实现象有解释力，简单的说就是对的。

当你把概率论和统计学分开，把现实世界的数学建模和数学对象分开，把数学公式和公式对现实解释分开，然后，你就知道所有的知识都是对现实的解释，所有能留存的知识，都是对现实解释的不错。知识都是工具，不仅帮你解释世界，也帮你认识世界，更重要的是打开你思想中一扇一扇门。是不是真的 #对#，那是上帝的事儿。

科学家所有的工作，就是去掀开上帝的底牌，而数学家给他们提供了一系列完全正确的工具。

#### 02

学习ー门课，最难的是什么？不是具体的一个个知识点，而是跳出书本划定的条条框框，搞清楚这门课的主线。也就是说，要用上帝视角来看待这门课。

举个例子，大家都熟悉的高等数学。高等数学研究的对象是函数，从极限、连续性，到导数、微分、积分，都是围绕着函数在做文章。而真正的主线呢，则是变化！正因为有了变化，才有了研究变化趋势的极限，有了极限这根树干，オ在上面开枝散叶，发展出了连续性、导数、微分、积分等一系列工具和概念。

再举一个大家可能没那么熟悉的复变函数与积分变换这门课。这门课我上过很多遍，但每次学生总是搞不清楚这门课到底要干什么？其实复变函数与积分变和概率论与数理統计很相像，复变函数是理论，积分变换是应用。积分变换在工科学生的专业课中应用广泛，而要掌握积分变換，就必须理解复变函数这个理论基础。那么，复变函数这门课的主线是什么呢？我形象地给大家解释，解析函数是这门课的骨头，复积分则是这门课的肉。

为什么复积分是肉？复变函数这门课的落脚点就是在于复积分怎么求解。第三章讲了柯西积分公式和柯西积分定理，目的是定义和计算复积分。第四章虽然讲的是复级数，但将复级数和复积分相结合，就可以得到第五章的留数这个重要工具。而留数是干嘛用的呢？还是为了更好地求解复积分。因此复积分是复函数这门课重点要解決的问题，而且积分变换中最重要的工具也是复积分。

为什么解析函数是骨头？虽然解析函数只是第二章的学习内容，但不管是第三章的复积分，还是第四章的复级数，亦或是第五章的留数，全都建立在函数的解析性这个基本条件上。可以说，解析性是贯穿这门课始终的一条隐藏的主线，不管哪部分内容，都离不开函数的解析性，因此我才说解析函数是骨头。

再回过头来看概率论，如何用上帝视角来看待概率论这门课呢？概率论这门课到底在研究什么？很多人可能会说是随机现象。这个没错，随机现象是概率论的研究对象。那么这门课的主线是什么呢？刘嘉老师提出了一个新颖的观点，概率论解随机问题的本质，就是把局部的随机性转变为整体上的确定性。

这是一个很具有哲学意味的解释，值得好好揣摩。比方，抛硬币，某一次抛硬币的结果可能是正面也可能是反面，是随机的。但是当你抛的次数足够多，出现正面或反面的概率总是 1/2.，这是随机事件的不确定性和概率的确定性。比方，掷骰子，某一次掷骰子的点数是随机的，但可能的点数总是在 1-6 之间，这是确定的。这就是随机事件的不确定性和样本空间的确定性。再比方，某班上同学的成绩，随便挑一个同学的分数是随机的，可能是 0-100 之间的任何值，但整个班上的平均成绩，又是确定的。买彩票时，开奖的数字是随机的，但这期彩票的总收益是确定的。这就是随机变量的不确定性和数学期望的确定性。

局部来看是随机的，但是整体来看又是确定的。短期来看是随机的，长期来看又是确定的。随机事件的发生、随机变量的取值是随机的，但样本空间、概率、数学期望这些概念又是确定的。不确定的随机事件或者随机变量我们不好研究，但是确定性的样本空间、概率、数学期望这些概念是容易研究的。

这就是概率论的主线，随机性和确定性，看似一对矛盾，实则相辅相成。搞清楚这一点，也就搞清楚了概率论解決问题的思维方式。

2『上面的一些信息补充进主题卡「概率论将局部的随机性转变为整体的确定性」。（2021-02-10）』——已完成

#### 03

我认为统计学的很多应用也是将部分随机转变为整体确定，依靠足够大量的看似随机无规律的数据，得出宏观的整体的确定性的规律或者判断。

作者回复：统计和概率是一对儿相爱相杀的情侣，所以现代数学三大基石之一叫概率与数理计。概率是統计的底层基础，而统计又在某些方面定义了概率。频率法严格来说就是统计学定义的概率。

#### 04

我有一个问题：在第一个五局三胜的例子里，我得到的结果是两人各自分走 2/3 和 1/3，因为我觉得如果第四局是费德勒球，就不会再有第五局了，所以我没打算把第四局和第五局放在一起考虑，而是分别按照 50% 的概率从第四局开始估计结果。我的思路是不是不对？

作者回复：对规则来说是这样，但对概率来说，必须是个完备的结果，也就是假设五局都得打完，那费天王第四局获胜后仍有两个结果，第五局输或者。这是概率论样本空间的完备性。

#### 05

看完了课程前关于 M 星球生男生女的问题，让我产生了三个疑问。1）如果生男生女的概率最终一样，那为什么我国的男女人口比例失衡了呢，按道理，在十几亿的样本中，比例应该非常接近于一对啊。2）这种比例失衡，是后天的社会因素造成的？比如男性活得更长，怀孕期间故意流产女婴。还是基因決定的？比如生女生男的概率本身就不相等。3）是否在医院统计的男女婴比例是 1:1 ？

作者回复：男女比例不是严格的 1:1，记得有研究说是 1.05:1，有各种解释，题目只是做了简化。关键是，策略不改变概率本身，改变概率的一定是事件本身条件的变化。生孩子的策略不改变男女比例，能改变概率的是生孩子之前的干预，人为选择的干预。

#### 06

整体由局部构成。那为什么不确定的局部可以最终有一个确定的整体呢？我还是不太明白「局部的随机性转变为整体上的确定性」这句话的意思，似懂非懂的。

作者回复：水分子随机运动，杂乱无章，而那杯水却平静如常，毫无波澜。天气变化多端，时而下雨时而晴朗，但四季分明，从春天开始温度总体上升再总体下降。我们不知道一周后下不下雨，但我们知道四季变化。彩票公司，每周的体育彩票，每个人买彩票或者不买彩票，买了中奖不中奖都是随机的，但整期的销售金额基本稳定，国家体育总局提出的彩票基金的总额也是基本稳定的。

## 0002. 原则：怎样提高自己的概率思维？

前面的课程，我们共同完成了一场概率论的修炼，一起学习了随机、概率、独立性这些基石性的概念，一起了解了大数定律和概率分布，也一起搞懂了概率论的两大学派 —— 频率法和贝叶斯。不夸张的说，现在你已经掌握了概率论里的武功招式。但是，只有这些招式还是不够的。在具体的招式之外，我们还需要修炼内功。所以课程的最后一讲，我想教给你概率思维的三大黄金原则。这样内外兼修，你就可以放心下山去了。

### 原则一：对抗直觉，能算就算

2019 年，课程《基因科学 20 讲》的主理人仇子龙老师跟我讨论过一个上海车牌摇号的问题。

上海的汽车上牌要摇号，而且中签率很低，大概只有 5% 左右。所以慢慢的，就出现了一个帮忙代拍车牌这样的灰色产业。据说这些人有特殊关系，能把摇号的中签率从 5% 提升到 50%，所以只要三次就能保证你中签。理所当然的，他们要收两万元的代理费。一辆车 20 万元，增加 10% 的成本就能马上开上车了，还不用等，看上去挺值的。

而且，你还不会亏。他们怕人不相信，还做出了惩罚性的保证 —— 如果三个月没有中签，不仅会把代理费全部返还给你，还会再赔你 800 块钱。听上去是不是很靠谱？既然敢这么承诺，应该确实有门路吧？而且即使拍不中，也没有什么损失，甚至还能赚点钱，为什么不试试呢？现在问题来了，这事儿靠谱吗？他们真的能提高中签率吗？

其实，这是个非常简单的概率问题，不过需要我们动手算一下。我们先假设他不认识任何人，看看这件事儿他亏不亏。刚才说了，正常摇号的中签率大概是 5%，每月摇 1 次，那连续三个月都不中的概率就是 0.95x0.95x0.95，大约是 86%，所以三个月内中签的概率大约就是 14%。假设他找了 100 个人，平均会有 14 个人中签，一个人收 2 万，收入 28 万。另外 86 个人没中，一个人赔偿 800，他支出 6.88 万。这样，28 万减 6.88 万，在不认识任何人的情况下，根本没有提高中签率的情形下，他就能赚 21 万多元。

那么，对于不中签的用户，要赔偿多少他们才是不赚不赔的呢？我算了一下，大概是 3250 元。也就是说，如果中签收 2 万，不中签他赔偿超过 3250 元，我们才能相信他真的有关系能提高中签的概率。但很明显，没有哪家代理机构不中签的赔偿能超过这个数。所以，这件事儿不靠谱。

这些人啥都不用做，在家里打几个电话就把钱挣了，而且挣得还不少。他们靠什么赚钱呢？靠的就是概率差。忽悠更多人到他们这里摇号，他们就能赚更多的钱。如果找他们代理拍车牌，赚的就是你的智商税。之所以说这个故事，其实就是想让你明白概率思维的第一个原则 —— 对抗直觉，能算就算。很多概率相关的事情，不要相信自己的直觉，只要动笔简单算一算，就很容易得出结论。

1『其实很多副业是这么算出来的，单子（量）大之后很多东西不一样，首先脑子里要有根弦，要算一算。很赞同刘嘉的观点，很多东西是「反常识」的。（2021-02-10）』

人脑天生是一个贝叶斯大脑，直觉就是我们最快捷的概率计算器。经过千百万年的自然选择，我们凭直觉就能很快速又精准的估计一些事情的概率。比如，我们天生就知道遇到老虎凶多吉少，所以对老虎的吼声充满恐惧。但最近几百年，人类社会飞速发展，让我们直觉的准确性越来越差。

行为经济学、认知科学里有很多反直觉的套路。什么是反直觉？本质上就是直觉错判了一件事的概率。这个时候，我们要做的就是遏制直觉的冲动，去寻找数据、寻找证据，用概率公式计算一下。通过计算对抗直觉，你就拥有了一个概率专家的基本素质。

### 原则二：寻找条件，增大概率

当然，但生活里，并不是所有问题都要精确的计算。对于日常决策来说，70% 的概率和 73% 的概率有什么本质区别吗？其实没有，人脑很难分辨这些细小的差别。但 30% 的概率和 70% 的概率的区别，我们肯定能分辨，一个是小于 50% 的小概率，一个是大于 50% 的大概率嘛。而找到导致这个大概率出现的条件，就是我们决策时需要的。

前一段时间，南京有个涉及航空延误险的案子，大概的情况是：有个人专门在网上挑延误率比较高的航班下手，一旦航班延误就要求索赔。在那人的笔记中，航班的延误时间、投保的保险公司、索赔的金额，一条条都记得清清楚楚。从 2015 年至今，他一共实施航空延误险理赔近 900 次，获得理赔金近 300 万元。

我们不谈这个案子的法律问题，从概率的角度来说，他是怎么预测对这么多次航班延误的呢？答案我们在前面讲条件概率时说过，就是寻找影响这件事的关键条件。对于航班来说，导致它延误的因素很简单，主要就是天气情况和航班走向。天气情况你肯定能理解，遇上暴雨，不能正常起飞，可不就得延误吗？航班走向是什么意思呢？你想，一架飞机一天往往要飞三四次。比如，早上从南京飞成都，中午从成都飞昆明，下午从昆明飞回成都，晚上再从成都飞回南京。所以相应的，只要前三班有延误，晚上从成都飞回南京的这一班延误的概率肯定就非常大。这就是条件概率。

航班延误的整体概率是比较低的，可能只有 10%；但因为是累积航班，最后一班延误的概率可能就会上升到 30%；如果当天昆明大雨，最后一班延误的概率可能就会上升到 50%；如果不仅昆明大雨，当天成都也大雨，昆明到成都的航班延误了三个小时还没有起飞，最后一班从成都到南京的航班，延误几乎是板上钉钉的事。虽然航班延误的整体概率并没有变化，但随着新信息、新条件的加入，最后一班航班延误的概率不断变化。如果你能找到这些条件、信息，预测的准确率就会大很多。

生活中，几乎所有涉及个体的决策都是如此。想要成功，就要找到对自己成功影响最大的那个条件概率。换句话说，想要成功，就是找到最大化概率的条件。对于创业来说，成功的平均概率可能只有 1%，但如果你拥有关键技术、找到了蓝海、采取了差异化竞争策略，你成功的概率就会大大增加。对于工作来说，想要搞定客户，就要寻找在什么条件下客户会最满意。还有，互联网行业的增长黑客，其实就是通过数据去寻找导致转化的各种条件，从而提高产品的转化率。

你看，这些都是概率思维的第二个原则 —— 寻找条件，增大概率。

### 原则三：相信系统，长期主义

如果寻找条件概率不足以大幅度提高我们做一件事的成功率，而只是让我们获得一些微弱的优势，比如只让成功率提高到了 55%，具体某一次决策时，仍然有一半的可能性会失败，这时候该怎么办呢？这就要说到概率思维的第三个原则 —— 相信系统，长期主义。

还记得网上那个励志鸡汤吗？1.01 的 365 次方是 37.8，而 0.99 的 365 次方是 0.03，激励我们每天进步一点点。虽然这是一个鸡汤，但不得不说，它是有道理的。表面上看两个概率相差无几，但只要加入「时间」这一个变量，长期结果就会大不一样 —— 只要有 1% 的概率优势，长期来看，势必会造成赢者通吃的局面；而只要有 1% 的概率劣势，长期来看，输光就是个必然的结果。像保险公司，以及被很多投资者奉为圭臬的价值投资理论，本质上都是这个道理。

举个例子，就说林丹和李宗伟这对羽坛宿敌吧。我们知道，羽毛球的常规打法是，你杀球我就挡近网，让你跑动来接球。但是李宗伟的控网能力特别强，你给他近网，反而适合他发挥优势。于是，林丹就不按常规打，而是疯狂训练回远网球。虽然这么打让对手的跑动少了，放弃了一些自己的优势，但是也让李宗伟丧失了自己控网的优势。不计较细节得失，一直坚持打下去，最后林丹还是一直能赢李宗伟。这就是相信系统的力量。

篮球领域有一句名言 ——「训练时，用正确姿势投丢的球比用错误姿势投进的球，更有价值。」其实就是我们说的相信系统，坚持长期主义。用错误的姿势投球，可能某一次能蒙进，但只有用标准的姿势反复练习，把这个姿势固定成肌肉记忆，才能真正提高自己的命中率。

而所谓的科学决策，其实是一个决策系统，只要决策系统有概率优势，我们就要长期坚持，相信系统，而不在乎单次决策的随机结果的好坏。其实我们学习也都是如此。你流的每一滴汗，读的每一本书，都会一点点的改变你的身体，改变你的认知。这些微小的改变，这些微小的概率提升，在时间的作用下都能被无限放大。罗老师说，「做一件事，一直做，等待时间的回报」，其实说的就是这个道理。

站在当下，未来任何事都只是一个概率。所谓坚持，所谓努力，其实就是寻找一个大概率的方向，然后相信系统，相信长期主义。当然，你得坚持活着，等到长期的到来。

### 结语

还记得我们第一讲说的吗？概率论的本质就是把局部的随机转化成整体的确定性。虽然这个世界充满随机和不确定，但它有一个逃不开的规律 —— 整体的确定性。而对抗随机、收获确定的方法，就是数学，就是概率论。希望这门课对你有用，也期待通过课后长期的交流，我们一起成长，一起用概率论的力量对抗世界的随机。

### 黑板墙

#### 01

课程这么快就结束了，真是意犹未尽。这个世界是概率化的，了解概率论，才能了解世界的运行规律。大家都在谈不确定性，其实找到相对不变的量才是关键，而对概率的把握，恰就能提供给我们一个整体的确定性。王烁老师之前说过，道理就那么多，讲明白它不难，难的是听的人听了以后真信。导致很多人听而不信，信而不行的重要原因，就是我们的天性。比如，我们的大脑想节能，我们身体想放松，我们的直觉想決策。

根据刘老师给的三条建议，以后在面对重要问题时，我们要扪心自问：「我计算过得失吗？我找到影响得失的关键因素了吗？我坚持长期主义了吗？」为了实现以上三点，我们还要问自己：「你刻意练习了吗？」克服天性缺陷的最好方法，或许就是把行为固化成习惯，把理性变成天性。我们容易陷入可得性偏差，有时就是因为我们对各种思维工具的运用不够熟悉，做起来吧，别管是不是需要 1 万小时，做就是了。

#### 02

投资这件事情有一种策略就是概率优势下，长期坚持策略。不能因为一两次结果不好就调整系统，要正确的策略坚持到底，不然真的会被正反打脸。但是，除了参考概率，还有一个纬度不得不考虑，那就是赔率。如果一件事情发生的概率很低，但发生后的回报及其丰厚，在成本不高的前提下，也应该坚定的参与。其实，生活中也是一样，除了考虑事情做成的概率，还要考虑做成后所获得的回报。因为这样算是给运气一个眷顾你的机会，不去行动是不可能躺着获得奇迹的。

作者回复：赔率就是数学期望。

1-2『目前没怎么弄明白「赔率就是数学期望」的意思，打个标记，等系统性学过概率论、统计学相关知识后再回头来看。（2021-02-10）』——未完成

#### 03

1、对抗直觉、能算就算。卡尼曼在《思考快与慢》中将人的決策过程分为系统 1 和系统 2，系 1 主要依靠直觉，优点是決策速度快，缺点是容易出错；系统 2 主要依靠理性，优点是理性思考，精密计算，缺点是決策速度慢。概率论中所涉及的方法就是培养我们系统 2 理性決策的能力，现代社会系统 2 越来越重要，所以说概率论确实是抓住未来的学问。

2、寻找条件，增大概率。所谓万事俱备，只欠东风，一件事情的成功（事情 S）依赖条件可能有 A、B、C、D，我们既要能找到依赖条件，更要会判断 P (SA）、P (SB）、P (SC）、P (SD）谁更大，通常我们按照概率的大小来決定先寻找哪个依赖条件，这也就是所谓的「抓住主要矛盾」。

3、相信系統、长期主义。著名的复利公式：`F = P(1+i)^n` 中 F 是终值，或叫未来值，即期末本利和的价值；P 是现值，或叫期初金额；i 是利率或折现率；n 是计息期数。这个公式对我们的个人成长也是完全适用的，很多时候 i 只要为正，小ー点也无所谓，关键是当 n 足够长时，这个公式符合幂律分布，正如老师在文中说的：「虽然幂律分布像魔鬼一样狡诈、难以预料，但它可能是我们对抗熵增的必然选择，是每个系统从无序到有序，从混沌到清晰，从未知世界到规律世界的必经之路。幂律分布存在的地方，看似凶险，却恰恰是对抗熵增，对抗死寂，对抗死亡的角斗场，是我们的希望之光。」这就是长期主义的价值。

作者回复：一切伟大其实都是时间和空间的度量。我带着几个朋友打个车去找我女朋友回家吃饭，这是社会小故事。但，我如果带着 10 万人，开着 1000 艘船，带着 100 箱金银珠宝，花费 10 年，跨过整爱琴海，去找我女朋友回家吃饭这就不是小故事了，这叫史诗。

#### 04

1、在得到上，金融、财务这些课程的学习，让我受益匪浅，这些课程都是要培养对数字的敏感度。其实生活中更非常需要培养自己对于数字的直觉，而概率论正是一种有力的武器。当大量行为数据化后，一个个随机的数据就逐开始显现出规律性的变化了。

2、最近在看的「数商」中也提到，在各种金融数据，每个数字出现的概率一般都有规律，比如财报中以 9 开头的数据占比量就不多，一旦过多则造假的可能性会增大。再比如之前杭州的杀妻案，其中有个细节就是杀人犯所住房屋内某一时段用水量大增，这就是个明显异常的数据，判断家庭出事的概率增大。

3、我现在特别喜欢记录自己的一般数据，由此来积累自己很多随机情况下的「常量」，比如一周正常车行多少公里，每天的步数等。由此来对自己的活动规律，甚至性格特征进行对应分析。也许不准确，不过通过数据的积累，概率的计算来获得更加理性的认知锻炼自己的思维能力，避免陷入直觉误区。

作者回复：首数字频率是本福特定律，水电费是非常重要的相关指标。

#### 05

1、随机思维。不要感慨命运的不公平，有些事情就是无缘无故的发生，不是所有的事情都能找到发生的原因，有些事情的发生，跟它之前发生的任何事情，都可以没有因果关系。你不管做什么都不能让它一定发生，也不能让它一定不发生。

2、误差思维。任何实验都可能存在误差，误差不等于错误，多次检测能够减小误差的范围，但是也无法完全消除误差，两次测试，一次你考 57，第二次你考 63，这只能说明你第二次运气好。

3、大数定律。大数定律是「稀释」，不是补偿，世界没有义务在你失败多次之后就「补偿」你一点什么，你只能继续尝试下去，用未来可能来，也可能不来的成功，去「稀释」你已经犯的错

4、小数定律。如果样本不够大，那么它就会表现为各种极端情况，而这些情況可能跟本性一点关系也没有。你是不是被某某省份的人骗过？是不是你周围人也被这个省的人骗过？于是你就总结出这个省份的人都是你完全不考虑它的人口基数。放弃这些偏见吧，我们不能只凭自己的经验，哪怕是加上家人和朋友的经验去对事物做出判断。

#### 06

除了算、寻找条件、长期主义外，我认为要想具备概率思维，还有这么几点值得我们注意：1）对数字敏感。其实准确地说，是对数字的「指涉范围」保持敏感。一个比率代表了什么，是在哪个范围（条件）下得来的，会影响到我们该如何使用它。2）承认认知的不完备性。正因为认知总是不完备的，我们才需要贝叶斯方法来不断迭代，去完善它。任何时候都保有「应该还有什么是我不了解的」这样的想法，也是对客观世界必要的敬畏。3）相信常识，但也要警惕它来的风险。常识是我们做判断的基础，有时也是认知迭代的辅助依据，但常识需要不断更新，它自己也是个可以依赖贝叶斯式迭代与长期主义的体系。

#### 07

包子哥经常会给同学们做一些小规模的分享，每次分享的时候我都会说一句话本质上来说，大多数人其实是不得不学，为什么？因为我们身处的这个时代，我们必须去面对的环境。环境的变化越来越快，新生事物层出不穷，依靠直觉和经验，我们越来越看不清未来的路。在这样的时代里，我们想要活的更好，本质上其实就是在充满迷雾的路途中，用比人少 1% 的时间，找到比别人更正确 % 的路，用比别人更长点的时间，去收获比别人多得多的资源，去实现自己的理想。仅此而已。

本质上，我们就是在拼概率。诚然，我们的成功只是概率事件，我们的学习，我们的思考，不可能每次都能给我们带来成功。但是如果你放眼到一个比较长的时间尺度上，坚持做对的事情，那么会有非常大的概率能够收获到你想要的东西。所以，自从四十一岁那年想清楚了我到底想要做什么，我就给自己定下来两个为人处世的原则，第一是活着，第二是做正确的事。活着或者说活得更久的事情，交给健康管理课程和医学类的课程，而做正确的事情，就要交给以概率论为主的一系列认知提升通识课程了。

#### 08

回顾之前课程所讲的内容，其实概率论并不是什么高深莫测的学问；它的基本常识很简单，计算公式并不复杂，在我们日常生活中的应用场景也比比皆是。巴菲特曾经说过：「用亏损的概率乘以可能亏损的金额，再用盈利的概率乘以可能盈利的金额，最后用盈利的结果减去亏损的，这就是我们一直试图做的办法。」

这种算法并不完美，但非常简单易懂，也是能够大概率能够赚到钱的方式。虽然这样的道理人人都懂，但是顶级的投资专家和我们大多数人，执行起来的效果却是差天共地了。其实，我们每个人的思维方式和行为模式，说到底就是一个人生概率问题。隔壁老喻的《人生算法》课，就举个一个例子：你自己就像一个骰子，扔出数字 1，你就中奖；根据概率，你的中奖机会是六分之一。你拼命扔自己的骰子、天天琢磨扔骰子的手势，其实都没有用；六面骰子的先天结构，和随机的游戏规则，就定了你的中奖率。要改变中奖率，你没有办法改变游戏规则，就只能改变自身的结构。你如果能把自己成了硬币，其中面是数字 1，那么你获胜的概率就变成了二分之一。

所以，只要我们自己不甘心做一个被扔来扔去的骰子，就要努力去探索人生的概率，去找到让自己成功几率变大的方法，并长期坚持下去。虽然我们身处的这个世界，确实是充满随机和不确定性，但是运用概率思维，我们就一定能找到整体的确定性，就能勇敢的不断前行。

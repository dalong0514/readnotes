# 2020029吴咏炜的VimR00

## 记忆时间

## 卡片

[VIM 中文帮助: Vim 的各种窍门](https://yianwillis.github.io/vimcdoc/doc/tips.html#using-xxd)

[adah1972/geek_time_vim: Vim configuration for Geek Time](https://github.com/adah1972/geek_time_vim)

### 0101. 主题卡——高频操作汇总

核心记住 c 等价于 di，即 c 表示删除后进入插入模式。

### 编辑

1、ct)。当前位置到下一个 ) 之间的字符全部删除并进入插入模式。

使用 f（find）和 t（till）。它们的作用都是找到下一个（如果在输入它们之前先输入数字 n 的话，那就是下面第 n 个）紧接着输入的字符。两者的区别是，f 会包含这个字符，而 t 不会包含这个字符。在上面的情况下，我们用 t 就可以了：ct) 就可以达到目的。如果需要反方向搜索的话，使用大写的 F 和 T 就可以。

3『

书籍「2020154Vim实用技巧 | 2020154Practical-Vim」中：

`f{char}` 命令是在 Vim 中移动的最快方式之一。它会在光标位置与当前行行尾之间查找指定的字符，如果找到了，就会把光标移到此字符上；如果未找到，则保持光标不动。字符「c」在该行出现了好几次，因此这次无法直接命中目标，而是要试几次才能把光标移到想去的位置。幸运的是，我们不必一遍遍地重复输入 fc 命令。Vim会记录上次执行过的 `f{char}` 命令，随后用 `;` 命令就可以重复该命令了。在本例中，得连按 3 次 `;` 才能使光标就位。`f{char}` 和 `;` 结合在一起很强大，它让我们用很少的键就可以移动很远的距离。不过由于光标会移到哪里并不是一目了然，因此很容易按 `;` 按得忘乎所以，导致错过目标。例如，假设想把光标移到单词「of」的开头。我们不小心跳过头了，这时，用 `,` 命令可以再跳回来。此命令也会重复上次的 `f{char}` 命令，不过会按相反的方向查找。还记得技巧 4 中提到的口诀吗？执行、重复、回退。我把 `,` 当成一个安全网来用，当按 `;` 键按过头时，可以用它来回退。

』

2、D 或者 `d$`，删除到行尾。d 加动作来进行删除（dd 删除整行）。

3、C 或者 `c$`，删除到行尾然后进入插入模式。c 加动作来进行修改（cc 修改整行）。

4、diw -> diW -> di( -> di) -> ciw -> ciW -> ci( -> ci)。

发现大宝藏。diw（理解为 delete inside word），比如光标随便停留在一个单词的某个字母上，diw 后删除整个单词。那么自然想到，diW 删除的是「连」单词。接着 `di(` 是删除 () 里的所有内容，a 代码 i 的话即 `da(` 删除的内容包括括号本身。那么再深入一步，用 c 代替 d，即删除后进入插入模式。再再进一步，在 a 和 i 前可以加上数字，对多个（层）文本对象进行操作。下面图中是一个示例：修改往上第 2 层花括号内的所有内容 `c2i{`。这些快捷键实在太有用了。

5、复制即剪切行。1）`dd` 剪切光标所处当前行。`n + dd` 剪切光标所在行及以下共 n 行。按 p 粘贴在光标所在行。2）命令模式里，`: 1，10 m 12`，剪切 1 到 10 行，并粘贴在 12 行处。3）同理 yy 是复制，这个自己很熟悉。命令模式里，`: 1，10 co 12`，复制 1 到 10 行，并粘贴在 12 行处。4）命令模式里，`: 1，10 de`，删除 1 到 10 行。

1『原来一直以为 dd 只是删除，真实糊涂。发现命令模式里的批量复制替换只能在原生 vim 编辑器里生效，vscode 里不行，真可惜。（2020-10-09）回复：找到一个解决办法，双屏最佳，一个屏幕上编辑 vscode，另一个屏幕上用 vim 打开同样的文件。像这种原生命令直接在 vim 里实现，vscode 那边是同步的，哈哈。（2020-10-10）』

6、重复上一次操作。分情况的：1）修改内的，重复上一次命令直接用点号 `.`，注意不需要用 `:` 进入命令行模式的，撤销的话用 `u` 命令。2）用查找 `f{char}` 命令的话，重复上一次命令直接用分号 `;`，撤销的话用逗号 `,`。

7、复制及剪切单词。1）`yw` 从光标处复制到单词的末尾，包括空格。w 前面加数据表示复制多个单词，比如 `y2w`。2）`ye` 从光标处复制到单词的末尾，不包括空格。3）同理把 y 更改为 d 即为剪切单词。4）把一个单词用另外一个单词替换掉：先对原词进行复制操作，接着对目标词进行删除单词 `dw` 操作，然后 p 即可。

1『一个单词用另外一个单词替换，目前感觉另外一个操作更快：2 个屏幕，一个屏幕上双击单词右键复制，在另外一个屏幕上双击单词右键粘贴。（2020-10-10）』

8、撤销以及取消撤销。撤销用命令 `u`，有时候误操作，撤销错了，取消上一次撤销用命令 `ctrl + r`。

### 移动

1、跳转到行首的命令是 0，跳转到行尾的命令是 `$`，`^` 用来跳转到行首的第一个非空白字符。

2、按单词来移动的话使用 b/w 和 B/W。

3、( 和 ) 是移动到上一句和下一句，而 { 和 } 是移动到上一段和下一段。

4、`f{char}` 命令，前面编辑类里有具体介绍。

### 搜索

搜索完成后，下一处为 n，搜索上一处为 N。

1、搜索特定关键词。如果我们要查找某个函数，该怎么做呢？简单，按下 /，然后输入函数名，回车，不就行了？错。这种方式对函数名是部分匹配，你搜 begin 还会得到 begin1、`_begin` 之类的结果。正确的方法是，要在前后加上匹配单词头尾的标记，如，`\<begin\>`。

2、提取光标所在关键词进行搜索。被誉为最有用的 Vim 提示，是把光标移到希望搜索的关键字上，然后按下 * 键。Vim 会提取光标下的关键字，并自动添加 `\<` 和 `\>` 进行搜索。

### 替换

1、正则表达式替换。

```
:s/<find-this>/<replace-with-this>/<flags>
```

flags 是选项。1）g 表示全局替换，即将匹配到的所有项都替换掉，而不仅仅是第一个（只是在光标所在行里的字符）。2）c 表示每次替换前需要确认，即弹出一个界面供用户确认是否替换。3）e 表示没有匹配项时不显示错误。4）i 表示忽略大小写，即搜索时不关心大小写。l 表示区分大小写。

常用的范围是 %，它使：s 命令作用于整个文件。如果要将一个文件中的所有 animal 替换成 creature，则只需要执行（经试验，后面的 g 可以省略）。

```
:%s/animal/creature/c
```

### 0201. 术语卡——编码

从文件系统的角度看，文件的内容就是一堆比特（bit）而已。把比特对应到字符的方法，就是编码（encoding）。在目前的主流操作系统里，通常八比特是一个基本单位，也就是字节（byte）。最基本的编码方式，就是把一个字节对应到一个字符。

目前的大部分编码方式，在 0－127 的范围里，字节值和字符的对应关系是基本相同的。除了个别字符外，编码的基本方式都和 ASCII（American Standard Code for Information Interchange，美国信息交换标准代码）兼容，如下图所示。注意，头 32 个字符和最后一个字符是控制字符，其中大部分现在已经很少有人使用了，但还有一些我们今天仍然会在不同的场合遇到，如马上就会讨论的 LF 和 CR。

ASCII 是美国标准，里面只有基本的拉丁字母，对其他国家来讲可能就不合适。比如对欧洲国家来说，ASCII 既没有带变音符的拉丁字母（如 é 和 ä ），也不支持像希腊字母（如 α、β、γ）、西里尔字母（如 Пушкин）这样的其他欧洲文字，使用起来很不方便。很多其他编码方式使用了 128－255 的字节值范围作为扩展，总共最多是 256 个字符，一次允许一套方式生效，称之为一个代码页（code page）。这种做法，只能适用于文字相近、且字符数不多的国家。比如，下图表示的 ISO-8859-1（也称作 Latin-1）和后面的 Windows 扩展代码页 1252（下图中绿框部分为 Windows 的扩展），就只能适用于西欧国家。

最早的中文字符集标准是 1980 年的国标 GB2312，其中收录了 6763 个常用汉字和 682 个其他符号。至于我们平时用到的编码 GB2312，它更准确的名字其实是 EUC-CN，是一种与 ASCII 兼容的编码方式。它用单字节表示 ASCII 字符而用双字节表示 GB2312 中的字符；由于 GB2312 中本身也含有 ASCII 中包含的字符，在使用中逐渐就形成了「半角」和「全角」的区别。

国标字符集后面又有扩展，这个扩展后的字符集就是 GBK，是中文版 Windows 使用的标准编码方式。GB2312 和 GBK 所占用的编码位置可以参看下面的图（由 John M. Długosz 为 Wikipedia 绘制）：GBK 编码的第一字节和第二字节分布。图中 GBK/1 和 GBK/2 为 GB2312 中已经定义的区域，其他的则是 GBK 后面添加的字符，总共定义了两万多个编码点，支持了绝大部分现代汉语中还在使用的字。

显然，多个不同的编码方式是不利于信息交换的。我们在打开文本文件时看到的「乱码」，最常见的情况就是文件的编码和打开文件的工具以为的编码不同。毕竟，只要出现了非 ASCII 字符，解释方式就多了。对我们来说，常见的情况是 Latin-1/Windows-1252（西欧文字）、GBK（简体中文）、Big5（繁体中文），今天还增加了 UTF-8。

### 0202. 术语卡——UTF-8 编码

我们终于说到了 UTF-8，它的全称是 8-bit Unicode Transformation Format，8 比特的 Unicode 转换格式。Unicode 自发明伊始，就是为了统一编码问题，但它的最早编码方式，UCS-2，存在两个重大问题：1）和 ASCII 不兼容，不能在现有软件和文件系统中直接使用。2）在储存 ASCII 为主的字符时，存在一字节变两字节的空间浪费。

Ken Thompson 在 1992 年和 Rob Pike（罗勃·派克）一起发明了 UTF-8，解决了这两个问题（牛人就是牛人啊）。到了今天，UTF-8 已经成了互联网和 Unix 世界里文本文件（含 HTML 和 XHTML）的主流编码方式。但是，Windows 下的文本文件，由于历史原因，可能还大量使用着传统的编码方式（很错误地被叫做 ANSI）；对于中文 Windows，这个传统编码就是 GBK 了。

抛开编码方式的细节（从网上你可以找到足够多的关于 Unicode 和 UTF-8 的资料），我们需要牢牢记住的是，UTF-8 是 Unicode 里最重要的编码方式，可以把一到四字节长度的字节序列映射成为一个 Unicode 字符。目前我们使用的任何字符都可以用 UTF-8 表示，因而 UTF-8 是我们在 Vim 中使用的内部编码（选项 encoding）。我们在第 2 讲中给出 fileencodings 选项设置，就是为了在读写文件时把文件内容进行适当的转换。这个选项表示的是自动检测使用的编码；而在文件被 Vim 载入后，文件的编码会出现在选项 fileencoding 里。如果 fileencoding 选项为空，则表示文件保存时不做任何转换。

### 0203. 术语卡——字符和字形

Unicode 设计时的一个决定，目前看起来有点短视，那就是对中日韩文字中使用到的汉字进行了「统一」。如果字源相同，它们在 Unicode 中就只占据一个编码点。于是，一个字符可能就有多个字形。这个问题，我在第 2 讲中已经展示过了，它也是我们可能需要在图形界面 Vim 中单独设置宽字符字体（guifontwide）的原因。

跟中文字符集中「半角」和「全角」的概念有点像，Unicode 中也有字宽的概念。和简单的半角与全角的区别不同，Unicode 里除了窄字符和宽字符，还有模糊宽度（ambiguous width）字符。这些字符的宽度根据上下文而定：在东亚文字里一般是宽字符，而在西方文字里一般是窄字符。最常用的模糊宽度字符有（「U+」后面跟十六进制数值是用来表示 Unicode 字符所占编码点数值的通常方法）

对于某一特定字体，它们的宽度当然就是确定的；尤其使用变宽字体（大部分英文字体，不同字符宽度不同）时，如在极客时间的正文里，这个模糊宽度没有什么意义。对于使用等宽字体（程序员一般使用的字体，Vim 只能用等宽字体）的文本编辑器，到底是把这些字符显示成跟 ASCII 字符一样的「单」宽度，还是显示成跟汉字一样的「双」宽度，就是一个需要考虑的问题了。

稍微展开一点点，这个模糊宽度，在我们日常生活中还是造成了一点麻烦的。非常常见的一个排版错误，就是由于使用的软件（在中文 Windows 下的）的字体选择规则，西文中的 「’」误用了中文字体展示，导致这个符号展示出来的字间距过宽。一个相反的麻烦，是中文中写「·」希望两侧留空很足，但在另外一些环境下，永远优先选择西文的字体（如大部分的手机操作系统），导致需要手工两侧加空格才能有比较理想的排版效果……

Vim 里的解决方式是提供选项 ambiwidth，可以设为 single（默认值）或 double，表示 Vim 到底把这些字符的宽度当成是占一个字符还是两个字符，你想怎么样都可以。对于终端 Vim，由于 Vim 不能决定显示的字体，这个选项只能决定光标在这些字符上应当移动的列数，用户必须自己保证在终端里的设定和 Vim 的设定是一致的；否则，可能导致眼睛看到的编辑位置和实际编辑位置不一致。虽然 macOS 的终端应用、Linux 的 GNOME Terminal 和 Windows 下的 PuTTY 都提供了如何处理模糊宽度字体的设定（关键字是「模糊」或「ambiguous」），但鉴于这些软件的字体选择策略，选择「宽」容易导致显示问题，所以我的建议是保留缺省的「窄」设定。

### 0204. 术语卡——行

从 Vim 和 Unix 的角度看，一个文本文件由多行构成，每一行都以一个行结束符（EOL）结束。根据传统习惯，这个 EOL 在存盘时使用的字符是 LF，编码值是 10（U+000A）。这只是 Unix 格式。常用的还有 DOS 格式（也包括了 Windows），以及老的 Mac 格式。

在 DOS 格式里，行尾就不只使用 LF 这一个字符了，在 LF 前面会多一个 CR，编码值为 13（U+000D）。这个用法的来源是以前的打字机，CR 表示机架归位（carriage return），LF 表示换行（line feed）。在使用 CR LF 作为行结束符的系统里，CR 只负责光标回到第一列，而 LF 负责光标向下一行。

老的 Mac 则使用单个 CR 字符作为行结束符，但苹果从 Mac OS X（2001 年）开始就使用了 Unix 风格的行结束符。所以，目前我们遇到的文本文件，应当都使用 LF 或 CR LF 作为行结束符了。这也是 Vim 的 fileformats 选项的意义：它的默认值通常是 unix, dos（Unix 环境下）或 dos, unix（Windows 环境下），即会自动检测 Unix 和 DOS 行尾；如果检测不到，则以第一个风格设置作为默认值。

fileencodings 有一个对应的文件相关的 fileencoding 选项，跟它一样，fileformats 也对应有一个文件相关的 fileformat 选项，表示当前文件的行尾风格。需要注意的是，如果一个文件里既有 LF 行尾、又有 CR LF 行尾的话，Vim 会把文件当成 Unix 格式，于是文件里会出现最后一个字符显示成「^M」（通常为蓝色，表示是控制字符，跟正常文本不同）的情况。如果你想保留这种行尾，那不需要做任何事情。但绝大多数情况下，你会希望把行尾统一成 Unix 风格或 DOS 风格。此时，你可以使用下面两种方法之一：1）使用 `:e ++ff=dos` 命令强制以 DOS 行尾加载文件；此时文件的行尾格式是 dos。2）使用 `:% s/\r$//` 命令删除行尾多余的 CR 字符；此时文件的行尾格式保持 unix 不变。

此外，再说明一下，Unix/Vim 的传统是任何一行都以行结束符终结，包括最后一行。使用 Vim 编辑的文本文件，最后一个字符通常是 LF（除非使用 Mac 行尾风格，则结尾是 CR）。Windows 上大部分文本编辑器则允许最后一行不以行结束符结束；这样的文件在 Vim 打开时，Vim 默认会给出一个 `[noeol]` 的提示。在存盘时，Vim 则会自动在最后添加一个行结束符。

除了 Vim，很多 Unix 工具都会有类似的要求。比如，用于文件比对的命令行工具 diff，它在文件比对时如果输出下面的信息，就是表示文件之一没有用行尾结束符来结束：

```
\ No newline at end of file
```

### 0205. 术语卡——脚本语言

我们需要知道，通过命令行模式执行的命令就是 Vim 脚本。它是一种图灵完全的脚本语言：图灵完全，说明它的功能够强大，理论上可以完成任何计算任务；脚本语言，说明它不需要编译，可以直接通过解释方式来执行。

### 0301. 人名卡——

根据这些证据和案例，找出源头和提出术语的人是谁——产生一张人名卡，并且分析他为什么牛，有哪些作品，生平经历是什么。

### 0401. 金句卡——

最后根据他写的非常震撼的话语——产生一张金句卡。

### 0501. 任意卡——查看插件功能的方式

除了 rrhelper 和 spellfile 属于功能支持插件，没有自己的帮助页面，其他功能都可以使用「:help」命令来查看帮助。查看帮助时，插件名称中的「Plugin」后缀需要去掉：查看 zip 文件编辑的帮助时，应当使用「:help zip」而不是「:help zipPlugin」。

### 0502. 任意卡——包管理工具 minpac

在 Linux 和 macOS 下则可以使用下面的命令：

```
git clone https://github.com/k-takata/minpac.git \
    ~/.vim/pack/minpac/opt/minpac
```

然后，我们在 vimrc 配置文件中加入以下内容（先不用理解其含义）：

```
if exists('*minpac#init')
  " Minpac is loaded.
  call minpac#init()
  call minpac#add('k-takata/minpac', {'type': 'opt'})

  " Other plugins
endif

if has('eval')
  " Minpac commands
  command! PackUpdate packadd minpac | source $MYVIMRC | call minpac#update('', {'do': 'call minpac#status()'})
  command! PackClean  packadd minpac | source $MYVIMRC | call minpac#clean()
  command! PackStatus packadd minpac | source $MYVIMRC | call minpac#status()
endif
```

存盘、重启 Vim 之后，我们就有了三个新的命令，可以用来更新（安装）包、清理包和检查当前包的状态。下面我们就来试验一下通过 minpac 来安装扩展包。我们在「Other plugins」那行下面加入以下内容：

```
call minpac#add('tpope/vim-eunuch')
```

保存文件，然后我们使用 `:PackUpdate` 命令。略微等待之后，我们就能看到类似下面的界面。这就说明安装成功了。我们可以按 q 来退出这个状态窗口。我们也可以使用 :PackStatus 来重新打开这个状态窗口。要删除一个插件，在 vimrc 中删除对应的那行，保存，然后使用 `:PackClean` 命令就可以了。愿意的话，你现在就可以试一下。

1『跟之前用的包管理 Bundle 的命令差不多，Bundle 目前也还没删掉，只是把之前用 Bundle 安装的插件卸载掉了。（2020-09-22）』

### 0503. 任意卡——如何切换配色方案

在你的 vimrc 中用 colorscheme 命令选择配色方案了吗？可以先直接在 Vim 里手敲命令试验效果，用「colorscheme jellybeans」、「colorscheme desertEx」、「colorscheme gruvbox」这样的命令。

### 0504. 任意卡——`'` 和 `"` 的区别

echo 是 Vim 用来显示信息的内置命令，而 'Hello world!' 是一个字符串字面量。Vim 里也可以使用 `"` 来引起一个字符串。`'` 和 `"` 的区别和在 shell 里比较相似，前者里面不允许有任何转义字符，而后者则可以使用常见的转义字符序列，如 `\n` 和 `\u....` 等。和 shell 不同的是，我们可以在 `'` 括起的字符里把 `'` 重复一次来得到这个字符本身，即 `'It''s'` 相当于 `"It's"`。不过，在这个例子里，显然还是后者更清晰了。因为 `"` 还有开始注释的作用，一般情况下我推荐在 Vim 脚本里使用 `'`，除非你需要转义字符序列或者需要把 `'` 本身放到字符串里。

## 0000开篇词.md

### 01. Vim 的「前世今生」

说到 Vim，就不能不谈一下 vi；要说 vi，那跟 Unix 就有着千丝万缕的联系。万物起源总有那么点故事，我们这个课程的主题也不例外。这个故事可以讲上很长时间，不过，今天不是故事会时间，我只会花几分钟给你快速梳理一下这段历史，带你了解 Vim 的「前世」，也就能更好地理解它的「今生」。

故事的开头是在 1975 年秋天，Unix 诞生之后的第六年。Ken Thompson（肯·汤普逊）来到了加利福尼亚大学伯克利分校，开始了为期一年的访问教授生活。当然，他也带上了最新版本的 Unix 的补丁。根据传说，由于贝尔实验室律师们的阻挠，他不能直接把补丁给其他人，而只能把装有补丁的磁带「丢」在某个地方，然后由别人「正好」捡到……Unix 就以这种「地下」的传播方式流传开了。

同年，年轻的 Bill Joy（比尔·乔伊）也进入了加利福尼亚大学伯克利分校，学习电子工程和计算机科学。他立刻就迷上了 Unix。在后面几年的硕士生涯里，他修正了 Unix 里的 Pascal 系统，使得 Pascal 成了学生编程的缺省选择。他在 1978 年负责发布了第一个伯克利发行版（BSD，即 Berkeley Software Distribution），其中包含了他写的 ex，一个编辑器 ed 的改进版本。随即，在 1979 年他发布了第二版的伯克利 Unix（2BSD），包含了他写的 vi 和 csh。他独立实现了 BSD 中的 TCP/IP 栈。离开伯克利后，他成了 Sun 的联合创始人和首席科学家，在 Solaris 操作系统、NFS 网络文件系统、SPARC 处理器、Java 语言的开发等多个领域中作出了自己的贡献……

在 Bill Joy 的无数传奇故事里，有一个是，他只花了一个周末就写出了 vi。这当然…… 不是真的。vi 是演进的结果，前面还有 ed、em、en、ex（哈，对于两字母的 Unix 命令，我看得也是有点晕了）等等一系列。只不过，那些都是基于命令的行编辑器，而不是全屏编辑器（部分原因是那时的很多系统仍然使用着电传打字机，而不是 CRT 终端）。vi 可以充分使用整个终端屏幕的资源，易用性的提升是毋庸置疑的。

不管怎么说，vi 只是一个 Bill 无意插柳柳成荫的结果，是他职业生涯中的一个副产品而已。在 1982 年初，Bill Joy 加入 Sun 公司之后，vi 就不怎么有人维护了。此外，由于没有得到 AT&T 授权的公司和个人也不能使用 vi 的源码（律师又一次发挥了威力），因此，大量的 vi 克隆版本纷纷出现。

目前大部分 Linux 发行版和 macOS 中的 vi 命令唤起的都是 Vim，一个由 Bram Moolenaar（布莱姆·穆勒纳尔）持续开发维护了三十多年的 vi 克隆（想想，三十年在计算机的发展中，那是经历了多少代技术的演进！）。在这些年里，其他的 vi 克隆诞生又死去，最后只剩下了 Vim（好吧，「只」是夸张手法）。起初，Vim 的意思是 Vi IMitation，但很快就成了 Vi IMproved。而这，就是我们这个课程的主题。

### 02. Vim 的优势

vi 有着一个非常老古董的设计，就是它是一个有「模式」的编辑器。其他大部分编辑器都相当于 vi 的插入模式，输入什么字符就会在屏幕上出现什么字符。但 vi 的行为不是如此。事实上，这种不那么直观的设计，即使在 vi 初次出现的 20 世纪 70 年代，也被认为是违反人机交互的原则的。所有的后续 vi 实现，包括 Vim，都继承了 vi 的模式设计。

令人惊讶的恐怕是，尽管有这些问题，Vim 在程序员群体中的流行程度并没有受到影响。根据 Stack Overflow 的开发者调查：2015 年程序员中最流行的编辑器是 Notepad++，Vim 的使用比例是 15.2%；2019 年最流行的开发环境变成了 Visual Studio Code，而 Vim 的使用比例还保持在了 25.4%。

这就是这门课程从头到尾都会试图回答的问题：Vim 到底好在哪里？

拿我自己来说，我刚开始使用 Vim 时，不是出于选择，而是在 Linux 上开发的需要。不过，用着用着我就喜欢上 Vim 了 —— 不仅在 Linux 下用，也在 Windows 下用（从十几年前开始，我就一直自己编译和维护着一个 Windows 下的最新 Vim 可执行文件）。自打切换到了 Mac 上之后，当然就更不用说，MacVim 是日常打开次数最多的工具。这里面最最主要的原因，就是使用 Vim 编辑文件非常高效。

在很大程度上，vi 的「高效」是一种历史性的设计要求，当年程序员需要在网速 300 波特（大致认为是今天网速的百万分之一吧）的环境里编辑文本文件。那个时代，人们还不可能拥有自己的计算机，大学、政府、公司里的计算机全都通过终端来进行分时共用。因此，vi 在命令上不得不非常「经济」。好玩的是，这种经济性，在今天仍然非常有用，它是 vi 及其克隆软件的高效之源。

我已经强调了几遍了，编辑的高效性，就是 Vim 最大的一个特点。除此之外，Vim 的优势还有很多，我来给你分享一下我认为最重要的三点。

第一，与 vi 最初只运行在 Unix 平台上不同，Vim 是一个完全跨平台的编辑器。它支持的第一个操作系统是 AmigaOS，然后被逐步移植到了大部分其他操作系统上，既有我们常见的 Unix/Linux、Windows、macOS，也有不常见或者过时的操作系统，如 OS/2、BeOS、OpenVMS，甚至在 iOS 和 Android 上也能找到 Vim 的移植版本。这可以算是 Vim 的一个重要优点了。这个课程里，我会介绍 Vim 在主流操作系统上的使用，包括 Linux、macOS 和 Windows。

第二，Vim 也是一个高度可定制、可扩展的编辑器。这对热爱折腾的程序员来说，绝对是一种乐趣，同时也是进一步提升效率的源泉。定制 Vim ，大部分情况下，你不需要什么特殊工具，使用 Vim 本身就可以。Vim 有自己的脚本语言，就叫 Vim 脚本（Vim script），语法相当简单，任何一个程序员应该都可以轻松地学会。配置文件和功能扩展都使用 Vim 脚本，使用统一的语法。同时，需要更强大的扩展能力还可以使用 Python、Perl、Ruby、Tcl 等其他通用的脚本语言，或者直接调用外部命令。你可以很容易打造一个你自己专属的开发环境，也很容易把这个环境从一台机器转移到另外一台机器上。

第三，作为一个发展了几十年的老牌开源软件，Vim 也有着良好的生态环境。网上可以找到大量的现成脚本和插件，能帮助你打造一个顺手的开发环境。总的来说，像语法检查、自动补全等程序员常用功能，全都可以在 Vim 里实现。你不需要离开 Vim，就可以完成从写代码、编译到运行的大部分工作。下面的这张图里，就展示了 Vim 的很多扩展一起工作的结果：

你可以看到，左边栏展示了 Vim 相对当前 Git 版本的修改状态（一处增，一处改），波浪线标出了代码中目前有错误的部分，底部显示了错误的原因，下面有个小窗口显示了光标所在处相对 Git 版本的变化，状态栏里更是密密麻麻地显示了编辑器模式、Git 分支、文件名、修改状态等信息。这里面用到了好几个扩展，包括颜色主题也是一个扩展。

虽然 Vim 最初是个针对字符界面的应用程序，但它也能支持主流的图形界面，包括 Windows 的图形界面，Linux 下的 GTK，以及 macOS 下的 Cocoa 和 Carbon，等等。作为一个并非「原教旨主义」的 Vim 用户，我个人是绝对赞成图形界面的使用的。因而我会推荐，只要有条件，就使用有图形界面的 Vim 版本。

不过，这个课程的绝大部分内容是对图形界面和文本界面都有效的（在两者有区别的地方，我则会明确指出）。换句话说，在你只能使用基于字符界面进行远程连接时，Vim 的功能仍然大部分有效，只是界面的美观程度会受一定的影响而已。也由于这个原因，Vim 在后端开发人员中特别受欢迎。

Vim 的模式是 Vim 的高效所在，但同时也是 Vim 学习上的一个难点。略有点搞笑的是，Stack Overflow 上有一个目前票数达到 3840 的问题是「如何退出 Vim 编辑器」，按问题票数排名可以进入前 100，这可能就是 Vim 的模式造成的困惑了。

反过来，这个反常规的设计使得 Vim 可以使用很逻辑的多个按键来处理文本，比如，在正常模式使用 daw 三个按键代表 delete a word 来删除光标下的一个完整单词，也可以输入：进入命令模式使用「make」这样的完整命令来进行项目的构建。

整体来说，Vim 会给你一个高效、跨平台、高定制性、易于扩展的开发环境。全面掌握 Vim 需要花费一定的时间进行学习。但这个时间不会白费，因为 Vim 可以在任何地方使用，它会成为你编程道路上一件称手的兵刃，让你成为更加高效的开发者。

### 03. 课程主要内容

比起很多「开箱即用」的编辑器，Vim 是有一定的学习曲线的。虽然学 Vim 比学编程容易多了，但对于非英语母语的人来说，Vim 又会难上一点点。我会尽量多讲原理，而不是枯燥地讲解命令。不得不讲命令的时候，我会使用图片和动画，让你能对相关内容有一个直观的理解。对于很多 Vim 的命令，我们是需要形成「肌肉记忆」的；我们不需要死记硬背，但需要多看、多练，熟能生巧，在学习过程中自然而然就掌握了使用 Vim 的技巧。

作为一个有历史的编辑器，Vim 一直保持着非常良好的向后兼容性。学 Vim 学到的东西不会过时，在你的程序员生涯中一直可以用下去。我个人的 Vim 配置文件始于约 20 年前，慢慢地添砖加瓦，一直用到了今天。同时，Vim 也一直在发展，虽然不快，却也从来没有停下来（从发布 8.0 版本算起，平均每天 3.7 个补丁吧）。

在这个课程中，我会基于目前最新的 Vim 8.2 来讲解 Vim 的功能。你将会学到：1）Vim 的安装。2）Vim 的模式和命令。3）Vim 的配置。4）Vim 的使用技巧。5）Vim 里的重要插件。6）及最最重要的，如何把 Vim 集成到你的工作流里，让它成为一件称手的工具，来进行高效的编辑。

### 04. 课程学习要求

我对这门课程的定位是零基础课，哪怕你以前没有用过 Vim ，也完全可以上手。这个课程不是 Vim 的百科全书，不会把 Vim 的所有命令选项，不管有用没用，全部都教给你。这是一个「新」教程，里面讲述的版本、很多技巧和插件是最近几年才有的，甚至是我在写专栏的时候才发现的。这也是一个面向实践者的教程，会让一个需要或想要使用 Vim 的开发者，从入门到精通，学会高效地使用 Vim 完成程序或其他文本文件的编辑。

虽然课程定位是零基础，但这并不意味着我对你没有任何要求。我仍然要求你在学习课程前：1）熟悉你使用的平台上的包管理器（yum、apt、brew 等；仅类 Unix 环境），知道如何完成程序的安装和卸载；2）安装了 Git，并对 Git 操作有基本的概念（不要求熟练掌握，因为我会给出大部分情况下需要的命令）；3）有一颗勇于探索的心，愿意花点力气把手里的「武器」打造得更为好用、称心。

使用 Vim 有不同的场景。在我设想的环境里，你是一个程序员，但我不对语言作出要求。课程的大部分内容完全是语言无关的，无论你使用什么编程语言开发，都应该可以获得有用的知识。不过，如果你使用 C、C++ 或 Python 进行开发，你可以得到一些额外的福利，因为这些是我主要使用的语言。这三个语言的额外重要性在于，Vim 的插件有可能会用到这三种语言。

### 黑板墙

完全用 vim 做开发工具有两年了，之前的很多年都只是用它来看日志。看过 《vim 实用技巧 》《the viml primer》《modern vim》。最后，还是看中文的收获最大（因为看的懂）。作者回复：嗯，是的，中文资料比英文资料还是缺了不少。2020-07-20

vim 是很强大，不过模式切换带来的中英文切换有点搞心态，有没有什么解决办法呢？作者回复：估计你是 Windows 上没有装一个纯英文的输入法？我是一定要装一个美国键盘用来写程序，而不是在中文输入法中用 Shift 来切换 —— 那很不可靠的。2020-07-24

macOS 终端有一个简易教程，终端输入 vimtutor 即可。作者回复：所有平台都有的。2020-07-21

Vim 有没有 JavaScript 或 Typescript 语言相关插件。前端程序员来报道。作者回复：https://github.com/neoclide/coc.nvim。2020-07-20

作者回复：这两本新一点：1）Neil, Drew. 2015. Practical Vim, 2nd ed. O’Reilly. 中文版：杨源、车文隆译《Vim 实用技巧》，人民邮电出版社，2014（第一版），2016（第二版）。2）Osipov, Ruslan. 2018. Mastering Vim. Packt. 中文版：王文涛译《Vim 8 文本处理实战》，人民邮电出版社，2020。2020-07-20

2『已下载书籍「2020154Vim实用技巧1Ed | 2020154Practical-Vim」，中文版目前只有第一版，可以先看英文的第二版，另外这本书排版给我的感觉很好；第二本书微信读书上有中文版，但稍微读了一些，感觉一般般，目前没有下载。回复：得到上的电子书库里有「2020154Vim实用技巧2Ed」，哈哈（2020-09-23）。』

挺喜欢用 vim 的，几个月前折腾了一下，比如整了一个 molokai 配色，剩下的都是高亮当前行、高亮当前列、显示 tab 和空格之类的小细节，前几天刚看完的正则表达式入门课也是在 vim 末行模式练习的，然后别的就不会什么了。作者回复：高亮当前行列有助于写，不有助于读。鉴于程序员读代码的时间通常比写长，我一般不用这样的设定。意见仅供参考。2020-07-20

一直没把 vim 用的很熟练，也是很遗憾，希望能在老师这里把 vim 发展成为我的主要编辑器，之前看到一个大佬用 vim 写笔记的，是真的厉害。作者回复：学习用好是对的。但不要把工具神圣化了。编程语言比编辑器重要，你做什么又比编程语言重要。2020-07-28

C 和 Python 程序员路过，期待老师 C 语言高效工作流中的最佳实践，以及如何一套配置玩转 C 和 python 两种语言的最佳实践。作者回复：嗯，C 和 Python 都是没问题的，我一直在用。2020-07-25

作为一个一直使用 vim 的重度用户来说，我是来支持一下老师的，我也是一个 vim 传播的使者！希望老师讲的更好！听的人越来越多！当你熟悉了 vim，就大半只脚加入了 Linux 的世界....shell，python，c 语言，都可以在 vim 下快速编辑...vim 不仅是编辑器，更是你操作 Linux 的入口之一。作者回复：对的。这也算是一个 Unix 传统工具了。2020-07-22

作者回复：嗯，批量、快速地改文本是 Vim 的强项。2020-07-22

最近准备搞 Java，以前弄过一次，用 VIM 写 Java 感觉好卡，也不知道是什么原因。作者回复：某个插件引起的吧？纯 Vim 本身、没有第三方插件的话，无论如何卡跟 Vim 是很难挂钩的。2020-07-21

作者回复：我会在课程里用 Git 跟踪配置文件的整体变化过程，跟课程结合，你基本上会知道每行做什么。2020-07-21

感觉 vim 对于 cpp 代码支持如何，有哪些好用的插件。作者回复：很好啊。后面我会讲的。主要是 YouCompleteMe，但安装和配置都不是一两句话都说清楚的。2020-07-21

## 0001导读Vim就是唯快不破.md

### 1.1 缘起

当时正值第一波互联网浪潮，我刚毕业不久，一如现在的热血青年，投身到互联网的大熔炉中。我所在的公司叫洪恩教育，公司里聚集了很多清华北大的同学，技术牛人扎堆，大家清一色使用 Vim 在服务器端编程，语法高亮都不设，内部 BBS 也是水木清华那种，通过终端访问，非常极客。走进办公室一眼望去，满目皆是黑漆漆的屏，绿瓦瓦的字，每个人都在那里噼噼啪啪地敲击键盘，韵律十足，我想，这简直酷毙了。

我最初还在使用 Editplus 编程，隶属菜鸟帮。别人的开发、编译和发布环境都在服务器端，而我则需要在本地编写好程序，通过 Editplus 的 ftp 功能上传到服务器端，再进行调试、测试和发布，不仅麻烦，而且不够酷。

那时候不酷是不行的，我这种行为遭到了小伙伴的无情嘲讽，于是我把愤怒都发泄在键盘上，每天在满天星斗的夜色中学习 Vim 技法，在清晨的微光中编译 Linux 内核，上午敲打键盘输出 Perl 程序，中午吃完五又四分之一口米饭之后开始研习 Vim 的多窗口和标签……

那时候我住在公司，时间充裕到让你不好意思不学习，虽然 Vim 资料匮乏，但我周边都是牛人啊，随时随地请教，不断练习，很快小有所成，编码时鼠标锁进抽屉，双手敲击键盘上下翻飞，成就感十足。我对语法高亮情有独钟，经常把自己的界面配置得花花绿绿，没事看看也是一件乐事。

自此以后，我就与 Vim 结下不解之缘，十几年过去了，工作中一直没有离开过 Vim，断断续续一直在用。到了 2009 年，我开始把工作环境完全切换到了 Mac 上，记得当时打开 Mac 的终端时，欣喜若狂地想，这不就是 Vim、Shell 和 IDE 的完美集成么？

### 1.2 场景

在不同的场景下应该采用最适合的工具，这时就会有人问了，Vim 适合什么场景呢？简单说来，Vim 比较适合 Unix/Linux 服务器端编程，如果你使用 Mac 电脑，Vim 是直接集成在你的终端环境中的，用起来十分方便。我以前用 Vim 主要用来进行 Shell/Python/C 编程。在 Unix/Linux 服务器端编辑和修改文件也离不开 Vim，另外由于我个人工作环境是 Mac，所以修改文本文件、Code Reiview、批量替换文件、比对文件等工作，用 Vim 顺手就做了。

写 Java 程序、前端 HTML/CSS/JS、Objective-C 和 Swift，最优方案依次是 IDEA、VS Code、XCode 等，这些优秀的工具可以帮助我们提升效率，减少错误，但是如果你还想更进一步，那么 Vim 绝对值得拥有。

### 1.3 历史

Vim 源于 vi，但不是 vi，vi 作为计算机的文本编辑器历史极为悠远，它是由美国计算机科学家比尔·乔伊编写并于 1976 年发布的，同年苹果公司成立。比尔·乔伊是 Sun 公司的联合创始人和首席科学家，一位传奇的技术天才，我个人以为他最伟大的贡献是独立编写 BSD 操作系统，开发 vi 编辑器，创立 Sun 公司，当然，他还是 Java 语言的主要贡献者之一，任何人有幸完成其中一项工作已经足以名垂计算机发展史，而乔伊则通过一己之力完成了这些科技成果，推动了整个计算机科技的发展。

Vim 诞生得要晚一些，它的第一个版本由布莱姆·米勒在 1991 年发布，这个兄弟也是一位声名显赫的程序员，80 年代买了一台 Amiga 电脑，打开电脑一看，米勒鼻子差点气歪了，居然没有他最常用的 vi 编辑器！对于米勒来说这是不可接受的。

愤怒的米勒决定自己开发一个文本编辑器，完全复制 vi 的功能，并起名为 Vi IMitation（模拟）。事实证明，优秀的程序员都具备这种品质，感到不爽了，就会写出个什么东西，要么完善一下，要么创新一下，要么是你写，要么是我写，于是很多伟大的软件程序就发明出来了。随着 Vim 的不断发展，更多更好的功能被加了进来，正式名称改成了 Vi IMproved（增强），也就形成了现代的 Vim，目前最新的稳定版本是 8.2，Vim 的开发语言是 C 和 VimScript。

### 1.4 理念

Vim 是一款完全面向程序员的软件，我很少见到用 Vim 编辑文字的普通用户，如果你是，一定要告诉我。写过程序的人都知道，编程的时候双手大部分时间都放在键盘上，或编码、或插入、或移动、或定位、或查找，这种连续操作的时间和频率远远大于阅读、翻页、设置字体、摆弄样式等文案工作，而二者往往产生很多停顿和间隙，而编程时的停顿是非常影响编程效率的，所以 Vim 的设计理念就是通过模式的转换、命令的组合和数以万计的插件，保证程序员在编程的过程中，双手尽可能保留在键盘中央的区域，并且，不需要鼠标。

想用好 Vim，先要理解 Vim 的模式转换。Vim 常用的模式有四种：1）普通模式：Vim 启动后的默认模式，用来移动光标、删除文本、覆盖输入文本、恢复操作、粘贴文本等等。2）插入模式：输入 i 或 a 进入插入模式，在这个模式下敲击键盘会往文字缓冲区增加文字，相当于普通编辑器的编辑模式。3）可视模式：选择文本，可以行选、块选和依次选择，选择后可以进行复制、删除、排序等操作。4）命令模式：执行内部和外部命令，通过「:」「/」「?」「:!」可以进入命令模式，分别对应的是：执行内部命令、向上或向下搜索、执行外部命令。

Vim 的模式和普通的编辑器有所不同，而且命令繁多千变万化，所以初期的学习曲线较高，一旦你坚持练习并且度过了最早的平台期，就会领略 Vim 的妙和全键盘的好。事实上 Vim 除了能够快速编辑文本文件之外，还能够通过简单的命令做更多的事情。

### 黑板墙

如果是 java 的话，是不是就只能使用 IDE 中的插件了。作者回复: Vim 能支持 Java 的。如果你要自动完成的话，YouCompleteMe 插件可以编译出相应的支持。2020-07-20

新手程序员，用 shell 在服务器开发，vim 确实快。自己安了几个花花绿绿的插件，本来还挺开心的。结果，某日和组长一起看问题，跟变量跳转几次就找不到了。被组长说水平不够，不会用就别用，老老实实的改用 source insight。作者回复：商业软件有商业软件的强项，也毋庸置疑。用来阅读，SI 总体不错，但我了解有下面的缺点（不知道最新版本是不是全解决了）：1）对 UTF-8 自动识别有问题。2）对现代 C++ 支持不够好。3）如果编码识别出问题，改文件极易导致所有非 ASCII 字符紊乱。直接编辑不够高效我就不用提了吧。2020-07-25

Emacs 是一个伪装成编辑器的操作系统。不论是 Arch, Ubuntu, CentOS 还是 MacOS，他们都是我 Emacs 的加载系统。作者回复：哈哈，唯一的问题是编辑器不咋地，所以需要 evil 模式。2020-07-22

在使用 vim 之前，我也是用的 editplus。它需要通过 ftp 把文件下载回来和把修改上传上去，文件大了传输耗时就很长。在准备购买 mac，使用 mosh 时，才下定决心完全使用 vim 做开发。作者回复：哈哈，我最早用的也是 EditPlus。这东西现在应该没了吧？2020-07-20

## 0002结束语Vim森林探秘一切才刚刚开始.md

### 2.1 学习的度

对于一个持续发展了 30 年的编辑器，我们显然不可能在一门短小精悍的课程里完整地覆盖它的所有功能。不过，我从来就没打算介绍 Vim 的一切。如果把 Vim 比作一片大森林，我只是一个导游，为你制定了一条旅游路线，带你绕过沼泽地和陷阱，攀上了几座峰顶，让你能够领略到若干美景。如果想在林中长久地居住下去，熟稔各条秘径，你仍然要靠自己去探索。

Vim 的作者 Bram 这么告诫人们不要走到两个极端上去 [Moolenaar 2007]：1）你需要马上把文本准备好。所以没有时间读文档或学习新命令。—— 你会一直使用原始的命令。2）你想学编辑器提供的所有功能，并在任何时候都能使用最高效的命令。—— 你会浪费很多时间学习很多你永远不会用到的东西。

前者的问题很明显，如果你不学习，那你只能使用初级的功能，所以效率一定很低。后者的问题可能不那么明显了：实际上，除了多花时间之外，你很难培养出良好的习惯，形成「肌肉记忆」。而这，恰恰是高效工作的关键之一 —— 不需要想，就知道怎么做，从而可以把头脑和精力投入到更重要的问题上。在这个课程里，我也只是告诉你基本的原则和技巧，并培养你基本的编辑习惯。回头，在遇到实际问题时，你会需要使用搜索引擎、讨论组等工具来找到问题的答案。

### 2.2 学习、积累和分享

我学习 Vim，原本是处于 Linux 下开发的需要，而后慢慢成为一种习惯。回过头来看，Vim 就和 Unix 一样，老而弥坚，经久不衰，不管时代怎样变化，它们却一直没有过时。而同时代我用过的其他 Windows 上的编辑器，如 EditPlus 和 UltraEdit，现在虽然都还在，但是应该已经很少有人提起了吧……

经过几年的学习和使用，我居然也就可以给别人分享我的经验了。我先是在 IBM developerWorks 上发了一系列的三篇 Vim 文章，后面又在 SHLUG（Shanghai Linux User Group）的活动中分享了我的 Vim 使用经验。事后，我在网上看到别人觉得我这个分享做得最好，也是非常的欣慰。

### 2.3 高效编辑的诀窍

现在回到 Vim。我们来考虑一下这个「元」问题：怎么样可以进行高效的编辑？事实上，Bram 早就回答过这个问题了。这跟一般的效率改进计划没有本质的区别。我们要做的是：1）发现低效的根源。2）找出更快的方法。3）形成新的习惯。Vim 的功能也是围绕着这样的模式开发出来的。

比如，我们要找出当前文件中某个符号的使用，在任何编辑器里，都会提供一个搜索的功能。但每次都使用搜索，实际上也是有点麻烦的。Vim 里的 * 搜索键和搜索加亮，这两个你目前应当已经习以为常的功能，就是为了解决这种低效而诞生的。而对你，现在更快的方法，就是在配置中启用搜索加亮（目前我们的基本配置里已经启用），并使用 * 来搜索光标下的单词。

又比如，我们有一个非常长的函数名，打起来又费力又容易出错。这时候，我们需要找出更快的方法，那就是自动完成。Vim 内置的改进方法是 `<C-N>` 和 `<C-P>` 命令。而我们学到现在的就该知道，YCM 还提供了更现代的模糊完成引擎。用好内置命令，或安装合适的插件，就是我们需要形成的新习惯。

说到这儿，你也看到了，不仅我们的课程不是高效编辑的终点，而且就连 Vim 也不是。Vim 一直在发展，但有人嫌 Vim 发展得不够激进，另外搞了 Neovim。我们这个课程完全没有讨论 Neovim，主要是不想在一个已经很复杂的课题上再增加复杂性（同时也是因为 Neovim 虽然看起来势头不错，但远没到可以尘埃落定、一定会在将来替代 Vim 的程度，再加上两者并不完全兼容…… 反过来，Neovim 倒是刺激 Vim 更快地添加新功能了）。

抛开 Neovim 不谈，我们还有插件：正是这些辛勤的插件作者，才使得 Vim 真正更为强大，成为一个特别高效的编辑器。就像上面讨论的，有了 YCM，我们找到了一个比 Vim 内置功能更加简单、直观、高效的方法。我们也应该去用好这样的新工具，提升自己的工作效率。要提高自己的编辑效率，需要时时刻刻注意自己有哪儿效率特别低，出现了不必要的重复，然后找到更好的办法来改进，并确保自己形成新的习惯。

这个新的习惯是什么呢？可以是掌握了 Vim 里的一个之前不熟悉的功能，可以是用上了一个新的插件，也可以是…… 为 Vim 社区贡献一个新的插件！这也恰恰是我在开篇词里提到的「懒惰」。所谓懒惰，就是我们要不让自己做低效的重复工作。而要不做低效的重复工作，我们就需要开动自己的脑子，监测自己的工作方式，找出问题点，予以改进，并坚持下去。懒惰的手段就是高效；反过来说也可以，高效的目的就是懒惰。期待你在 Vim 森林里找出自己的「传送门」，能够慵懒地一抬腿，就飞速到达任何自己想去的地方。

### 参考资料

作为写作的基本规矩，我最后列一下我参考过的资料（插件和之前文中直接给出的链接则不再重复）。希望它们也能帮到你，让你在下面的旅途中再上一层楼：

Allen, Leo. 2016.「[Why Vim is so much better than Atom | by Leo Allen | Makers](https://blog.makersacademy.com/why-vim-is-so-much-better-than-atom-4e8253e6f605)」.

Arthur, Barry. 2014.「[Wholly Unbalanced Parentheses: Learning the Tool of Vim](http://of-vim-and-vigor.blogspot.com/2014/08/learning-tool-of-vim.html)」.

Bringhurst, Robert. 2012. The Elements of Typographic Style, 4th ed. Hartley & Marks Publishers.

Irwin, Conrad. 2013.「[bracketed paste mode](https://cirw.in/blog/bracketed-paste)」.

Kochkov, Anton. 2019.「[True Colour (16 million colours) support in various terminal applications and terminals](https://gist.github.com/XVilka/8346728)」.

Leonard, Andrew. 2000.「[BSD Unix: Power to the people, from the code | Salon.com](https://www.salon.com/test/2000/05/16/chapter_2_part_one/)」.

Moolenaar, Bram. 2000.「The continuing history of Vim」.

Moolenaar, Bram. 2002.「[vim: the popular text editor](http://www.free-soft.org/FSM/english/issue01/vim.html)」.

Moolenaar, Bram. 2007.「7 habits for effective text editing 2.0」. YouTube video.

Moolenaar, Bram. 2018.「Vim: Recent developments」.

Neil, Drew. 2015. Practical Vim, 2nd ed. O’Reilly. 中文版：杨源、车文隆译《Vim 实用技巧》，人民邮电出版社，2014（第一版），2016（第二版）。

Neil, Drew. 2018. Modern Vim: Craft your development Environment with Vim 8 and Neovim. Pragmatic Bookshelf. 中文版：死月译《精通 Vim：用 Vim 8 和 Neovim 实现高效开发》，电子工业出版社，2020。

Ornbo, George. 2019.「[Vim: you don't need NERDtree or (maybe) netrw | George Ornbo](https://shapeshed.com/vim-netrw/)」.

Osipov, Ruslan. 2018. Mastering Vim. Packt. 中文版：王文涛译《Vim 8 文本处理实战》，人民邮电出版社，2020。

Robbins, Arnold, Elbert Hannah, and Linda Lamb. 2008. Learning the vi and Vim Editors, 7th ed. O’Reilly.

Salus, Peter H. 1994. A Quarter Century of UNIX. Addison-Wesley.

Schneider, Peter A. 2018. Answer to「[linux - How do I disable the weird characters from "bracketed paste mode" on the Mac OS X default terminal? - Stack Overflow](https://stackoverflow.com/questions/42212099/how-do-i-disable-the-weird-characters-from-bracketed-paste-mode-on-the-mac-os/50654284#50654284)」.

Stack Overflow. 2015.「[Stack Overflow Developer Survey 2015](https://insights.stackoverflow.com/survey/2015#tech-editor)」.

Stack Overflow. 2019.「[Stack Overflow Developer Survey 2019](https://insights.stackoverflow.com/survey/2019#development-environments-and-tools)」.

Target, Sinclair. 2018.「[Where Vim Came From](https://twobithistory.org/2018/08/05/where-vim-came-from.html)」.

Vance, Ashlee. 2003.「[Bill Joy's greatest gift to man – the vi editor • The Register](https://www.theregister.com/2003/09/11/bill_joys_greatest_gift)」.

[welcome home : vim online](https://www.vim.org/).

Wikipedia.「Berkeley Software Distribution」、「Bill Joy」、「ex (text editor)」、「Version 6 Unix」、「vi」、「Vim」、「Visual editor」。

2『上面的资料作为附件，已下载的有「0403 附件3-The-continuing-history-of-Vim」、「0404附件4-habits-for-effective-text-editing-2007」、「0405附件5-Vim-Recent-developments-2018」。』

### 黑板墙

才发现《精通 Vim：用 Vim 8 和 Neovim 实现高效开发》今年3月都已经出版了。2020-09-11

我在 2011 年的时候，从《程序员的修炼之道》这本书中知道了 vi 编辑器之后，花了不少时间折腾。虽然从未把 vi 真正搞成自己的 IDE，但实实在在的，一直在 IDE 中（主要是 idea）使用 vim 模拟器。我买这门课的目的是想了解一下，真正把 vim 当 IDE 的人是怎样做的。

学完以后，还是让我感到一点惊讶，现在 vim 的生态发展比之前花时间折腾的时候已经好了太多。要想直接把 vim 配置到替代 idea 大概不太可能，但是做到能够代替 sublimetext 或者 vscode 的程度，可行性还是非常高的。对于我来讲，严肃的编程还是得靠 idea，但时常会用 sublimetext （vim 模拟器）去完成一些简单的任务。看起来这些简单的任务，未来完全可以用 vim 更加高效的完成。非常感谢作者的分享，让我对 vim 进行配置和使用，有了更系统性的认识。

作者回复：嗯，JetBrains 家的东西做得确实好。我虽然主要用 Vim 来开发 C++，但写严肃的 Python 项目代码时我还是经常打开 PyCharm。2020-09-21

虽然现在用的是 emacs、spacemacs 用的是 emacs 的按键，但编辑器（IDE）面对的问题都是类似的，很多解决问题的方法都是通用的。关于编辑器我有一点体会是：你最终会在 Vim 和 Emacs 之间不再纠结（也许还有 sublime，atom，vs code 等），选择一个自己的最爱，把使用时所有遇到的问题，都在这个编辑器里配好、改进，并一直用下去，用到最好。选你所爱，爱你所选！作者回复：欢迎 Emacs 党。不过，这两个要精通一个都不容易啊，再加设计哲学都有点区别。双修还是很费力气的，当然，搞好了就很牛。2020-09-11

回看这个专栏，自己的收获真的不小，比如掌握了 vim 脚本的基本配置方法，了解了一些高效便捷的指令组合，也跟着老师知道了很多很便捷的插件，另外自己还尝试阅读了一些 VIM 源码。让我收获最大的还是专栏通过各种常见的例子，很清楚地展示一些指令和插件的应用场景，知道了一个指令或插件为什么会比一般的编辑方法更高效，再加上老师每次的耐心解答，像我这种 VIM 新人都感受到了 VIM 的强大。除了高效编辑，感觉 VIM 给我们带来了很多额外的好处，比如增加了操作命令行的熟练度，最重要的还是 VIM 让人变得更加「懒惰」，时刻想着如何改进脚本让自己能够更方便地去写程序，给自己留足了想象和创作的空间。看来自己的 VIM 之路才刚开始。2020-09-13

虽然之前看过《Vim 实用技巧》/《Vim8 文本实战处理》，但是这个专栏才真正打通了我使用 Vim 的任督二脉。以前自己的 vimrc 参考了 Github 上一些 Vim 插件作者的配置，很多配置只是人云亦云，现在有了一份自己的精简的 vimrc，对其中的每一项配置都了然于胸。对于发现不高效的地方，还可以自己写 VimL 改进效率。2020-09-11

个人觉得 Vim 作为 IDE 而言功能还是薄弱了些，毕竟原本定位就只是编辑器。而很多传统的使用场景如运维连上远程服务器改配置，或是在服务器上进行简单的远程开发和调试等，也随着自动化运维以及 WebIDE 技术的发展逐渐减少。但 Vim 的高效编辑键位作为一种遗产保留了下来，在很多主流 IDE 中都可以通过插件方式支持。既然离不开现有的 IDE，仅仅通过熟练掌握 Vim 的键位也可以显著提高效率。但很多操作是键位表上没有的，这门课起到了很好的补充。作者回复：也是一种用法吧…… 对我来说，用 Vim 配插件可以更好地做到跟编译环境一致的代码理解。如果做 Linux 开发，用 Windows 的 IDE，虽然也能配到完全理解代码，我感觉这个配置反而也很复杂。而且在 Vim 里更能控制一切，开销还能比较低。2020-09-11